/*! For license information please see comments.js.LICENSE.txt */
(()=>{var __webpack_modules__={6610:(e,t,n)=>{"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{default:()=>r})},5991:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,{default:()=>o})},6156:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{default:()=>r})},484:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,{default:()=>r})},360:(e,t,n)=>{"use strict";n.d(t,{getFunctionName:()=>o});var r="<anonymous>";function o(e){try{return e&&"function"==typeof e&&e.name||r}catch(e){return r}}},4022:(e,t,n)=>{"use strict";n.d(t,{default:()=>h});var r=n(7294),o=n(7854),a=n.n(o),i=n(8091),s=n(4777),l=n(9333),u="0 0 16 16",c="videocam_16",d=!1;function _(){d||((0,s.addSpriteSymbol)(new(a())({id:c,viewBox:u,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="videocam_16"><path fill-rule="evenodd" clip-rule="evenodd" d="M4 3.75a2 2 0 00-2 2v4.5a2 2 0 002 2h5a2 2 0 002-2v-4.5a2 2 0 00-2-2H4zm11 2.2a.454.454 0 00-.103-.286c-.171-.21-.53-.19-.723-.095-.193.095-1.571.788-1.571.788a.233.233 0 00-.103.191v2.88c0 .075.038.145.103.19 0 0 1.097.548 1.571.789.434.22.826.033.826-.382V5.951z" fill="currentColor" /></symbol>'})),d=!0)}var p=function(e){return(0,s.useIsomorphicLayoutEffect)((function(){_()}),[]),r.createElement(l.SvgIcon,(0,i.assign)({},e,{viewBox:u,id:c,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};p.mountIcon=_;const h=p},3024:(e,t,n)=>{"use strict";n.d(t,{default:()=>h});var r=n(7294),o=n(7854),a=n.n(o),i=n(8091),s=n(4777),l=n(9333),u="0 0 24 24",c="cancel_24",d=!1;function _(){d||((0,s.addSpriteSymbol)(new(a())({id:c,viewBox:u,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="cancel_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path d="M18.3 5.7a.99.99 0 00-1.4 0L12 10.6 7.1 5.7a.99.99 0 00-1.4 1.4l4.9 4.9-4.9 4.9a.99.99 0 001.4 1.4l4.9-4.9 4.9 4.9a.99.99 0 001.4-1.4L13.4 12l4.9-4.9a.99.99 0 000-1.4z" fill="currentColor" /></g></symbol>'})),d=!0)}var p=function(e){return(0,s.useIsomorphicLayoutEffect)((function(){_()}),[]),r.createElement(l.SvgIcon,(0,i.assign)({},e,{viewBox:u,id:c,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};p.mountIcon=_;const h=p},902:(e,t,n)=>{"use strict";n.d(t,{default:()=>h});var r=n(7294),o=n(7854),a=n.n(o),i=n(8091),s=n(4777),l=n(9333),u="0 0 24 24",c="error_circle_outline_24",d=!1;function _(){d||((0,s.addSpriteSymbol)(new(a())({id:c,viewBox:u,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="error_circle_outline_24"><path d="M12 0c6.627 0 12 5.373 12 12s-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0zm0 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm0 14a1.333 1.333 0 110 2.667A1.333 1.333 0 0112 16zm.324-10.667a1 1 0 011 1.037l-.266 7.276a1.059 1.059 0 01-2.116 0l-.265-7.276a1 1 0 01.963-1.036h.684z" fill="currentColor" /></symbol>'})),d=!0)}var p=function(e){return(0,s.useIsomorphicLayoutEffect)((function(){_()}),[]),r.createElement(l.SvgIcon,(0,i.assign)({},e,{viewBox:u,id:c,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};p.mountIcon=_;const h=p},5653:(e,t,n)=>{"use strict";n.d(t,{default:()=>h});var r=n(7294),o=n(7854),a=n.n(o),i=n(8091),s=n(4777),l=n(9333),u="0 0 24 24",c="menu_outline_24",d=!1;function _(){d||((0,s.addSpriteSymbol)(new(a())({id:c,viewBox:u,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="menu_outline_24"><path d="M21 11H3a1 1 0 100 2h18a1 1 0 100-2zm0-7H3a1 1 0 000 2h18a1 1 0 100-2zM3 20h18a1 1 0 100-2H3a1 1 0 100 2z" fill="currentColor" /></symbol>'})),d=!0)}var p=function(e){return(0,s.useIsomorphicLayoutEffect)((function(){_()}),[]),r.createElement(l.SvgIcon,(0,i.assign)({},e,{viewBox:u,id:c,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};p.mountIcon=_;const h=p},1536:(e,t,n)=>{"use strict";n.d(t,{default:()=>h});var r=n(7294),o=n(7854),a=n.n(o),i=n(8091),s=n(4777),l=n(9333),u="0 0 24 24",c="more_horizontal_24",d=!1;function _(){d||((0,s.addSpriteSymbol)(new(a())({id:c,viewBox:u,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="more_horizontal_24"><g fill="none" fill-rule="evenodd"><path d="M24 0H0v24h24z" /><path d="M18 10c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm-6 4c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm-6 0c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z" fill="currentColor" /></g></symbol>'})),d=!0)}var p=function(e){return(0,s.useIsomorphicLayoutEffect)((function(){_()}),[]),r.createElement(l.SvgIcon,(0,i.assign)({},e,{viewBox:u,id:c,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};p.mountIcon=_;const h=p},1114:(e,t,n)=>{"use strict";n.d(t,{default:()=>h});var r=n(7294),o=n(7854),a=n.n(o),i=n(8091),s=n(4777),l=n(9333),u="0 0 24 24",c="narrative_active_outline_24",d=!1;function _(){d||((0,s.addSpriteSymbol)(new(a())({id:c,viewBox:u,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="narrative_active_outline_24"><path d="M14.298 1.435c.732.17 1.377.543 1.891 1.092.521.556.825 1.145 1.151 2.298l.79 2.944a1 1 0 11-1.931.518l-.72-2.69-.113-.401c-.215-.729-.377-1.024-.636-1.302a1.726 1.726 0 00-.887-.512c-.37-.086-.707-.078-1.445.1l-.405.104L6.866 4.96c-.854.228-1.254.394-1.51.583l-.06.047-.134.119c-.26.243-.43.539-.512.886-.093.4-.076.763.148 1.638l2.723 10.17.113.401c.215.729.377 1.024.636 1.302.244.26.54.43.887.512.401.093.745.076 1.607-.14a1 1 0 11.487 1.94c-1.148.288-1.805.32-2.549.147a3.726 3.726 0 01-1.891-1.092c-.521-.556-.825-1.145-1.151-2.298L2.922 8.963c-.355-1.324-.405-2.027-.22-2.823a3.722 3.722 0 01.93-1.728l.183-.182.179-.157c.496-.412 1.077-.685 2.091-.973l.263-.072 5.128-1.374c1.323-.355 2.026-.405 2.822-.22zM18.368 11c2 0 3.632 1.592 3.632 3.567 0 1.91-.772 2.851-3.78 5.134l-1.328 1.007c-.527.4-1.257.4-1.784 0l-1.328-1.007C10.772 17.418 10 16.476 10 14.567 10 12.592 11.631 11 13.632 11c.829 0 1.595.224 2.282.66l.086.057.086-.057a4.174 4.174 0 012.036-.653z" fill="currentColor" /></symbol>'})),d=!0)}var p=function(e){return(0,s.useIsomorphicLayoutEffect)((function(){_()}),[]),r.createElement(l.SvgIcon,(0,i.assign)({},e,{viewBox:u,id:c,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};p.mountIcon=_;const h=p},2199:(e,t,n)=>{"use strict";n.d(t,{default:()=>h});var r=n(7294),o=n(7854),a=n.n(o),i=n(8091),s=n(4777),l=n(9333),u="0 0 24 24",c="write_24",d=!1;function _(){d||((0,s.addSpriteSymbol)(new(a())({id:c,viewBox:u,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="write_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path d="M14.188 6.273l3.54 3.54-8.624 8.622a6.674 6.674 0 01-2.77 1.664l-2.903.886a.334.334 0 01-.416-.416l.886-2.902a6.674 6.674 0 011.664-2.771l8.623-8.623zm1.061-1.06l1.769-1.77a1.5 1.5 0 012.121 0l1.418 1.419a1.5 1.5 0 010 2.121L18.79 8.752l-3.54-3.54z" fill="currentColor" /></g></symbol>'})),d=!0)}var p=function(e){return(0,s.useIsomorphicLayoutEffect)((function(){_()}),[]),r.createElement(l.SvgIcon,(0,i.assign)({},e,{viewBox:u,id:c,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};p.mountIcon=_;const h=p},7083:(e,t,n)=>{"use strict";n.d(t,{default:()=>h});var r=n(7294),o=n(7854),a=n.n(o),i=n(8091),s=n(4777),l=n(9333),u="0 0 28 28",c="add_outline_28",d=!1;function _(){d||((0,s.addSpriteSymbol)(new(a())({id:c,viewBox:u,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="add_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path d="M14 4a1 1 0 011 1v8h8a1 1 0 010 2h-8v8a1 1 0 01-2 0v-8H5a1 1 0 010-2h8V5a1 1 0 011-1z" fill="currentColor" fill-rule="nonzero" /></g></symbol>'})),d=!0)}var p=function(e){return(0,s.useIsomorphicLayoutEffect)((function(){_()}),[]),r.createElement(l.SvgIcon,(0,i.assign)({},e,{viewBox:u,id:c,width:isNaN(e.width)?28:+e.width,height:isNaN(e.height)?28:+e.height}))};p.mountIcon=_;const h=p},8124:(e,t,n)=>{"use strict";n.d(t,{default:()=>h});var r=n(7294),o=n(7854),a=n.n(o),i=n(8091),s=n(4777),l=n(9333),u="0 0 36 36",c="add_36",d=!1;function _(){d||((0,s.addSpriteSymbol)(new(a())({id:c,viewBox:u,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36" id="add_36"><g fill="none" fill-rule="evenodd"><path d="M0 0h36v36H0z" /><path d="M19.5 19.5v9a1.5 1.5 0 01-3 0v-9h-9a1.5 1.5 0 010-3h9v-9a1.5 1.5 0 013 0v9h9a1.5 1.5 0 010 3h-9z" fill="currentColor" /></g></symbol>'})),d=!0)}var p=function(e){return(0,s.useIsomorphicLayoutEffect)((function(){_()}),[]),r.createElement(l.SvgIcon,(0,i.assign)({},e,{viewBox:u,id:c,width:isNaN(e.width)?36:+e.width,height:isNaN(e.height)?36:+e.height}))};p.mountIcon=_;const h=p},6854:(e,t,n)=>{"use strict";n.d(t,{IconSettingsContext:()=>o});var r=n(7294);var o=(0,r.createContext)({})},9333:(e,t,n)=>{"use strict";n.d(t,{SvgIcon:()=>d});var r=n(7294),o=n(6854);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c={display:"block"};var d=function(e){var t=e.width,n=e.height,i=e.viewBox,l=e.id,d=e.className,_=e.style,p=e.fill,h=e.getRootRef,m=e.Component,f=u(e,["width","height","viewBox","id","className","style","fill","getRootRef","Component"]),v=Math.max(t,n),g=(0,r.useContext)(o.IconSettingsContext),y=function(e,t){for(var n=t.classPrefix,r=t.globalClasses,o="",a=0;a<e.length;a++)n&&(o+=" "+(n+e[a])),n&&!r||(o+=" "+e[a]);return o}(["Icon","Icon--".concat(v),"Icon--w-".concat(t),"Icon--h-".concat(n),"Icon--".concat(l)],g);return r.createElement(m,a({role:"presentation"},f,{ref:h,className:"".concat(y," ").concat(d),style:s(s({},_),{},{width:t,height:n})}),r.createElement("svg",{viewBox:i,width:t,height:n,style:c},r.createElement("use",{xlinkHref:"#".concat(l),style:{fill:"currentColor",color:p}})))};d.defaultProps={Component:"div",className:"",style:{}}},4777:(e,t,n)=>{"use strict";n.d(t,{addSpriteSymbol:()=>c,useIsomorphicLayoutEffect:()=>d});var r,o=n(2548),a=n.n(o),i=n(7294),s=!("undefined"==typeof window||!window.document||!window.document.createElement);if(s){var l="__SVG_SPRITE_NODE__";r=new(a())({attrs:{id:l}});var u=function(){var e=document.getElementById(l);e?r.attach(e):r.mount()};document.querySelector("body")?u():document.addEventListener("DOMContentLoaded",u)}else r=null;function c(e){r&&r.add(e)}var d=s?i.useLayoutEffect:i.useEffect},6624:function(e){e.exports=function(){"use strict";var e=function(){return(e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},t=1,n=7,r=96*t,o=96*t,a=25,i=function(e,t,r,o,i){if(e<n&&t<n)return!1;if(e>=r-n&&t<n)return!1;if(e<n&&t>=r-n)return!1;if(i){var s=n+2;r<=a&&s--;var l=(r-2*n-s)/2-1;return r<=a&&l++,!(e>n+l&&e<r-n-l-1&&t>n+l&&t<r-n-l-1)&&0<=e&&e<r&&0<=t&&t<r&&o[t][e]}return o[t]&&o[t][e]},s=function(e,t,n,r,o){return void 0===o&&(o=!0),{l:i(e-1,t,n,r,o),r:i(e+1,t,n,r,o),t:i(e,t-1,n,r,o),b:i(e,t+1,n,r,o),current:i(e,t,n,r,o)}},l=function(e,l){if("number"!=typeof l.qrSize)throw new Error("Size should be a number");if("string"!=typeof l.className)throw new Error("Classname should be a string");for(var u=2*t,c=12.7*t,d=12.8*t,_=14.7*t,p=14.8*t,h=15.9*t,m=28.6*t,f=30.5*t,v=84.7776815*t,g=87.3*t,y=71.4*t,w=42.9*t,b=87.2*t,E=85.2*t,C=85.3*t,D=69.5*t,k=98*t,P=100*t,x=[],T=0,S=0,B=0,O=0,M=0;M<e.size;M++){T=0;for(var L=0;L<e.size;L++){B=L+T,T+=r,O=M+S;var I=s(L,M,e.size,e.modules,l.isShowLogo),A="",N="";I.current?(N=!(N=N||I.l||I.r||I.t||I.b?"":"empty")&&I.l&&I.r||I.t&&I.b?"rect":"")||(N+=I.l?"l":I.r?"r":"",(N+=I.t?"t":I.b?"b":"")||(N="empty")):N=!(N=!(N=!(N=!N&&I.l&&I.t&&i(L-1,M-1,e.size,e.modules,l.isShowLogo)?"n_lt":"")&&I.l&&I.b&&i(L-1,M+1,e.size,e.modules,l.isShowLogo)?"n_lb":"")&&I.r&&I.t&&i(L+1,M-1,e.size,e.modules,l.isShowLogo)?"n_rt":"")&&I.r&&I.b&&i(L+1,M+1,e.size,e.modules,l.isShowLogo)?"n_rb":"",N&&(A='<use xlink:href="#'+N+"-"+l.suffix+'"/>',x.push('<g transform="translate('+B+","+O+')">'+A+"</g>"))}S+=r}var R="",F=(e.size-3*n)/2*r+r*n-10;e.size<=a&&(R="scale(0.85)",F+=50);var W=(e.size-n)*o;x.push('<use fill-rule="evenodd" transform="translate(0,0)" xlink:href="#point-'+l.suffix+'"/>'),x.push('<use fill-rule="evenodd" transform="translate('+W+',0)" xlink:href="#point-'+l.suffix+'"/>'),x.push('<use fill-rule="evenodd" transform="translate(0,'+W+')" xlink:href="#point-'+l.suffix+'"/>'),l.isShowLogo&&(l.logoData?x.push('\n        <image \n          preserveAspectRatio="xMidYMid slice" clip-path="url(#logo-mask-'+l.suffix+')"\n          style="width: 750px; height: 750px;" width="750" height="750" \n          transform="translate('+F+","+F+") "+R+'" \n          xlink:href="'+l.logoData+'" \n        />\n      '):x.push('\n        <use style="width: 750px; height: 750px;" width="750" height="750" \n          fill="none" \n          fill-rule="evenodd" \n          transform="translate('+F+","+F+") "+R+'" xlink:href="#vk_logo-'+l.suffix+'"\n        />\n      '));var U=99*e.size,j="",H="translate(0,0)";if(l.isShowBackground){var K=(l.qrSize-40)/l.qrSize,V=U/l.qrSize*21;j='\n      <rect \n        x="0" \n        width="'+U+'" \n        height="'+U+'" \n        rx="'+Math.ceil(U/(l.qrSize/36))+'" \n        fill="'+l.backgroundColor+'"\n      />',H="translate("+V+", "+V+") scale("+K+")"}var z="M0,0 L66,0 C"+v+",-3.44940413e-15 "+P+",15.2223185 "+P+",34 L"+P+",66 C"+P+","+v+" "+v+","+P+" 66,"+P+" L0,"+P+" L0,0 Z",q="M0,0 L"+P+",0 L"+P+",66 C"+P+","+v+" "+v+","+P+" 66,"+P+" L0,"+P+" L0,0 Z";return'\n  <svg \n    version="1.1" \n    viewBox="0 0 '+U+" "+U+'" \n    width="'+l.qrSize+'px" \n    height="'+l.qrSize+'px"\n    '+(l.className?'class="'+l.className+'"':"")+' \n    xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n  >\n    <defs>\n      <rect id="rect-'+l.suffix+'" width="100" height="100" fill="'+l.foregroundColor+'"/>\n      <path \n        id="empty-'+l.suffix+'" \n        d="M0,'+m+"v"+w+"C0,"+g+","+d+","+P+","+m+","+P+"h"+w+"c"+h+",0,"+m+"-"+d+","+m+"-"+m+"V"+m+"C"+P+","+c+","+b+",0,"+y+",0H"+m+" C"+d+",0,0,"+d+",0,"+m+'z"\n        fill="'+l.foregroundColor+'"\n      />\n      <path id="b-'+l.suffix+'" d="'+z+'" transform="rotate(-90 50 50)" fill="'+l.foregroundColor+'"/>\n      <path id="r-'+l.suffix+'" d="'+z+'" transform="rotate(-180 50 50)" fill="'+l.foregroundColor+'"/>\n      <path id="l-'+l.suffix+'" d="'+z+'" fill="'+l.foregroundColor+'"/>\n      <path id="t-'+l.suffix+'" d="'+z+'" transform="rotate(90 50 50)" fill="'+l.foregroundColor+'"/>\n      <path id="l-'+l.suffix+'" d="'+q+'" transform="rotate(-90 50 50)" fill="'+l.foregroundColor+'"/>\n      <path id="lt-'+l.suffix+'" d="'+q+'" fill="'+l.foregroundColor+'"/>\n      <path id="lb-'+l.suffix+'" d="'+q+'" transform="rotate(-90 50 50)" fill="'+l.foregroundColor+'"/>\n      <path id="rb-'+l.suffix+'" d="'+q+'" transform="rotate(-180 50 50)" fill="'+l.foregroundColor+'"/>\n      <path id="rt-'+l.suffix+'" d="'+q+'" transform="rotate(90 50 50)" fill="'+l.foregroundColor+'"/>\n      <path \n        id="n_lt-'+l.suffix+'" \n        d="M'+f+","+u+"V0H0v"+f+"h"+u+"C"+u+","+_+","+p+","+u+","+f+","+u+'z" \n        fill="'+l.foregroundColor+'"\n      />\n      <path \n        id="n_lb-'+l.suffix+'"\n        d="M'+u+","+D+"H0V"+P+"h"+f+"v-"+u+"C"+_+","+k+","+u+","+E+","+u+","+D+'z" \n        fill="'+l.foregroundColor+'"\n      />\n      <path \n        id="n_rt-'+l.suffix+'" \n        d="M'+k+","+f+"h"+u+"V0H"+D+"v"+u+"C"+C+","+u+","+k+","+p+","+k+","+f+'z" \n        fill="'+l.foregroundColor+'"\n      />\n      <path id="n_rb-'+l.suffix+'" \n        d="M'+D+","+k+"v"+u+"H"+P+"V"+D+"h-"+u+"C"+k+","+C+","+E+","+k+","+D+","+k+'z" \n        fill="'+l.foregroundColor+'"\n      />\n      <path \n        id="point-'+l.suffix+'" \n        fill="'+l.foregroundColor+'"\n        d="M600.001786,457.329333 L600.001786,242.658167 C600.001786,147.372368 587.039517,124.122784 581.464617,118.535383 C575.877216,112.960483 552.627632,99.9982143 457.329333,99.9982143 L242.670667,99.9982143 C147.372368,99.9982143 124.122784,112.960483 118.547883,118.535383 C112.972983,124.122784 99.9982143,147.372368 99.9982143,242.658167 L99.9982143,457.329333 C99.9982143,552.627632 112.972983,575.877216 118.547883,581.464617 C124.122784,587.027017 147.372368,600.001786 242.670667,600.001786 L457.329333,600.001786 C552.627632,600.001786 575.877216,587.027017 581.464617,581.464617 C587.039517,575.877216 600.001786,552.627632 600.001786,457.329333 Z M457.329333,0 C653.338333,0 700,46.6616668 700,242.658167 C700,438.667167 700,261.332833 700,457.329333 C700,653.338333 653.338333,700 457.329333,700 C261.332833,700 438.667167,700 242.670667,700 C46.6616668,700 0,653.338333 0,457.329333 C0,261.332833 0,352.118712 0,242.658167 C0,46.6616668 46.6616668,0 242.670667,0 C438.667167,0 261.332833,0 457.329333,0 Z M395.996667,200 C480.004166,200 500,220.008332 500,303.990835 C500,387.998334 500,312.001666 500,395.996667 C500,479.991668 480.004166,500 395.996667,500 C312.001666,500 387.998334,500 304.003333,500 C220.008332,500 200,479.991668 200,395.996667 C200,312.001666 200,350.906061 200,303.990835 C200,220.008332 220.008332,200 304.003333,200 C387.998334,200 312.001666,200 395.996667,200 Z" \n      />\n      <g id="vk_logo-'+l.suffix+'">\n        <path \n          fill="'+l.logoColor+'" \n          d="M253.066667,0 C457.466667,0 272.533333,0 476.933333,0 C681.333333,0 730,48.6666667 730,253.066667 C730,457.466667 730,272.533333 730,476.933333 C730,681.333333 681.333333,730 476.933333,730 C272.533333,730 457.466667,730 253.066667,730 C48.6666667,730 0,681.333333 0,476.933333 C0,272.533333 0,367.206459 0,253.066667 C0,48.6666667 48.6666667,0 253.066667,0 Z"/><path fill="#FFF" d="M597.816744,251.493445 C601.198942,240.214758 597.816746,231.927083 581.719678,231.927083 L528.490512,231.927083 C514.956087,231.927083 508.716524,239.08642 505.332448,246.981031 C505.332448,246.981031 478.263599,312.960647 439.917002,355.818719 C427.510915,368.224806 421.871102,372.172112 415.10389,372.172112 C411.720753,372.172112 406.822917,368.224806 406.822917,356.947057 L406.822917,251.493445 C406.822917,237.95902 402.895137,231.927083 391.615512,231.927083 L307.969678,231.927083 C299.511836,231.927083 294.425223,238.208719 294.425223,244.162063 C294.425223,256.99245 313.597583,259.951287 315.573845,296.043086 L315.573845,374.428788 C315.573845,391.614583 312.470184,394.730425 305.702972,394.730425 C287.658011,394.730425 243.763595,328.456052 217.730151,252.620844 C212.628223,237.881107 207.511068,231.927083 193.907178,231.927083 L140.678012,231.927083 C125.469678,231.927083 122.427826,239.08642 122.427826,246.981031 C122.427826,261.079625 140.473725,331.006546 206.452402,423.489903 C250.437874,486.648674 312.410515,520.885417 368.803012,520.885417 C402.638134,520.885417 406.823845,513.28125 406.823845,500.183098 L406.823845,452.447917 C406.823845,437.239583 410.029185,434.204421 420.743703,434.204421 C428.638315,434.204421 442.172739,438.151727 473.753063,468.603713 C509.843923,504.694573 515.79398,520.885417 536.094678,520.885417 L589.323845,520.885417 C604.532178,520.885417 612.136345,513.28125 607.749619,498.274853 C602.949226,483.318593 585.717788,461.619053 562.853283,435.89599 C550.446258,421.234166 531.837128,405.444943 526.197316,397.548454 C518.302704,387.399043 520.558441,382.88663 526.197316,373.864619 C526.197316,373.864619 591.049532,282.508661 597.816744,251.493445 Z"\n        />\n      </g>\n      <clipPath id="logo-mask-'+l.suffix+'">\n        <rect x="0" y="0" width="750" height="750" />\n      </clipPath>\n    </defs>\n\n    '+j+'\n\n    <g transform="'+H+'">\n      '+x.join("\n")+"\n    </g>\n  </svg>"},u=function(){function e(t,n,r,o){if(this.version=t,this.errorCorrectionLevel=n,this.mask=o,this.modules=[],this.isFunction=[],t<e.MIN_VERSION||t>e.MAX_VERSION)throw"Version value out of range";if(o<-1||o>7)throw"Mask value out of range";this.size=4*t+17;for(var a=[],i=0;i<this.size;i++)a.push(!1);for(i=0;i<this.size;i++)this.modules.push(a.slice()),this.isFunction.push(a.slice());this.drawFunctionPatterns();var s=this.addEccAndInterleave(r);if(this.drawCodewords(s),-1==o){var l=1e9;for(i=0;i<8;i++){this.applyMask(i),this.drawFormatBits(i);var u=this.getPenaltyScore();u<l&&(o=i,l=u),this.applyMask(i)}}if(o<0||o>7)throw"Assertion error";this.mask=o,this.applyMask(o),this.drawFormatBits(o),this.isFunction=[]}return e.encodeText=function(t,n){var r=d.makeSegments(t);return e.encodeSegments(r,n)},e.encodeBinary=function(t,n){var r=d.makeBytes(t);return e.encodeSegments([r],n)},e.encodeSegments=function(t,n,r,o,a,i){if(void 0===r&&(r=1),void 0===o&&(o=40),void 0===a&&(a=-1),void 0===i&&(i=!0),!(e.MIN_VERSION<=r&&r<=o&&o<=e.MAX_VERSION)||a<-1||a>7)throw"Invalid value";var s,l;for(s=r;;s++){var u=8*e.getNumDataCodewords(s,n),c=d.getTotalBits(t,s);if(c<=u){l=c;break}if(s>=o)throw"Data too long"}for(var _=0,h=[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH];_<h.length;_++){var m=h[_];i&&l<=8*e.getNumDataCodewords(s,m)&&(n=m)}for(var f=new p,v=0,g=t;v<g.length;v++){var y=g[v];f.appendBits(y.mode.modeBits,4),f.appendBits(y.numChars,y.mode.numCharCountBits(s));for(var w=0,b=y.getData();w<b.length;w++){var E=b[w];f.array.push(E)}}if(f.array.length!=l)throw"Assertion error";var C=8*e.getNumDataCodewords(s,n);if(f.array.length>C)throw"Assertion error";if(f.appendBits(0,Math.min(4,C-f.array.length)),f.appendBits(0,(8-f.array.length%8)%8),f.array.length%8!=0)throw"Assertion error";for(var D=236;f.array.length<C;D^=253)f.appendBits(D,8);for(var k=[];8*k.length<f.array.length;)k.push(0);return f.array.forEach((function(e,t){return k[t>>>3]|=e<<7-(7&t)})),new e(s,n,k,a)},e.prototype.getModule=function(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]},e.prototype.drawCanvas=function(e,t,n){if(e<=0||t<0)throw"Value out of range";var r=(this.size+2*t)*e;n.width=r,n.height=r;for(var o=n.getContext("2d"),a=-t;a<this.size+t;a++)for(var i=-t;i<this.size+t;i++)o.fillStyle=this.getModule(i,a)?"#000000":"#FFFFFF",o.fillRect((i+t)*e,(a+t)*e,e,e)},e.prototype.toSvgString=function(e){if(e<0)throw"Border must be non-negative";for(var t=[],n=0;n<this.size;n++)for(var r=0;r<this.size;r++)this.getModule(r,n)&&t.push("M"+(r+e)+","+(n+e)+"h1v1h-1z");return'<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+(this.size+2*e)+" "+(this.size+2*e)+'" stroke="none">\n\t<rect width="100%" height="100%" fill="#FFFFFF"/>\n\t<path d="'+t.join(" ")+'" fill="#000000"/>\n</svg>\n'},e.prototype.drawFunctionPatterns=function(){for(var e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);var t=this.getAlignmentPatternPositions(),n=t.length;for(e=0;e<n;e++)for(var r=0;r<n;r++)0==e&&0==r||0==e&&r==n-1||e==n-1&&0==r||this.drawAlignmentPattern(t[e],t[r]);this.drawFormatBits(0),this.drawVersion()},e.prototype.drawFormatBits=function(e){for(var t=this.errorCorrectionLevel.formatBits<<3|e,n=t,r=0;r<10;r++)n=n<<1^1335*(n>>>9);var o=21522^(t<<10|n);if(o>>>15!=0)throw"Assertion error";for(r=0;r<=5;r++)this.setFunctionModule(8,r,c(o,r));for(this.setFunctionModule(8,7,c(o,6)),this.setFunctionModule(8,8,c(o,7)),this.setFunctionModule(7,8,c(o,8)),r=9;r<15;r++)this.setFunctionModule(14-r,8,c(o,r));for(r=0;r<8;r++)this.setFunctionModule(this.size-1-r,8,c(o,r));for(r=8;r<15;r++)this.setFunctionModule(8,this.size-15+r,c(o,r));this.setFunctionModule(8,this.size-8,!0)},e.prototype.drawVersion=function(){if(!(this.version<7)){for(var e=this.version,t=0;t<12;t++)e=e<<1^7973*(e>>>11);var n=this.version<<12|e;if(n>>>18!=0)throw"Assertion error";for(t=0;t<18;t++){var r=c(n,t),o=this.size-11+t%3,a=Math.floor(t/3);this.setFunctionModule(o,a,r),this.setFunctionModule(a,o,r)}}},e.prototype.drawFinderPattern=function(e,t){for(var n=-4;n<=4;n++)for(var r=-4;r<=4;r++){var o=Math.max(Math.abs(r),Math.abs(n)),a=e+r,i=t+n;0<=a&&a<this.size&&0<=i&&i<this.size&&this.setFunctionModule(a,i,2!=o&&4!=o)}},e.prototype.drawAlignmentPattern=function(e,t){for(var n=-2;n<=2;n++)for(var r=-2;r<=2;r++)this.setFunctionModule(e+r,t+n,1!=Math.max(Math.abs(r),Math.abs(n)))},e.prototype.setFunctionModule=function(e,t,n){this.modules[t][e]=n,this.isFunction[t][e]=!0},e.prototype.addEccAndInterleave=function(t){var n=this.version,r=this.errorCorrectionLevel;if(t.length!=e.getNumDataCodewords(n,r))throw"Invalid argument";for(var o=e.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][n],a=e.ECC_CODEWORDS_PER_BLOCK[r.ordinal][n],i=Math.floor(e.getNumRawDataModules(n)/8),s=o-i%o,l=Math.floor(i/o),u=[],c=new _(a),d=0,p=0;d<o;d++){var h=t.slice(p,p+l-a+(d<s?0:1));p+=h.length;var m=c.getRemainder(h);d<s&&h.push(0),u.push(h.concat(m))}var f=[];for(d=0;d<u[0].length;d++)for(var v=0;v<u.length;v++)(d!=l-a||v>=s)&&f.push(u[v][d]);if(f.length!=i)throw"Assertion error";return f},e.prototype.drawCodewords=function(t){if(t.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw"Invalid argument";for(var n=0,r=this.size-1;r>=1;r-=2){6==r&&(r=5);for(var o=0;o<this.size;o++)for(var a=0;a<2;a++){var i=r-a,s=0==(r+1&2)?this.size-1-o:o;!this.isFunction[s][i]&&n<8*t.length&&(this.modules[s][i]=c(t[n>>>3],7-(7&n)),n++)}}if(n!=8*t.length)throw"Assertion error"},e.prototype.applyMask=function(e){if(e<0||e>7)throw"Mask value out of range";for(var t=0;t<this.size;t++)for(var n=0;n<this.size;n++){var r=void 0;switch(e){case 0:r=(n+t)%2==0;break;case 1:r=t%2==0;break;case 2:r=n%3==0;break;case 3:r=(n+t)%3==0;break;case 4:r=(Math.floor(n/3)+Math.floor(t/2))%2==0;break;case 5:r=n*t%2+n*t%3==0;break;case 6:r=(n*t%2+n*t%3)%2==0;break;case 7:r=((n+t)%2+n*t%3)%2==0;break;default:throw"Assertion error"}!this.isFunction[t][n]&&r&&(this.modules[t][n]=!this.modules[t][n])}},e.prototype.getPenaltyScore=function(){for(var t=0,n=0;n<this.size;n++){for(var r=[0,0,0,0,0,0,0],o=!1,a=0,i=0;i<this.size;i++)this.modules[n][i]==o?5==++a?t+=e.PENALTY_N1:a>5&&t++:(e.addRunToHistory(a,r),!o&&e.hasFinderLikePattern(r)&&(t+=e.PENALTY_N3),o=this.modules[n][i],a=1);e.addRunToHistory(a,r),o&&e.addRunToHistory(0,r),e.hasFinderLikePattern(r)&&(t+=e.PENALTY_N3)}for(i=0;i<this.size;i++){r=[0,0,0,0,0,0,0],o=!1;var s=0;for(n=0;n<this.size;n++)this.modules[n][i]==o?5==++s?t+=e.PENALTY_N1:s>5&&t++:(e.addRunToHistory(s,r),!o&&e.hasFinderLikePattern(r)&&(t+=e.PENALTY_N3),o=this.modules[n][i],s=1);e.addRunToHistory(s,r),o&&e.addRunToHistory(0,r),e.hasFinderLikePattern(r)&&(t+=e.PENALTY_N3)}for(n=0;n<this.size-1;n++)for(i=0;i<this.size-1;i++)(o=this.modules[n][i])==this.modules[n][i+1]&&o==this.modules[n+1][i]&&o==this.modules[n+1][i+1]&&(t+=e.PENALTY_N2);for(var l=0,u=0,c=this.modules;u<c.length;u++)for(var d=0,_=c[u];d<_.length;d++)(o=_[d])&&l++;var p=this.size*this.size;return t+=(Math.ceil(Math.abs(20*l-10*p)/p)-1)*e.PENALTY_N4},e.prototype.getAlignmentPatternPositions=function(){if(1==this.version)return[];for(var e=Math.floor(this.version/7)+2,t=32==this.version?26:2*Math.ceil((this.size-13)/(2*e-2)),n=[6],r=this.size-7;n.length<e;r-=t)n.splice(1,0,r);return n},e.getNumRawDataModules=function(t){if(t<e.MIN_VERSION||t>e.MAX_VERSION)throw"Version number out of range";var n=(16*t+128)*t+64;if(t>=2){var r=Math.floor(t/7)+2;n-=(25*r-10)*r-55,t>=7&&(n-=36)}return n},e.getNumDataCodewords=function(t,n){return Math.floor(e.getNumRawDataModules(t)/8)-e.ECC_CODEWORDS_PER_BLOCK[n.ordinal][t]*e.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][t]},e.addRunToHistory=function(e,t){t.pop(),t.unshift(e)},e.hasFinderLikePattern=function(e){var t=e[1];return t>0&&e[2]==t&&e[4]==t&&e[5]==t&&e[3]==3*t&&Math.max(e[0],e[6])>=4*t},e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e}();function c(e,t){return 0!=(e>>>t&1)}var d=function(){function e(e,t,n){if(this.mode=e,this.numChars=t,this.bitData=n,t<0)throw"Invalid argument";this.bitData=n.slice()}return e.makeBytes=function(t){for(var n=new p,r=0,o=t;r<o.length;r++){var a=o[r];n.appendBits(a,8)}return new e(e.Mode.BYTE,t.length,n.array)},e.makeNumeric=function(t){if(!this.NUMERIC_REGEX.test(t))throw"String contains non-numeric characters";for(var n=new p,r=0;r<t.length;){var o=Math.min(t.length-r,3);n.appendBits(parseInt(t.substr(r,o),10),3*o+1),r+=o}return new e(e.Mode.NUMERIC,t.length,n.array)},e.makeAlphanumeric=function(t){if(!this.ALPHANUMERIC_REGEX.test(t))throw"String contains unencodable characters in alphanumeric mode";var n,r=new p;for(n=0;n+2<=t.length;n+=2){var o=45*e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(n));o+=e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(n+1)),r.appendBits(o,11)}return n<t.length&&r.appendBits(e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(n)),6),new e(e.Mode.ALPHANUMERIC,t.length,r.array)},e.makeSegments=function(t){return""==t?[]:this.NUMERIC_REGEX.test(t)?[e.makeNumeric(t)]:this.ALPHANUMERIC_REGEX.test(t)?[e.makeAlphanumeric(t)]:[e.makeBytes(e.toUtf8ByteArray(t))]},e.makeEci=function(t){var n=new p;if(t<0)throw"ECI assignment value out of range";if(t<128)n.appendBits(t,8);else if(t<16384)n.appendBits(2,2),n.appendBits(t,14);else{if(!(t<1e6))throw"ECI assignment value out of range";n.appendBits(6,3),n.appendBits(t,21)}return new e(e.Mode.ECI,0,n.array)},e.prototype.getData=function(){return this.bitData.slice()},e.getTotalBits=function(e,t){for(var n=0,r=0,o=e;r<o.length;r++){var a=o[r],i=a.mode.numCharCountBits(t);if(a.numChars>=1<<i)return 1/0;n+=4+i+a.bitData.length}return n},e.toUtf8ByteArray=function(e){e=encodeURI(e);for(var t=[],n=0;n<e.length;n++)"%"!=e.charAt(n)?t.push(e.charCodeAt(n)):(t.push(parseInt(e.substr(n+1,2),16)),n+=2);return t},e.NUMERIC_REGEX=/^[0-9]*$/,e.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,e.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e}(),_=function(){function e(t){if(this.coefficients=[],t<1||t>255)throw"Degree out of range";for(var n=this.coefficients,r=0;r<t-1;r++)n.push(0);n.push(1);var o=1;for(r=0;r<t;r++){for(var a=0;a<n.length;a++)n[a]=e.multiply(n[a],o),a+1<n.length&&(n[a]^=n[a+1]);o=e.multiply(o,2)}}return e.prototype.getRemainder=function(t){for(var n=this.coefficients.map((function(e){return 0})),r=function(t){var r=t^n.shift();n.push(0),o.coefficients.forEach((function(t,o){return n[o]^=e.multiply(t,r)}))},o=this,a=0,i=t;a<i.length;a++)r(i[a]);return n},e.multiply=function(e,t){if(e>>>8!=0||t>>>8!=0)throw"Byte out of range";for(var n=0,r=7;r>=0;r--)n=n<<1^285*(n>>>7),n^=(t>>>r&1)*e;if(n>>>8!=0)throw"Assertion error";return n},e}(),p=function(){function e(){this.array=[]}return e.prototype.appendBits=function(e,t){if(t<0||t>31||e>>>t!=0)throw"Value out of range";for(var n=t-1;n>=0;n--)this.array.push(e>>>n&1)},e}();(function(e){var t=function(){function e(e,t){this.ordinal=e,this.formatBits=t}return e.LOW=new e(0,1),e.MEDIUM=new e(1,0),e.QUARTILE=new e(2,3),e.HIGH=new e(3,2),e}();e.Ecc=t})(u||(u={})),function(e){var t=function(){function e(e,t){this.modeBits=e,this.numBitsCharCount=t}return e.prototype.numCharCountBits=function(e){return this.numBitsCharCount[Math.floor((e+7)/17)]},e.NUMERIC=new e(1,[10,12,14]),e.ALPHANUMERIC=new e(2,[9,11,13]),e.BYTE=new e(4,[8,16,16]),e.KANJI=new e(8,[8,10,12]),e.ECI=new e(7,[0,0,0]),e}();e.Mode=t}(d||(d={}));var h=128,m="#ffffff",f="#000000",v="#4680c2";function g(t,n,r,o){if("string"!=typeof t)throw new TypeError("Enter text for encoding");var a=e(e(e({},"object"==typeof n&&null!==n?n:{}),"object"==typeof o&&null!==o?o:{}),{qrSize:"object"==typeof n&&null!==n&&"number"==typeof n.qrSize?n.qrSize:n,className:"object"==typeof n&&null!==n&&"string"==typeof n.className?n.className:r}),i=[u.Ecc.LOW,u.Ecc.MEDIUM,u.Ecc.QUARTILE,u.Ecc.HIGH],s={qrSize:"number"==typeof a.qrSize?a.qrSize:h,className:"string"==typeof a.className?a.className:r||"",isShowLogo:!!a.isShowLogo||!1,isShowBackground:!!a.isShowBackground||!1,foregroundColor:"string"==typeof a.foregroundColor?a.foregroundColor:f,backgroundColor:"string"==typeof a.backgroundColor?a.backgroundColor:m,logoColor:"string"==typeof a.logoColor?a.logoColor:v,suffix:a.suffix?a.suffix.toString():"0",logoData:"string"==typeof a.logoData?a.logoData:null,ecc:"number"==typeof a.ecc&&i[a.ecc]?a.ecc:3},c=d.makeSegments(t),_=u.encodeSegments(c,i[s.ecc],1,40,-1,!0);return l(_,s)}return{createQR:g}}()},9598:(e,t,n)=>{"use strict";n.d(t,{classNames:()=>o});var r=n(484);function o(){for(var e=[],t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return n.forEach((function(t){if(t)switch((0,r.default)(t)){case"string":e.push(t);break;case"object":Object.keys(t).forEach((function(n){t[n]&&e.push(n)}));break;default:e.push("".concat(t))}})),e.join(" ")}},2888:(e,t,n)=>{"use strict";n.d(t,{getLastDayOfMonth:()=>r});n(1058);function r(e,t){return 2==+t?function(e){return e%4==0&&e%100!=0||e%400==0}(e)?29:28:t>0&&(t<8&&t%2==0||t>7&&t%2==1)?30:31}},628:(e,t,n)=>{"use strict";function r(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];var l=o,u=Date.now();t&&u<t+r?(clearTimeout(n),n=setTimeout((function(){t=u,e.apply(l,i)}),r)):(t=u,e.apply(l,i))}}n.d(t,{throttle:()=>r})},7453:(e,t,n)=>{"use strict";function r(e){var t=e instanceof HTMLElement;if("undefined"==typeof window||!t)return{top:0,left:0,width:0,height:0};var n=e,r=n.getBoundingClientRect(),o=document.body,a=document.documentElement,i=window.pageYOffset||a.scrollTop||o.scrollTop,s=window.pageXOffset||a.scrollLeft||o.scrollLeft,l=a.clientTop||o.clientTop||0,u=a.clientLeft||o.clientLeft||0;return{top:Math.round(r.top+i-l),left:Math.round(r.left+s-u),width:n.offsetWidth,height:n.offsetHeight}}n.d(t,{getOffsetRect:()=>r})},9397:(e,t,n)=>{"use strict";n.d(t,{classNames:()=>r.classNames,getLastDayOfMonth:()=>o.getLastDayOfMonth,throttle:()=>a.throttle,getOffsetRect:()=>i.getOffsetRect,isObject:()=>s.isObject});var r=n(9598),o=n(2888),a=n(628),i=n(7453),s=n(7270);n(3656)},1058:(e,t,n)=>{"use strict";function r(e){return e>=10?String(e):"0"+String(e)}n.d(t,{leadingZero:()=>r})},3656:(e,t,n)=>{"use strict";n(6610),n(5991),n(6156)},7270:(e,t,n)=>{"use strict";n.d(t,{isObject:()=>r});n(484);function r(e){return"[object Object]"===Object.prototype.toString.call(e)}},7874:(e,t,n)=>{"use strict";function r(){return{icon:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><g id="spinner_16__Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="spinner_16__Kit-Item" transform="translate(-198 -2)" fill="currentColor" fill-rule="nonzero"><g id="spinner_16__Circular-Loader-16pt-@Controls_Loaders" transform="translate(64 2)"><path d="M142 16a1 1 0 110-2 6 6 0 10-5.7-4.12 1 1 0 11-1.9.63A8 8 0 11142 16z" id="spinner_16__spinner_small"/></g></g></g></svg>',name:"spinner_16"}}n.d(t,{getIcon16Spinner:()=>r})},7770:(e,t,n)=>{"use strict";function r(){return{icon:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g id="browser_back_24__Master" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="browser_back_24__browser_back_24"><path id="browser_back_24__body" d="M0 0h24v24H0z"/><path d="M8.66 12l7.12 7.12a1.1 1.1 0 11-1.56 1.56l-7.9-7.9a1.1 1.1 0 010-1.56l7.9-7.9a1.1 1.1 0 011.56 1.56L8.66 12z" id="browser_back_24__Path" fill="currentColor" fill-rule="nonzero"/></g></g></svg>',name:"browser_back_24"}}n.d(t,{getIcon24BrowserBack:()=>r})},3238:(e,t,n)=>{"use strict";function r(){return{icon:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g id="cancel_24__Page-2" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="cancel_24__cancel_24"><path id="cancel_24__Bounds" d="M0 0h24v24H0z"/><path d="M18.3 5.7a.99.99 0 00-1.4 0L12 10.6 7.1 5.7a.99.99 0 00-1.4 1.4l4.9 4.9-4.9 4.9a.99.99 0 001.4 1.4l4.9-4.9 4.9 4.9a.99.99 0 001.4-1.4L13.4 12l4.9-4.9a.99.99 0 000-1.4z" id="cancel_24__Mask" fill="currentColor"/></g></g></svg>',name:"cancel_24"}}n.d(t,{getIcon24Cancel:()=>r})},9455:(e,t,n)=>{"use strict";function r(){return{icon:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g id="favorite_24__Page-2" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="favorite_24__favorite_24"><path id="favorite_24__Bounds" d="M0 0h24v24H0z"/><path d="M15.34 8.48l4.43.43c1.54.15 2.02 1.65.83 2.64l-3.47 2.88 1.29 4.7c.42 1.54-.9 2.48-2.2 1.55L12 17.7l-4.21 2.98c-1.31.92-2.63 0-2.2-1.55l1.28-4.7-3.47-2.88c-1.2-1-.72-2.5.83-2.64l4.43-.43 1.95-4.5c.6-1.4 2.17-1.4 2.78 0l1.95 4.5z" id="favorite_24__Mask" fill="currentColor" fill-rule="nonzero"/></g></g></svg>',name:"favorite_24"}}n.d(t,{getIcon24Favorite:()=>r})},6934:(e,t,n)=>{"use strict";function r(){return{icon:'<svg fill="none" height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M12.55 4.7a.6.6 0 00-1.1 0L9.83 8.6a.9.9 0 01-.77.55l-4.13.26a.6.6 0 00-.35 1.05l3.26 2.86a.9.9 0 01.29.9l-.94 3.84a.6.6 0 00.89.66l3.47-2a.9.9 0 01.9 0l3.47 2a.6.6 0 00.88-.66l-.93-3.85a.9.9 0 01.29-.89l3.26-2.85a.6.6 0 00-.35-1.06l-4.13-.26a.9.9 0 01-.77-.56zM9.78 4a2.4 2.4 0 014.44 0l1.4 3.39 3.56.23a2.4 2.4 0 011.43 4.2l-2.86 2.5.8 3.32a2.4 2.4 0 01-3.53 2.64L12 18.54l-3.02 1.74a2.4 2.4 0 01-3.54-2.64l.8-3.32-2.85-2.5a2.4 2.4 0 011.43-4.2l3.56-.23z" fill="currentColor" fill-rule="evenodd"/></svg>',name:"favorite_outline_24"}}n.d(t,{getIcon24FavoriteOutline:()=>r})},5410:(e,t,n)=>{"use strict";function r(){return{icon:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g id="spinner_24__Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="spinner_24__Kit-Item" transform="translate(-198 -44)" fill="currentColor" fill-rule="nonzero"><g id="spinner_24__Circular-Loader-16pt-@Controls_Loaders" transform="translate(64 2)"><path d="M146 66a1.25 1.25 0 110-2.5 9.5 9.5 0 10-8.95-6.31 1.25 1.25 0 01-2.36.84A12 12 0 11146 66z" id="spinner_24__spinner_regular"/></g></g></g></svg>',name:"spinner_24"}}n.d(t,{getIcon24Spinner:()=>r})},9059:(e,t,n)=>{"use strict";n.d(t,{default:()=>a});n(1876);var r=n(7294),o=n(5697);class a extends r.Component{static mapFilterOptionsToDropdownOptions(e){return e?e.map((e=>[e.constant,e.name])):[]}constructor(e){super(e),this.state={filterWrapElementId:this.props.config.id+"_filter_wrap",filterElementId:this.props.config.id+"_filter"}}componentDidMount(){var e=this.props.config.placeholder||"",t=this.onChange.bind(this);this.state.input=new Dropdown(ge(this.state.filterElementId),a.mapFilterOptionsToDropdownOptions(this.props.config.options),{selectedItems:this.props.config.selected,onChange:t,placeholder:e,multiselect:!this.props.singleSelectCrutch,autocomplete:!0,width:this.props.width,big:!0,maxItems:this.props.maxItems})}componentDidUpdate(e,t,n){if(this.props.config.selected!==e.config.selected&&Array.isArray(this.props.config.selected)&&0===this.props.config.selected.length)this.state.input.clear();else if(this.props.singleSelectCrutch){var r=this.state.input.selectedItems(),o=r&&r[0]&&r[0][0]?r[0][0]:null;if(!o)return;this.props.config.selected!==e.config.selected&&o!=this.props.config.selected&&this.state.input.selectItem(this.props.config.selected[0])}}onChange(e){var t=a.convertOldValueToJson(e);this.props.onFilterChange(this.props.config.id,t)}static convertOldValueToJson(e){return e?e.split(","):null}render(){var e=this.props.config.header?r.createElement("div",{className:"search_filter_main"},this.props.config.header):"";return r.createElement("div",{className:"filter"},e,r.createElement("div",{id:this.state.filterWrapElementId,className:"search_control"},r.createElement("input",{id:this.state.filterElementId,type:"text",className:"dark"})))}}a.propTypes={config:o.shape({id:o.string,header:o.string,options:o.arrayOf(o.shape({constant:o.any,name:o.string})),placeholder:o.string,selected:o.array}),onFilterChange:o.func.isRequired,width:o.number,maxItems:o.number,singleSelectCrutch:o.bool},a.defaultProps={width:200,maxItems:50,singleSelectCrutch:!1}},7273:(e,t,n)=>{"use strict";n.d(t,{SECOND:()=>r});var r=1e3},3482:(e,t,n)=>{"use strict";n.d(t,{gemiusTrackPage:()=>o});var r=n(6353);function o(){if((0,r.partConfigEnabled)("geminus_counter")){var e="pzBAVLtpzyiyDVIwmwjmX5a2zSVdA6eUI7mpf0ufDFf.57";if(window.pp_gemius_identifier)window.pp_gemius_hit(e);else{window.pp_gemius_identifier=e;var t=function(e){window[e]=window[e]||function(){var t=window[e+"_pdata"]=window[e+"_pdata"]||[];t[t.length]=arguments}};t("gemius_hit"),t("gemius_event"),t("pp_gemius_hit"),t("pp_gemius_event"),function(e,t){try{var n=e.createElement(t),r=e.getElementsByTagName(t)[0],o="http"+("https:"==location.protocol?"s":""),a="vkgalv";if(window.vk&&window.vk.countryISO)switch(window.vk.countryISO){case"BY":a="vkgaby";break;case"MD":a="vkgamd";break;case"EE":a="vkgaee"}n.setAttribute("async","async"),n.setAttribute("defer","defer"),n.src=o+"://"+a+".hit.gemius.pl/xgemius.js",r.parentNode.insertBefore(n,r)}catch(e){}}(document,"script")}}}},1001:(e,t,n)=>{"use strict";n.d(t,{mediascopeTrackPage:()=>i});n(9357),n(1876);var r=n(7999),o=n(6900),a=n(6353);function i(e,t){var n=location.protocol,i=window._tns&&(window._tns.tnsPixelSocdem||"83"),s=t.replace(/\*/g,"%2a").split("#")[0],l=window._tns&&window._tns.tnsPixelType;if((0,r.vkImage)().src=`${n}//www.tns-counter.ru/V13a**clid:${i}*${s}*vk_com/ru/UTF-8/tmsec=vksite_total/${Math.round(1e9*Math.random())}`,(0,a.partConfigEnabled)("tns_track_sections")){var u="content",c="photo",d="music",_="video",p="clips",h="ecomm",m="games",f="docs",v=[[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\b.*?\bw=story-?\d+_\d+/,u,"story"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\b.*?\bz=video-?\d+_\d+/,_,"videoview"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\b.*?\bz=(photo(_tag)?-?\d+_\d+|albums?-?\d+)/,c,"photoview"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\b.*?\bz=audio_playlist-?\d+_\d+/,d,"playlistview"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\b.*?\bz=podcast-?\d+_\d+/,d,"podcastview"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\b.*?\bz=clip-?\d+_\d+/,p,"clipsview"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\b.*?\bw=app\d+/,m,"gamesappview"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\b.*?\bw=product-?\d+_\d+/,h,"product"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/feed\?section=likes(\/|\&|$)/,u,"likes"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/feed(\/|\?|$)/,u,"feed"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/friends(\/|\?|$)/,u,"friends"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/groups(\/|\?|$)/,u,"groups"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/(id|public|club)\d+(\/|\?|$)/,u,"idpublicclub"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/@[\w-\.]+(\/|\?|$)/,u,"longread"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/bookmarks(\/|\?|$)/,u,"bookmarks"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/stickers(\/|\?|$)/,u,"stickers"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/im(\/|\?|$)/,"messenger","messenger"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/(photos|tag\d+|(albums|photos)-?\d+|(album|photo)-?\d+_\d+)(\/|\?|$)/,c,"photo"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/(audio(s-?\d+)?|music)(\/|\?|$)/,d,"music"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/podcasts(-?\d+)(\/|\?|$)/,"podcasts","podcasts"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/(videos-?\d+|video(-?\d+_\d+)?)(\/|\?|$)/,_,"video"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/(clips(-?\d+)?|clip-?\d+_\d+)(\/|\?|$)/,p,"clips"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/services(\/|\?|$)/,"services","services"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/taxi(\/|\?|$)/,"taxi","taxi"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/eda(\/|\?|$)/,"eda","eda"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/worki(\/|\?|$)/,"worki","worki"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/market(-?\d+)?(\/|\?|$)/,h,"ecomm"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/apps(\/|\?|$)/,m,"gamesapp"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/app\d+(_-?\d+)(\/|\?|$)/,m,"gamesapppage"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/docs(\/|\?|$)/,f,"docs"],[/^https?:\/\/(?:(?:www|m)\.)?(?:\w+\.)*vk.com\/doc-?\d+_\d+(\/|\?|$)/,f,"docdoc"]],g=window.cur&&window.cur.module||"other",y="other",w="other";v.some((t=>{if(t[0].test(e))return y=t[1],w=t[2],!0})),(0,o.statlogsValueEvent)("counters_check_tns",y,w,g)}"unauth"===l?(0,r.vkImage)().src=n+"//www.tns-counter.ru/V13a****vk_ad/ru/UTF-8/tmsec=vkad_cid1015708-posid1184674/"+Math.round(1e9*Math.random()):"has_rough"===l?(0,r.vkImage)().src=n+"//www.tns-counter.ru/V13a****vk_ad/ru/UTF-8/tmsec=vkad_cid1015708-posid1184675/"+Math.round(1e9*Math.random()):"not_has_rough"===l&&((0,r.vkImage)().src=n+"//www.tns-counter.ru/V13a****vk_ad/ru/UTF-8/tmsec=vkad_cid1015708-posid1184677/"+Math.round(1e9*Math.random()))}},6362:(e,t,n)=>{"use strict";n.d(t,{tmrTrackPage:()=>d});n(5115);var r=n(7813),o=n(6353),a=n(6900);var i="2579437",s="remixtmr_login",l=["mt_registration","mt_login"];function u(){return window.vk&&window.vk.id?window.vk.id:0}function c(e){if(!(window.vk&&window.vk.zero||window.__dev)){if(e&&e.goal&&l.includes(e.goal)){if((0,o.partConfigEnabled)("mt_log_disable"))return;(0,a.statlogsValueEvent)("counters_check_tmr",e.goal)}window._tmr=window._tmr||[],window._tmr.push(e)}}function d(e,t){c({id:i,url:e,referrer:t,type:"pageView",start:(new Date).getTime(),pid:u(),userid:u()}),(0,r.getCookie)(s)&&((0,r.setCookie)(s,"",-1),c({id:i,type:"reachGoal",goal:"mt_login",userid:u()}))}},1659:(e,t,n)=>{"use strict";n.d(t,{updateCounters:()=>u});n(522),n(6108),n(6253),n(1181),n(9665),n(5767),n(9357);var r=n(3482),o=n(1001),a=n(6362),i=n(6900);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(!(window.__dev||window.vk&&(window.vk.zero||window.vk.__dev))){t=t||document.referrer||"";[[/(hash|dl)=\w+/g,"$1="],[/(\/(?:write|mail|im|al_im.php))(?:\?[a-z0-9&=_-]*)?$/,"$1"],[/(\/write)\d*(?:\?[a-zA-Z0-9&=_-]*)?$/,"$1"]].forEach((n=>{var r=s(n,2),o=r[0],a=r[1];e=e.replace(o,a),t=t.replace(o,a)})),(0,a.tmrTrackPage)(e,t);var n=[/\/login\?.*$/];n.some((t=>t.test(e)))||n.some((e=>e.test(t)))||((0,o.mediascopeTrackPage)(e,t),(0,r.gemiusTrackPage)(),(0,i.statlogsValueEvent)("counters_check",1))}}},3912:(e,t,n)=>{"use strict";n.d(t,{emojiRegex:()=>r,skinToneModifierRegex:()=>o,EMOJI_PREFIXED_REPLACES:()=>a,EMOJI_REPLACES:()=>i});var r=()=>/(?:\uD83C\uDFF4)(?:(?:\uDB40\uDC67)(?:\uDB40\uDC62)(?:(?:\uDB40\uDC65)(?:\uDB40\uDC6E)(?:\uDB40\uDC67)|(?:\uDB40\uDC77)(?:\uDB40\uDC6C)(?:\uDB40\uDC73)|(?:\uDB40\uDC73)(?:\uDB40\uDC63)(?:\uDB40\uDC74))(?:\uDB40\uDC7F)|\u200D\u2620\uFE0F?)|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC69)\u200D(?:(?:\uD83D\uDC66)\u200D(?:\uD83D\uDC66)|(?:\uD83D\uDC67)\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83D\uDC68)(?:\u200D(?:\u2764\uFE0F?\u200D(?:(?:\uD83D\uDC8B)\u200D)?(?:\uD83D\uDC68)|(?:\uD83D[\uDC68\uDC69])\u200D(?:(?:\uD83D\uDC66)\u200D(?:\uD83D\uDC66)|(?:\uD83D\uDC67)\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83D\uDC66)\u200D(?:\uD83D\uDC66)|(?:\uD83D\uDC67)\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3]))|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3]))|(?:\uD83D\uDC69)\u200D(?:\u2764\uFE0F?\u200D(?:(?:\uD83D\uDC8B)\u200D(?:\uD83D[\uDC68\uDC69])|(?:\uD83D[\uDC68\uDC69]))|(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3]))|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC66)\u200D(?:\uD83D\uDC66)|(?:(?:\uD83D\uDC41)\uFE0F?\u200D(?:\uD83D\uDDE8)|(?:\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|(?:\uD83D\uDC68)(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F?|(?:\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]))\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|(?:\uD83D\uDC69)\u200D[\u2695\u2696\u2708])\uFE0F?|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC67)\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC69)\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC68)(?:\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC66\uDC67]))|(?:\uD83C[\uDFFB-\uDFFF]))|(?:\uD83C\uDFF3)\uFE0F?\u200D(?:\uD83C\uDF08)|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC67)|(?:\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC66)|(?:\uD83C\uDDF6)(?:\uD83C\uDDE6)|(?:\uD83C\uDDFD)(?:\uD83C\uDDF0)|(?:\uD83C\uDDF4)(?:\uD83C\uDDF2)|(?:\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C\uDDED)(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|(?:\uD83C\uDDEC)(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|(?:\uD83C\uDDEA)(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|(?:\uD83C\uDDE8)(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\uD83C\uDDF2)(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|(?:\uD83C\uDDF3)(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|(?:\uD83C\uDDFC)(?:\uD83C[\uDDEB\uDDF8])|(?:\uD83C\uDDFA)(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|(?:\uD83C\uDDF0)(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|(?:\uD83C\uDDEF)(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C\uDDF8)(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|(?:\uD83C\uDDEE)(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|(?:\uD83C\uDDFF)(?:\uD83C[\uDDE6\uDDF2\uDDFC])|(?:\uD83C\uDDEB)(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|(?:\uD83C\uDDF5)(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|(?:\uD83C\uDDE9)(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|(?:\uD83C\uDDF9)(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|(?:\uD83C\uDDE7)(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|[#\*0-9]\uFE0F?\u20E3|(?:\uD83C\uDDF1)(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|(?:\uD83C\uDDE6)(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|(?:\uD83C\uDDF7)(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|(?:\uD83C\uDDFB)(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|(?:\uD83C\uDDFE)(?:\uD83C[\uDDEA\uDDF9])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF9]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD70\uDD73-\uDD76\uDD7A\uDD7C-\uDDA2\uDDB0-\uDDB9\uDDC0-\uDDC2\uDDD0-\uDDFF])|(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF9]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD70\uDD73-\uDD76\uDD7A\uDD7C-\uDDA2\uDDB0-\uDDB9\uDDC0-\uDDC2\uDDD0-\uDDFF])\uFE0F?|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDD1-\uDDDD])/g,o=/\uFE0F?\uD83C[\uDFFB-\uDFFF]/,a={e29da4:/(\s|^)([0OО]:\))([\s\.,]|$)/g,f09f9887:/(\s|^)(;-\)+)([\s\.,]|$)/g,f09f9889:/(\s|^)([XХxх]-?D)([\s\.,]|$)/g,f09f9886:/(\s|^)(B-\))([\s\.,]|$)/g,f09f988e:/(\s|^)(3-\))([\s\.,]|$)/g,f09f988c:/(\s|^)(&gt;\()([\s\.,]|$)/g,f09f98a0:/(\s|^)(;[oоOО])([\s\.,]|$)/g,f09f98b0:/(\s|^)(8\|)([\s\.,]|$)/g,f09f98b3:/(\s|^)(8-?[oоOО])([\s\.,]|$)/g,f09f98b2:/(\s|^)(8-\))([\s\.,]|$)/g,f09f988d:/(\s|^)(:[XХ])([\s\.,]|$)/g,f09f98b7:/(\s|^)(:[oоOО])([\s\.,]|$)/g,f09f98a8:/(\s|^)(&lt;3)([\s\.,]|$)/g},i={f09f988a:/(:-\))([\s\.,]|$)/g,f09f9883:/(:-D)([\s\.,]|$)/g,f09f989c:/(;-[PР])([\s\.,]|$)/g,f09f988b:/(:-[pр])([\s\.,]|$)/g,f09f9892:/(:-\()([\s\.,]|$)/g,e298ba:/(:-?\])([\s\.,]|$)/g,f09f988f:/(;-\])([\s\.,]|$)/g,f09f9894:/(3-?\()([\s\.,]|$)/g,f09f98a2:/(:&#039;\()([\s\.,]|$)/g,f09f98ad:/(:_\()([\s\.,]|$)/g,f09f98a9:/(:\(\()([\s\.,]|$)/g,f09f9890:/(:\|)([\s\.,]|$)/g,f09f98a1:/(&gt;\(\()([\s\.,]|$)/g,f09f989a:/(:-\*)([\s\.,]|$)/g,f09f9888:/(\}:\))([\s\.,]|$)/g,f09f918d:/(:like:)([\s\.,]|$)/g,f09f918e:/(:dislike:)([\s\.,]|$)/g,e2989d:/(:up:)([\s\.,]|$)/g,e29c8c:/(:v:)([\s\.,]|$)/g,f09f918c:/(:ok:|:ок:)([\s\.,]|$)/g}},9018:(e,t,n)=>{"use strict";n.d(t,{emojiToHTML:()=>i});n(1181),n(6253),n(9357);var r=n(3912),o=n(6653),a=n(8862);function i(e,t){if(browser.ipad||browser.iphone)return e;e=(e+"").replace(/&nbsp;/g," ").replace(/<br>/g,"\n");for(var n=0;n<2;n++)Object.keys(r.EMOJI_PREFIXED_REPLACES).forEach((t=>{e.replace(r.EMOJI_PREFIXED_REPLACES[t],((e,n,r,o)=>(n||"")+s(t)+(o||"")))}));return Object.keys(r.EMOJI_REPLACES).forEach((t=>{e=e.replace(r.EMOJI_REPLACES[t],((e,n,r)=>s(t)+(r||"")))})),e=e.replace(/\n/g,"<br>"),t&&(e=e.replace(/\uFE0F/g,"").replace((0,r.emojiRegex)(),l)),e}function s(e,t,n,r){return!n&&t?t:r?`<i class="emoji @${e}" emoji="${e}"${t?` title="${t}"`:""}></i>`:`<img class="emoji" src="/emoji/e/${e}${window.devicePixelRatio>=2?"_2x":""}.png"${t?` alt="${t}"`:""}${browser.msie&&Number(browser.version)>8?' contenteditable="false"':""}>`}function l(e){return s((0,o.emojiSymbolToByteHex)(e),(0,a.encodeHTMLEntities)(e),!0)}},6653:(e,t,n)=>{"use strict";n.d(t,{emojiSymbolToByteHex:()=>r});n(1876),n(9357),n(3912);function r(e){return encodeURIComponent(e.replace(/\uFE0F/gi,"")).replace(/%/gi,"").toLowerCase()}},8862:(e,t,n)=>{"use strict";n.d(t,{symbols:()=>a,escape:()=>i,encodeHTMLEntities:()=>s,decodeHTMLEntities:()=>l});n(522),n(6108),n(6253),n(1181),n(9665),n(5767),n(3946),n(9357);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=[["&amp;","&"],["&lt;","<"],["&gt;",">"],["&quot;",'"']];function i(e){return a.reduce(((e,t)=>{var n=r(t,2),o=n[0],a=n[1];return e.replace(new RegExp(a,"ig"),o)}),e)}function s(e){return i(e).replace(/[\u00A0-\u9999<>\&]/gim,(e=>`&#${e.charCodeAt(0)};`))}function l(e){return a.reduce(((e,t)=>{var n=r(t,2),o=n[0],a=n[1];return e.replace(new RegExp(o,"ig"),a)}),e).replace(/&#(\d+);/g,((e,t)=>String.fromCodePoint(t)))}},7999:(e,t,n)=>{"use strict";n.d(t,{rand:()=>o,replaceEntities:()=>p,isArray:()=>l,isEmpty:()=>c,isFunction:()=>i,isNumeric:()=>d,isObject:()=>u,isString:()=>s,isUndefined:()=>a,irand:()=>h,escapeRE:()=>_,each:()=>v,vkNow:()=>m,locBase:()=>r,defaults:()=>g,intval:()=>f,vkImage:()=>y});n(5115),n(1876),n(6108),n(6253),n(9357);var r=()=>location.toString().replace(/#.+$/,""),o=(e,t)=>Math.random()*(t-e+1)+e,a=e=>void 0===e,i=e=>e&&"[object Function]"===Object.prototype.toString.call(e),s=e=>"string"==typeof e,l=e=>"[object Array]"===Object.prototype.toString.call(e),u=e=>"[object Object]"===Object.prototype.toString.call(e),c=e=>{if(!u(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},d=e=>!isNaN(parseFloat(e))&&isFinite(e)&&!Array.isArray(e),_=e=>e?e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1"):"",p=e=>ce("textarea",{innerHTML:(e||"").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}).value,h=(e,t)=>Math.floor(o(e,t));var m=()=>+new Date;function f(e){return!0===e?1:parseInt(e)||0}function v(e,t){if(!e)return e;if(u(e)||void 0===e.length){for(var n in e)if(e.hasOwnProperty(n)&&!1===t.call(e[n],n,e[n]))break}else for(var r=0,o=e.length;r<o;r++){var a=e[r];if(!1===t.call(a,r,a))break}return e}var g=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.assign({},e,...n.reverse(),e)},y=()=>window.Image?new Image:ce("img")},8397:(e,t,n)=>{"use strict";n.d(t,{log:()=>a});var r=n(6353);function o(){return window.console&&(0,r.partConfigEnabled)("js_console_logs")}function a(){o()&&window.console.log&&window.console.log(...arguments)}},2408:(e,t,n)=>{"use strict";n.d(t,{fromQueryString:()=>l,toQueryString:()=>s});n(1876),n(75);var r=n(7999),o={},a=function(e){if(o[e])return e;try{return encodeURIComponent(e)}catch(e){return""}},i=function(e){try{return decodeURIComponent(e)}catch(t){return o[e]=1,e}};function s(e,t){var n=[];for(var o in e)if(e.hasOwnProperty(o)&&null!=e[o]&&!(0,r.isFunction)(e[o]))if((0,r.isArray)(e[o]))for(var i=0,s=0,l=e[o].length;i<l;++i)null==e[o][i]||(0,r.isFunction)(e[o][i])||(n.push(a(o)+"["+s+"]="+a(e[o][i])),++s);else n.push(a(o)+"="+a(e[o]));return t||n.sort(),n.join("&")}function l(e){if(!e)return{};var t={};return e=e.split("&"),(0,r.each)(e,(function(e,n){var r=n.split("=");if(r[0]){var o=i(r[1]+"");if("[]"===r[0].substr(r.length-2)){var a=i(r[0].substr(0,r.length-2));t[a]||(t[a]=[]),t[a].push(o)}else t[i(r[0])]=o}})),t}},7813:(e,t,n)=>{"use strict";n.d(t,{getCookie:()=>i,setCookie:()=>s});n(1466),n(1876);var r=n(6353),o=n(6900);function a(){return browser.chrome&&parseInt(browser.version)>=71}function i(e){return function(){window._cookies={};for(var e=document.cookie.split(";"),t=/^[\s]*([^\s]+?)$/i,n=0,r=e.length;n<r;n++){var o=e[n].split("=");2===o.length&&(_cookies[o[0].match(t)[1]]=unescape(o[1].match(t)?o[1].match(t)[1]:""))}}(),"https:"!==location.protocol&&(0,o.statlogsValueEvent)("read_unsecure_cookie",e,location.href),_cookies[e]}function s(e,t,n,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"None",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:window.locDomain,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},u=e+"="+escape(t),c=l.withoutSubdomains?".":"",d="; path=/"+(s?"; domain="+c+s:""),_="https:"===location.protocol,p=!!o;(0,r.partConfigEnabled)("cookie_secure_default_true")&&(p=!1!==o);var h=_&&p?"; secure":"",m=p&&a()&&(0,r.partConfigEnabled)("cookie_class_samesite")?`; SameSite=${i}`:"",f="";if(n){var v=new Date;v.setTime(v.getTime()+24*n*60*60*1e3),f="; expires="+v.toGMTString()}document.cookie=u+f+d+m+h}},3369:(e,t,n)=>{"use strict";function r(e,t,n){var r;return function(){var o=arguments,a=()=>{r=null,n||e.apply(this,o)},i=n&&!r;clearTimeout(r),r=setTimeout(a,t),i&&e.apply(this,o)}}n.d(t,{debounce:()=>r})},848:(e,t,n)=>{"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.browser;return!(!e.mac||e.iphone||e.ipad||e.ipod||!(navigator.maxTouchPoints>1))}n.d(t,{isIPadOS:()=>r})},793:(e,t,n)=>{"use strict";n.d(t,{default:()=>o});var r=n(4795);window.EventEmitter=r;const o=r},897:(e,t,n)=>{"use strict";n.d(t,{showComponentInBox:()=>o,updateCurrentComponentInBox:()=>a,destroyComponentInBox:()=>i});var r=n(3935);n(7294);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.onDestroy||(t.onDestroy=i);var n=window.showFastBox(t),o=document.querySelectorAll(".box_layout"),a=o[o.length-1];return r.render(e,a),s(),n}function a(e){var t=document.querySelectorAll(".box_layout"),n=t[t.length-1];r.render(e,n)}function i(e){var t=document.querySelectorAll(".box_layout"),n=t[t.length-1];n&&r.unmountComponentAtNode(n);var o=window.curBox();o&&o.hide(e)}function s(){var e=document.querySelectorAll(".popup_box_container"),t=e[e.length-1];boxRefreshCoords(t)}window.applicationInitFunctions||(window.applicationInitFunctions={}),window.reactInitQueue||(window.reactInitQueue={}),window.initReactApplication=(e,t)=>{window.applicationInitFunctions[e]?window.applicationInitFunctions[e](t):(window.reactInitQueue[e]||(window.reactInitQueue[e]=[]),window.reactInitQueue[e].push(t))}},1988:(e,t,n)=>{"use strict";n.d(t,{default:()=>a});var r=n(302);function o(e){try{r.vkLocalStorage.removeItem(e)}catch(e){}}const a={checkVersion:function(){try{return void 0!==window.localStorage&&null!==window.localStorage&&void 0!==window.JSON}catch(e){return!1}},remove:o,get:function(e){try{return JSON.parse(r.vkLocalStorage.getItem(e))}catch(e){return!1}},set:function(e,t){o(e);try{return r.vkLocalStorage.setItem(e,JSON.stringify(t))}catch(e){return!1}}}},7192:(e,t,n)=>{"use strict";n.d(t,{retryFn:()=>o});n(851),n(6253);function r(e,t){return new Promise((n=>{setTimeout(n.bind(null,t),1e3*e)}))}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=0;return function a(){for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return Promise.resolve().then((()=>e(...s))).catch((e=>{if(++o<=t){var i="function"==typeof n?n(o):0;return 0===i?a(...s):r(i).then((()=>a(...s)))}throw e}))}}},6900:(e,t,n)=>{"use strict";n.d(t,{statlogsValueEvent:()=>u});var r,o,a=n(7813),i=n(6557),s=n(7999),l=n(1988);function u(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var l;void 0!==e&&void 0!==t&&c((()=>{try{l=(l=JSON.parse((0,a.getCookie)(o))).data}catch(e){l=[]}l.push([Math.round(Date.now()/1e3),e,t].concat(r)),l=l.slice(l.length-100);var n=Math.round((0,s.rand)(0,1e9));(0,a.setCookie)(o,JSON.stringify({data:l,uniqueId:n}),.01)}))}function c(e,t){if(l.default.checkVersion()){if(!0!==l.default.get(r)){l.default.set(r,!0);try{e()}catch(e){}return void l.default.set(r,!1)}t||setTimeout((()=>c(e,!0)),100)}else e()}(0,i.isMvk)()?(r="lock_m_stats_cookie_lock",o="remixmsts"):(r="lockkk_stats_cookie_lock",o="remixsts")},6353:(e,t,n)=>{"use strict";n.d(t,{partConfigEnabled:()=>r});n(7813);function r(e){var t=(window.vk||{}).pe;return!!(void 0===t?{}:t)[e]}},2872:(e,t,n)=>{"use strict";n.d(t,{default:()=>l});n(1876);var r="idle",o="pend_rows",a="pend_prefetch",i="done_prefetch",s="done";class l{constructor(e,t){if(this.constructor!==l)throw new Error("AutoList: AutoList was called without 'new' operator");if(l._counter=l._counter||0,this._id=l._counter++,this.setListEl(e,t.scrollNode),this._opts=extend({threshold:0,renderImmediate:!1,fetchImmediate:!0},t),!this._containerEl)throw new Error("AutoList: container not found");this._rowClasses=!!this._opts.rowClass&&this._opts.rowClass.split(" "),delete this._opts.rowClass,this._initialRender=this._opts.renderImmediate,this._isProgressShown=!1,this._prefetched=[],this._initialRender?this._offset=0:this._opts.offset?this._offset=this._opts.offset:this._opts.rowClasses?this._offset=this._countRows(this._containerEl.children):this._offset=this._containerEl.children.length,this._page=this._offset>0?1:0,addEvent(this._scrollNode,"scroll",this._ev_scroll=this._onScroll.bind(this)),addEvent(window,"resize",this._ev_window_resize=this._onScroll.bind(this)),this._setState(this._opts.renderImmediate?o:a),this._opts.fetchImmediate?this._requestRows():(this._setState(r),this._onScroll())}getListEl(){return this._containerEl}setListEl(e,t){var n;this._containerEl=ge(e),this._scrollNode=t||l.closestOverflowParent(this._containerEl),n=this._scrollNode===window?0:getXY(this._scrollNode)[1],this._contentYOffset=getXY(this._containerEl)[1]-n}options(e){extend(this._opts,e)}_countRows(e){var t=this,n=0;return each(e,(function(e,r){"string"==typeof r&&(r=se(r)),t._rowClasses?each(t._rowClasses,(function(e,t){if(hasClass(r,t))return n++,!1})):n++})),n}_drawRows(e){var t=this;this._opts.drawRows?this._opts.drawRows(t._containerEl,e):each(e,(function(e,n){"string"==typeof n&&(n=se(trim(n))),n&&t._containerEl.appendChild(n)})),this.toggleProgress(this._state!==s),!this._forceDrawCalled&&this._opts.onRendered&&this._opts.onRendered(this._offset)}toggleProgress(e){e?!this._isProgressShown&&this._opts.showProgress&&this._opts.showProgress():this._isProgressShown&&this._opts.hideProgress&&this._opts.hideProgress(),this._isProgressShown=e}drawMore(){inArray(this._state,[r,i])?(this._forceDrawCalled=!0,this._drawRows(this._prefetched),this._setState(a),this._prefetched=[],this._requestRows(),this._forceDrawCalled=!1):this._state===s&&this._opts.onNoMore&&this._opts.onNoMore(this._containerEl.childElementCount)}destroy(){this._ev_scroll&&(removeEvent(this._scrollNode,"scroll",this._ev_scroll),this._ev_scroll=!1),this._ev_window_resize&&removeEvent(window,"resize",this._ev_window_resize),this._setState(s),this.toggleProgress(!1)}getOffset(){return this._offset}_requestRows(){if(!this.isDone()&&this._state!==i){this._initialRender=!1,function(){this._opts.onNeedRows(this._onRowsProvided.bind(this),this._offset,this._page++,this._state===a,this)}.apply(this)}}_onRowsProvided(e,t){if(!this.isDone()){if(!1===e)return this._requestRows();e=e||[],this._offset+=void 0===t?this._countRows(e):t;var n=this._containerEl.childElementCount;switch(this._state){case a:0===e.length?(this._setState(i),this._opts.onNoMore&&this._opts.onNoMore(n),0===this._prefetched.length&&this._setState(s)):(this._setState(r),this._prefetched=this._prefetched.concat(e),this._opts.onHasMore&&this._opts.onHasMore(),this._onScroll());break;case o:this._drawRows(e),0===e.length?(this._setState(s),this._opts.onNoMore&&this._opts.onNoMore(n)):(this._setState(a),this._requestRows()),this.toggleProgress(!1);break;case r:this._prefetched=this._prefetched.concat(e)}}}_setState(e){this._state=e}isDone(){return this._state===s}static closestOverflowParent(e){for(var t=e;t&&t.tagName&&("visible"===getStyle(t,"overflow")||"page_wrap"===t.id);)t=domPN(t);return t!==window.document&&t!==bodyNode&&t||(t=window),t}_onScroll(){if(!this._forceDrawCalled&&this._state!==o){var e,t,n=this._scrollNode;n===window?(t=Math.max(document.documentElement.clientHeight,window.innerHeight||0),e=scrollGetY()):(t=getSize(n)[1],e=this._scroll?this._scroll.data.scrollTop:n.scrollTop),t<10||this._containerEl.scrollHeight-t-e+this._contentYOffset<10&&(this._state===o||!this._prefetched.length&&this._state===a?(this.toggleProgress(!0),this._setState(o)):this._state===a||this._state===r?(this._drawRows(this._prefetched),this._prefetched=[],this._setState(a),this._requestRows()):this._state===i&&(this._drawRows(this._prefetched),this._prefetched=[],this._setState(s),this._opts.onNoMore&&this._opts.onNoMore(),this.destroy()))}}}},4418:(e,t,n)=>{"use strict";n.d(t,{UIGallery:()=>a});var r=n(7451),o=(0,r.makeSharedState)("ui-gallery",(()=>({galleries:{},incIndex:0})));class a{constructor(e,t){if(!e)throw new Error("No element was provided for UIGallery");if(e=ge(e),!hasClass(e,"ui_gallery"))throw new Error("Provided incorrect element for UIGallery");var n=function(e){var t=domData(ge(e),"gallery-id");return t&&o().galleries[t]}(e);if(n)return n;this._opts=extend({markOutside:!1,scrollY:!0,scrollX:!0,noArrows:!1},t),this._id=o().incIndex,o().incIndex+=1,this._el=e,this._width=getSize(this._el)[0],this._items=geByClass("ui_gallery_item",this._el),this._itemWidth=getSize(this._items[0])[0],this._itemOffset=intval(getStyle(this._items[0],vk.rtl?"marginLeft":"marginRight")),this._scrollOffset=intval(getStyle(this._items[0],"marginLeft")),this._itemFullWidth=this._itemWidth+this._itemOffset,this._innerCont=geByClass1("ui_gallery__inner_cont",this._el),this._inner=geByClass1("ui_gallery__inner",this._el),this._scroll=function(){var e={rtl:!1,backward:!1,delta:1,negative:!1,rtlSame:!1};if(!vk.rtl)return e;if(!cur._scrollInfo){var t=se('<div style="position: fixed; left: -1000; width: 0; overflow: scroll">x</div>');ge("content").appendChild(t);var n=t.scrollLeft;e.rtl=vk.rtl,e.backward=n>0,t.scrollLeft=1e3,e.delta=t.scrollLeft===n?-1:1,e.negative=!e.backward&&e.delta<0,e.rtlSame=e.rtl&&!e.backward&&!e.negative,re(t),cur._scrollInfo=e}return cur._scrollInfo}(),this._loadingMore=!1,this._finised=!1,this._visible={left:-1,right:-1,items:[]},this._outside={left:-1,right:-1,timer:null},this._initScroll(),this._initArrows(),domData(this._el,"gallery-id",this._id),o().galleries[this._id]=this,this._checkItemsAfterScroll(this._innerCont.scrollLeft,!0)}_initScroll(){(this._opts.scrollX||this._opts.scrollY)&&addEvent(this._innerCont,"DOMMouseScroll wheel",this._onWheelScroll.bind(this))}_initArrows(){this._opts.noArrows?addClass(this._el,"ui_gallery_no_arrows"):(this._leftArrow=geByClass1("ui_gallery__arrow_left",this._el),this._rightArrow=geByClass1("ui_gallery__arrow_right",this._el),this._arrowWidth=getSize(this._leftArrow)[0],addEvent(this._leftArrow,"click",this._onArrowScroll.bind(this,-1)),addEvent(this._leftArrow,"mouseover",this._onArrowMouseOver.bind(this,"left")),addEvent(this._leftArrow,"mouseout",this._onArrowMouseOut.bind(this)),addEvent(this._rightArrow,"click",this._onArrowScroll.bind(this,1)),addEvent(this._rightArrow,"mouseover",this._onArrowMouseOver.bind(this,"right")),addEvent(this._rightArrow,"mouseout",this._onArrowMouseOut.bind(this)))}_onWheelScroll(e){if(this._opts.scrollX||this._opts.scrollY){var t;if("wheel"==e.type)if(Math.abs(e.deltaY)>Math.abs(e.deltaX)){if(!this._opts.scrollY)return;t=-e.deltaY}else{if(!this._opts.scrollX)return;t=-e.deltaX}else if(void 0!==e.wheelDeltaY){if(!this._opts.scrollY)return;t=e.wheelDeltaY}else if(void 0!==e.wheelDelta)t=e.wheelDelta;else{if(!e.detail||1!==e.axis)return;t=-e.detail}t=this._scroll.rtlSame?-t:t,Math.abs(t)>=120&&(t=74*Math.max(-1,Math.min(1,t))),this._innerCont.scrollLeft-=t,this._checkItemsAfterScroll(this._innerCont.scrollLeft),cancelEvent(e)}}_onArrowScroll(e,t){if(!this._opts.noArrows){var n=this._innerCont.scrollLeft+(this._scroll.rtlSame?-e:e)*(this._width-2*this._arrowWidth),r=this._innerCont.scrollWidth-this._width;this._scroll.negative?(n=Math.min(n,0),n=Math.abs(n)):n=Math.max(0,n),n=Math.min(r,n);var o=this._scroll.negative||this._scroll.rtlSame?-e:e;if(o>0&&n<r)n=Math.floor(n/this._itemFullWidth)*this._itemFullWidth;else if(o<0&&n>0){n=Math.floor(n/this._itemFullWidth)*this._itemFullWidth}if(0===n||n===r){var a=this._innerCont.scrollWidth;addClass(this._inner,"ui_gallery__inner_shift_instant"),this._onArrowMouseOut(),n&&(n+=e*(this._innerCont.scrollWidth-a))}this._scroll.negative&&(n=-n),animate(this._innerCont,{scrollLeft:n},{duration:Math.abs(this._innerCont.scrollLeft-n)+50,transition:Fx.Transitions.easeOutCubic}),this._checkItemsAfterScroll(n),setTimeout((()=>removeClass(this._inner,"ui_gallery__inner_shift_instant")),0),cancelEvent(t)}}_checkItemsAfterScroll(e,t){if(this._scroll.negative&&(e=Math.abs(e)),this._opts.markOutside||this._opts.onViewItem){var n,r=this._itemWidth/3,o=(this._scroll.backward?this._inner.scrollWidth-this._width-e:e)-this._scrollOffset,a=e&&Math.floor(o/this._itemFullWidth),i=a*this._itemFullWidth+2*r;n=this._scroll.backward?e+this._width<this._inner.scrollWidth-i:e>i;var s,l=Math.min(this._items.length-1,Math.floor((o+this._width)/this._itemFullWidth)),u=l*this._itemFullWidth+2*r;if(s=this._scroll.backward?e>this._inner.scrollWidth-u:e+this._width<u,this._opts.onViewItem){var c=n?Math.min(this._items.length-1,a+1):a,d=s?Math.max(0,l-1):l;if(t||c!==this._visible.left||d!==this._visible.right){for(var _=c;_<=d;_++)(this._visible.left<0||t&&!inArray(this._items[_],this._visible.items)||_<this._visible.left||_>this._visible.right)&&this._opts.onViewItem(this._items[_],_);this._visible.left=c,this._visible.right=d,this._visible.items=this._items.slice(c,d+1)}}this._opts.markOutside&&(t?(geByClass("ui_gallery_item_outside",this._inner).forEach((e=>{removeClass(e,"ui_gallery_item_outside")})),this._outside.left=-1,this._outside.right=-1):((a!==this._outside.left||!n)&&this._outside.left>=0&&(removeClass(this._items[this._outside.left],"ui_gallery_item_outside"),this._outside.left=-1),(l!==this._outside.right||!s)&&this._outside.right>=0&&(removeClass(this._items[this._outside.right],"ui_gallery_item_outside"),this._outside.right=-1)),n&&a!==this._outside.left&&(addClass(this._items[a],"ui_gallery_item_outside"),this._outside.left=a),s&&l!==this._outside.right&&(addClass(this._items[l],"ui_gallery_item_outside"),this._outside.right=l))}if(!this._opts.noArrows){var p=e>0,h=e+this._width<this._inner.scrollWidth;toggleClass(this._leftArrow,"ui_gallery__arrow_visible",this._scroll.rtl&&!this._scroll.backward?h:p),toggleClass(this._rightArrow,"ui_gallery__arrow_visible",this._scroll.rtl&&!this._scroll.backward?p:h)}(!this._scroll.backward&&this._inner.scrollWidth-e-this._width<1e3||this._scroll.backward&&e<1e3)&&this._onLoadMore()}_onArrowMouseOver(e){this._opts.noArrows||addClass(this._inner,"ui_gallery__inner_shift_"+e)}_onArrowMouseOut(){this._opts.noArrows||(removeClass(this._inner,"ui_gallery__inner_shift_left"),removeClass(this._inner,"ui_gallery__inner_shift_right"))}_onLoadMore(){!this._opts.onLoadMore||this._loadingMore||this._finised||(this._loadingMore=!0,this._opts.onLoadMore(this._items.length))}addMore(e,t){e=e||[],this.addItems(e),this._finised=!!t||!e.length,this._loadingMore=!1}addItems(e,t){if((e=e||[]).length){var n=t>=0&&t<this._items.length?this._items[t]:null;e.forEach((e=>{n?domInsertBefore(e,n):this._inner.appendChild(e)})),this.refresh()}}destroy(){removeEvent(this._innerCont),removeEvent(this._leftArrow),removeEvent(this._rightArrow),domData(this._el,"gallery-id",null),delete o().galleries[this._id],this._opts.onDestroy&&this._opts.onDestroy(),re(this._el)}removeItem(e){return isNumeric(e)&&(e=this._items[e]),!(!e||!inArray(e,this._items))&&(re(e),this.refresh(),this._items.length||this.destroy(),!0)}refresh(){this._width=getSize(this._el)[0],this._items=geByClass("ui_gallery_item",this._el),this._checkItemsAfterScroll(this._innerCont.scrollLeft,!0)}getItems(){return this._items}getVisibleItems(){return this._visible.items.map(((e,t)=>[e,this._visible.left+t]))}}},5528:(e,t,n)=>{"use strict";n.d(t,{Gifts:()=>s});n(5115);var r=n(5456),o=n(2952),a=n(2808);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s={deleteGift:function(e,t,n,r){r=r||{},ajax.post("al_gifts.php",{act:"delete",mid:r.mid,gift:n,hash:r.hash},{onDone:function(e){var n=ge("gift"+t);n&&(domNS(domFC(n))?domNS(domFC(n)).innerHTML=e:(n.appendChild(ce("div",{className:"gift_deleted",innerHTML:e})),hide(domFC(n)),window.Pagination&&!curBox()&&window.Pagination.recache(-1)))},showProgress:addClass.pbind(e,"gift_progress"),hideProgress:removeClass.pbind(e,"gift_progress")})},restoreGift:function(e,t,n,r){r=r||{},ajax.post("al_gifts.php",{act:"restore",mid:r.mid,gift:n,hash:r.hash},{onDone:function(){var e=ge("gift"+t);e&&domNS(domFC(e))&&(re(domNS(domFC(e))),show(domFC(e)))}})},markSpamGift:function(e,t,n,r){r=r||{},ajax.post("al_gifts.php",{act:"mark_spam",mid:r.mid,gift:n,hash:r.hash},{onDone:function(e){ge("gift_mark_spam"+t).innerHTML=e}})},initGiftsBox:function(e,t){e.setOptions({width:638,bodyStyle:"padding: 0",grey:!0,hideButtons:!0,onShow:function(){cur.gftbxWasScroll&&(boxLayerWrap.scrollTop=cur.gftbxWasScroll,cur.gftbxWasScroll=!1)}}),t.lang&&(cur.lang=extend(cur.lang||{},t.lang)),extend(cur,{gftbxOffset:t.offset,gftbxAutoload:!0,gftbxWasScroll:!1,gftbxMid:t.mid}),ajax.preload("al_gifts.php",{act:"box",mid:t.mid,offset:t.offset},t.preload),window.uiScrollBox&&window.uiScrollBox.init(e,{onShow:function(){addEvent(boxLayerWrap,"scroll",s.onGiftsScroll),setTimeout(cur.chooseAudioScroll,0)},onHide:function(){removeEvent(boxLayerWrap,"scroll",s.onGiftsScroll)}}),addEvent(boxLayerWrap,"scroll",s.onGiftsScroll);var n=boxLayerWrap.scrollTop;elfocus(geByClass1("_scroll_node",e.bodyNode)),boxLayerWrap.scrollTop=n,onBodyResize(),s.onGiftsScroll()},moreGifts:function(){var e=ge("gifts_more_link");(0,r.buttonLocked)(e)||(ajax.post("al_gifts.php",{act:"box",mid:cur.gftbxMid,offset:cur.gftbxOffset},{onDone:function(t,n,r){var o=ce("div",{innerHTML:t}),a=ge("gifts_rows");if(a){for(var i=domFC(o);i;i=domFC(o))a.appendChild(i);cur.gftbxOffset=n,r?s.preloadGifts():hide(e)}},showProgress:r.lockButton.pbind(e),hideProgress:r.unlockButton.pbind(e),cache:1}),cur.gftbxAutoload=!0)},preloadGifts:function(){ajax.post("al_gifts.php",{act:"box",mid:cur.gftbxMid,offset:cur.gftbxOffset},{cache:1})},onGiftsScroll:function(){if(cur.gftbxAutoload){var e=lastWindowHeight,t=ge("gifts_more_link");isVisible(t)&&e>getXY(t,!0)[1]&&t.click()}},showGiftBox:function(e,t,n){return window.Profile?window.Profile.showGiftBox(e,t,n):(cur.gftbxWasScroll=boxLayerWrap.scrollTop,boxLayerWrap.scrollTop=0,cur.viewAsBox?cur.viewAsBox():!showBox("al_gifts.php",{act:"get_gift_box",mid:e,fr:e==vk.id?1:0,ref:n},{stat:["gifts.css","wide_dd.js","wide_dd.css"],cache:1},t))},processBoxOptions(e,t){-1e3!=t&&t&&(extend(cur,{forcedPaymentMethod:t.forcedPaymentMethod,paymentsOfferPreview:t.paymentsOfferPreview,paymentsPreload:t.paymentsPreload,paymentsAppOrder:t.paymentsAppOrder,paymentsOfferPreload:t.paymentsOfferPreload}),t.orderData&&a.AppOrderBox.initialize(t.orderData.orderId,t.orderData.appId,t.orderData.testMode,t.orderData.hash,t.orderData.votes,t.orderData.discount,t.orderData.billPeriod,t.orderData.salesRef),extend(cur,{paymentsAuthPayment:t.paymentsAuthPayment,paymentsOrderNotice:t.paymentsOrderNotice,paymentsTryCompleteOrder:t.paymentsTryCompleteOrder,isPaymentsAppOrder:t.isPaymentsAppOrder,paymentsOfferApp:t.paymentsOfferApp,checkoutEnabled:t.checkoutEnabled}),t.showProgress&&o.PaymentsBox.showProgress(""),extend(cur,{votesAmountsData:t.votesAmountsData,paymentsPreferVotes:t.paymentsPreferVotes,votesTypeInit:t.votesTypeInit,psList:t.psList,paymentsWideBox:t.paymentsWideBox,paymentsTooltips:t.paymentsTooltips,paymentsChangeType:0===t.paymentsWideBox?getLang("payments_go_change_pay_type"):"",payments_get_votes:getLang("payments_get_votes_new"),getVotesDoneHide:!0,paymentsWaitingCache:{},isPaymentComplete:!1,isPaymentAttemted:!1,usdRate:t.usdRate,paymentsHash:t.paymentsHash,paymentComplete:o.PaymentsBox.complete,paymentCanceled:o.PaymentsBox.paymentCanceled,paymentsShowProgress:o.PaymentsBox.showProgress,statSessionId:t.statSessionId}),o.PaymentsBox.initialize(e),cur.checkoutEnabled||(o.PaymentsBox.initPhoneCountry(t.countries,t.country),o.PaymentsBox.initPhoneNumber(ge("phone"))),extend(cur,{paymentsTypesSum:t.paymentsTypesSum,instantNeedCVV:t.instantNeedCVV,votesType:t.votesType,paymentsWPreload:t.paymentsWPreload}),t.getVotesAmountsOnDone&&o.PaymentsBox.getVotesAmountsOnDone.apply(this,cur.paymentsWPreload))},showGetMoneyBox(){return showBox("al_gifts.php",i({act:"get_money"},arguments.length>0&&void 0!==arguments[0]?arguments[0]:null),{onDone:this.processBoxOptions})}}},3e3:(e,t,n)=>{"use strict";n.d(t,{default:()=>u});var r=n(7663),o=n(7851),a=n(4914),i=n(2699),s=n(7685);function l(e,t,n){if((0,i.isObject)(t)?n=t:this._dragElClass=t,this.options=(0,i.extend)({dragThreshold:l.DRAG_THRESHOLD_DIST},n),this._contEl=(0,a.ge)(e),this._contEl){this._excludedCount=0;for(var r=0;r<this._contEl.children.length;r++)this._contEl.children[r].getAttribute("nodrag")&&this._excludedCount++;(0,s.addEvent)(this._contEl,"mousedown",this._ev_mousedown_handler=this._onMouseDown.bind(this)),(0,a.setStyle)(this._contEl,"position","relative"),this._inited=!0,this._updateScrollbar=this._initUpdaterScrollbar()}}l.AUTO_SCROLL_DY=10,l.DRAG_THRESHOLD_DIST=0,l.AUTO_SCROLL_DISTANCE_THRESHOLD=300,l.AUTO_SCROLL_GAP=300,l.prototype.destroy=function(){this._inited&&(this._inited=!1,this._deinitEvents(!0))},l.prototype._getParentDragItemEl=function(e){for(var t,n=e;n&&(t=(0,a.domPN)(n))!==this._contEl;)n=t;return n===this._curPlaceholderEl&&(n=null),n},l.prototype._onKey=function(e){e.keyCode===s.KEY.ESC&&this.isCurrentlyDragging()&&this._onMouseUp()},l.prototype._onMouseDown=function(e){if(!(this._disabled||0!=e.button||this._curDragEl||(0,a.attr)(e.target,"nodrag")||this._dragElClass&&!(0,a.domClosest)(this._dragElClass,e.target))){for(var t=e.target;t&&t!==window.document;){if((0,i.intval)((0,a.domData)(t,"nodrag")))return;t=(0,a.domPN)(t)}var n=this._getParentDragItemEl(e.target);if(n&&!(0,a.attr)(n,"nodrag")&&((0,a.re)((0,a.geByClass1)("ui_gridsorter_placeholder"),this._contEl),this._contInfo=this._contInfo||{prevSize:(0,a.getSize)(this._contEl)},this._ensureGridIsActual(),!(this._grid.length<=1))){var r=window.getComputedStyle(n),o=(0,a.getXY)(n);this._initial={candidateEl:n,x:e.clientX,y:e.clientY,itemMargin:{x:parseInt(r.marginLeft),y:parseInt(r.marginTop)},shift:{x:e.pageX-o[0],y:e.pageY-o[1]}},(0,s.addEvent)(document,"mousemove",this._ev_mousemove_handler=this._onMouseMove.bind(this)),(0,s.addEvent)(document,"mouseup",this._ev_mouseup_handler=this._onMouseUp.bind(this)),(0,s.addEvent)(document,"keydown",this._ev_keydown_handler=this._onKey.bind(this)),cur.cancelClick=!1,(0,s.cancelEvent)(e)}}},l.prototype._dist=function(e){return Math.abs(e.clientX-this._initial.x)+Math.abs(e.clientY-this._initial.y)},l.prototype._onMouseUp=function(e){var t=this._curDragEl,n=!e;if(this._curDragEl){this._curDragEl=null,(0,a.removeClass)(t,"ui_gridsorter_moveable_notrans"),this._curOverCell||(this._curOverCell={el:this._curPlaceholderEl,pos:(0,a.getXY)(this._curPlaceholderEl),size:(0,a.getSize)(this._curPlaceholderEl)});var r=this._curOverCell.pos,o=this._curOverCell.el,i=this._grid[this._curDragCellIndex],l=i&&i.size;(0,a.gpeByClass)("_ape_item_list",t)&&(r[0]+=20,r[1]+=20),l&&this._isShiftToLeft&&(r[1]-=l[1]-this._curOverCell.size[1]),setTimeout((()=>{if(n){for(var e=0,o=this._grid.length;e<o;e++){var a=this._grid[e];a.dirty&&this._setPos(a.el,{left:0,top:0})}this._setPos(t,this._initialCurDragPos)}else this._setPos(t,{left:r[0],top:r[1]})})),setTimeout((()=>{if((0,a.re)(this._curPlaceholderEl),(0,a.removeClass)(this._contEl,"ui_gridsorter_cont"),this.options.dragCls&&(0,a.removeClass)(t,this.options.dragCls),this._inited){var e;if(n){for(var r=this._grid.length,i=0;i<r;i++){var s=this._grid[i];s.dirty&&this._setPos(s.el,{left:null,top:null})}this._setPos(t,{left:null,top:null,width:null,height:null})}else{var l;e=this._isShiftToLeft?(0,a.domNS)(o):o,this._contEl.insertBefore(t,e);var u=-1,c=this._initial.hasInlineSize;this._setPos(t,{left:null,top:null}),c||(0,a.setStyle)(t,{width:null,height:null});for(var d=this._grid.length,_=0;_<d;_++){var p=this._grid[_];(p.dirty||p.el===t)&&(this._setPos(p.el,{left:null,top:null}),c||(0,a.setStyle)(p.el,{width:null,height:null}),p.pos=this._calcElementPos(p.el),p.dirty=!1),p.el===t?l=_:p.el===o&&(u=_)}if(u>=0){var h=this._grid.splice(l,1);this._grid.splice(u,0,h[0])}}(0,a.removeClass)(t,"ui_gridsorter_moveable"),this._curOverCell=this._curPlaceholderEl=null,n&&this.update(),this.options.onDragFinish&&this.options.onDragFinish(t),o!==t&&!n&&this.options.onReorder&&this.options.onReorder(t,e,(0,a.domPS)(t))}}),210),e&&this._dist(e)>5&&((0,s.cancelEvent)(e),cur.cancelClick=!0)}this._updateScrollbar(),this._deinitEvents(),t&&this._overEl&&this.options.onDragLeave&&this.options.onDragLeave(this._overEl,t),n||t&&this._overEl&&this.options.onDragDrop&&(n=this.options.onDragDrop(this._overEl,t)),this._overEl=null},l.prototype._deinitEvents=function(e){e&&(this._onMouseUp(),(0,s.removeEvent)(this._contEl,"mousedown",this._ev_mousedown_handler)),clearTimeout(this._autoScrollTO),this._autoScrollTO=!1,this._ev_mousemove_handler&&(0,s.removeEvent)(document,"mousemove",this._ev_mousemove_handler),this._ev_mouseup_handler&&(0,s.removeEvent)(document,"mouseup",this._ev_mouseup_handler),this._ev_keydown_handler&&(0,s.removeEvent)(document,"keydown",this._ev_keydown_handler)},l.prototype._setPos=function(e,t){this.options.noPosTransform||!this._hasTranslateFeauture&&!(this._hasTranslateFeauture=window.getComputedStyle(e).getPropertyValue("transform"))?(0,a.setStyle)(e,(0,i.extend)({transform:null},t)):null===t.left||null===t.top?(0,a.setStyle)(e,{transform:null,top:null,left:null}):(0,a.setStyle)(e,{transform:"translate("+t.left+"px, "+t.top+"px)",top:null,pos:null})},l.prototype._recalc=function(){var e=this._curDragEl,t=this._curOverCell.el;if(this._initGrid(),t!==e){for(var n=0,r=!1,o=!1,a=this._grid.length,i=0;i<a;i++){var s=this._grid[i];if(s.el===e){r=!0;break}if(s.el===t){r=!1;break}}this._isShiftToLeft=r;for(var l=r?0:this._grid.length-1,u=r?this._grid.length:-1,c=r?1:-1,d=[0,0];l!==u;l+=c){var _=this._grid[l];if(2!==n)if(_.el!==e){if(_.el===t&&n++,1===n||2===n){var p=0,h=0;r?(p=o.pos[0]+d[0],h=o.pos[1]+d[1],d[0]+=_.size[0]-o.size[0],d[1]+=_.size[1]-o.size[1]):(d[0]+=o.size[0]-_.size[0],d[1]+=o.size[1]-_.size[1],p=o.pos[0]+d[0],h=o.pos[1]+d[1]),this._setPos(_.el,{left:p-_.pos[0],top:h-_.pos[1]}),_.dirty=!0}else _.dirty&&(this._setPos(_.el,{left:null,top:null}),_.dirty=!1);o=_}else n++,o=_;else _.dirty&&(this._setPos(_.el,{left:null,top:null}),_.dirty=!1),o=_}}else for(var m=this._grid.length,f=0;f<m;f++){var v=this._grid[f];v.el!==e&&v.dirty&&(v.dirty=!1,this._setPos(v.el,{left:null,top:null}))}},l.prototype.disable=function(){this._disabled=!0},l.prototype.enable=function(){this._disabled=!1,this._initGrid(!0)},l.prototype.update=function(){this._disabled||this._initGrid(!0)},l.prototype._ensureGridIsActual=function(){this._initGrid()},l.prototype._needGridUpdate=function(){if(!this._grid)return 1;this._contInfo.prevSize=this._contInfo.prevSize||(0,a.getSize)(this._contEl);var e=0,t=this._contEl.children.length-this._excludedCount-(0,i.intval)(!!this._curPlaceholderEl);if(t!==this._grid.length)e=t>this._grid.length?2:1,this._contInfo.prevSize=(0,a.getSize)(this._contEl);else{var n=(0,a.getSize)(this._contEl),r=this._contInfo.prevSize;(Math.abs(r[0]-n[0])>5||Math.abs(r[1]-n[1])>5)&&(e=1),this._contInfo.prevSize=n}return e},l.prototype._initGrid=function(e){var t=e?1:this._needGridUpdate();if(t){1===t&&(this._grid=[],this._contInfo&&(delete this._contInfo.pos,delete this._contInfo.size));var n=this._grid?this._grid[this._grid.length-1]:null;this._grid=this._grid||[];var r,o=!!n,i=this._contEl.children;if(i.length)for(var s=this._getItemMargins(),l=this._curDragEl?this._grid.length:0,u=i.length;l<u;l++){var c=i[l];n&&c===n.el?o=!1:o||c===this._curPlaceholderEl||c.getAttribute("nodrag")||((r=(0,a.getSize)(c))[0]+=s[0],r[1]+=s[1],this._grid.push({el:c,size:r,pos:this._calcElementPos(c)}))}}},l.prototype._getRelativeMousePos=function(e){var t=this._getContPos(),n=this._getContShift();return{left:e.clientX-t[0]-n[0],top:e.clientY-t[1]-n[1]}},l.prototype._updateDraggablePosition=function(e){if(this._curDragEl){var t=this._getRelativeMousePos(e),n=this._getItemShift(),r=this._getContShift(),o=this._getContSize(),i=t.top-this._initial.shift.y-n[1]+r[1];this.options.limitBottomMove&&(i=Math.min(i,o[1]+30)),(0,a.hasClass)(this._contEl,"_ape_item_list")&&(i+=this._contEl.scrollTop),this._setPos(this._curDragEl,{left:t.left-this._initial.shift.x-n[0]+r[0],top:i}),window.AudioPage&&window.AudioPage.onUpdateDraggablePosition&&window.AudioPage.onUpdateDraggablePosition()}},l.prototype._getContShift=function(){if(this._contInfo=this._contInfo||{},!this._contInfo.shift){var e=window.getComputedStyle(this._contEl);this._contInfo.shift=[parseFloat(e.paddingLeft),parseFloat(e.paddingTop)]}return this._contInfo.shift},l.prototype._getContSize=function(){return this._contInfo=this._contInfo||{},this._contInfo.size=(0,a.getSize)(this._contEl),this._contInfo.size},l.prototype._getContPos=function(){return this._contInfo=this._contInfo||{},this._contInfo.pos=(0,a.getXY)(this._contEl),this._contInfo.pos[1]-=(0,r.scrollGetY)(),this._contInfo.pos},l.prototype._getItemShift=function(){if(this._contInfo=this._contInfo||{},!this._contInfo.itemShift){var e=window.getComputedStyle((0,a.domFC)(this._contEl));this._contInfo.itemShift=[parseFloat(e.marginLeft),parseFloat(e.marginTop)]}return this._contInfo.itemShift},l.prototype._getItemMargins=function(){if(this._contInfo=this._contInfo||{},!this._contInfo.itemMargins){var e=window.getComputedStyle((0,a.domFC)(this._contEl));this._contInfo.itemMargins=[parseFloat(e.marginLeft)+parseFloat(e.marginRight),parseFloat(e.marginTop)+parseFloat(e.marginBottom)]}return this._contInfo.itemMargins},l.prototype._calcElementPos=function(e){var t=this._getContShift(),n=this._getItemShift();return[e.offsetLeft-t[0]-n[0],e.offsetTop-t[1]-n[1]]},l.prototype.isCurrentlyDragging=function(){return!!this._curDragEl},l.prototype._initUpdaterScrollbar=function(){return(0,o.throttle)((e=>{var t=this.options.wrapNode||e,n=(0,a.data)(t,"sb");n&&n.update(!1,!0)}),500)},l.prototype._onMouseMove=function(e){var t=()=>this.options.wrapNode?this.options.wrapNode.scrollTop:(0,r.scrollGetY)(),n=e=>{this.options.wrapNode?this.options.wrapNode.scrollTop=e:(0,r.scrollToY)(e,0,!1,!0)};if(this._curDragEl){this._ensureGridIsActual(),!e&&(e={clientX:this._lastMousePos.x,clientY:this._lastMousePos.y}),this._lastMousePos={x:e.clientX,y:e.clientY},this._updateDraggablePosition(e);var o=this._getContSize(),i=this._getRelativeMousePos(e),l=!1;if((0,a.hasClass)(this._contEl,"_ape_item_list")&&(i.top+=this._contEl.scrollTop),i.left>0&&i.left<o[0]&&i.top>0&&i.top<o[1])for(var u=0,c=this._grid.length-1,d=50;d;){var _=u+Math.floor((c-u)/2),p=this._grid[_];if(i.left>p.pos[0]&&i.top>p.pos[1]&&i.left<p.pos[0]+p.size[0]&&i.top<p.pos[1]+p.size[1]){l=p;break}if(u===c)break;i.top<p.pos[1]||i.left<p.pos[0]&&i.top<p.pos[1]+p.size[1]?c=c===_?c-1:_:u=u===_?u+1:_,d--}else{for(var h,m,f,v=this._grid.length,g=999999,y=0;y<v;y++){var w=this._grid[y],b=(m=i.left-(w.pos[0]+w.size[0]/2))*m+(f=i.top-(w.pos[1]+w.size[1]/2))*f;g>b&&(g=b,h=w)}l=h}!l||this._curOverCell&&this._curOverCell.el===l.el||(this._curOverCell=l,this._recalc());var E,C,D,k,P=0;if(this.options.wrapNode)E=k=this.options.wrapNode,C=(0,a.getSize)(E),(D=(0,a.getXY)(E))[1]-=(0,r.scrollGetY)(),P=e.clientY;else{var x=window,T=document.documentElement,S=document.getElementsByTagName("body")[0],B=x.innerWidth||T.clientWidth||S.clientWidth,O=x.innerHeight||T.clientHeight||S.clientHeight;k=x.bodyNode,C=[B,O],D=[0,0],P=e.clientY}var M=Math.max(20,C[1]/10),L=D[1]+M-P,I=M-(D[1]+C[1]-P);if(I>0||L>0){var A=Math.min(1,L/M),N=Math.min(1,I/M);this._autoScrollTO||(this._autoScrollTO=setTimeout((()=>{this._autoScrollTO=!1;var e=t();n(e+16*(A>0?-A:N)),e!==k.scrollTop&&(this._updateScrollbar(k),this._onMouseMove())}),20))}if(this.options.onDragOverElClass){var R=e.target;(0,a.hasClass)(R,this.options.onDragOverElClass)||(R=(0,a.gpeByClass)(this.options.onDragOverElClass,R))?this._overEl!==R&&(this._overEl&&this.options.onDragLeave&&this.options.onDragLeave(this._overEl,this._curDragEl),this.options.onDragEnter&&this.options.onDragEnter(R,this._curDragEl),this._overEl=R):(this._overEl&&this.options.onDragLeave&&this.options.onDragLeave(this._overEl,this._curDragEl),this._overEl=null)}}else if(this._dist(e)>this.options.dragThreshold){this._curDragEl=this._initial.candidateEl;for(var F=this._grid.length,W=0;W<F;W++)if(this._grid[W].el===this._curDragEl){this._curDragCellIndex=W;break}this.options.dragCls&&(0,a.addClass)(this._curDragEl,this.options.dragCls);var U=(0,a.getSize)(this._curDragEl),j=(0,a.getXY)(this._curDragEl),H=window.getComputedStyle(this._curDragEl),K=this._getContPos();this._initial.hasInlineSize=!(!this._curDragEl.style.width&&!this._curDragEl.style.height),(0,a.setStyle)(this._curDragEl,{width:U[0],height:U[1]}),this._initialCurDragPos={left:j[0]-K[0],top:j[1]-K[1]-bodyNode.scrollTop},this._curPlaceholderEl=(0,a.ce)("div",{className:"ui_gridsorter_placeholder"}),(0,a.setStyle)(this._curPlaceholderEl,{width:U[0]+parseFloat(H.marginLeft)+parseFloat(H.marginRight),height:U[1]+parseFloat(H.marginTop)+parseFloat(H.marginBottom)}),this._contEl.insertBefore(this._curPlaceholderEl,this._curDragEl),(0,a.addClass)(this._curDragEl,"ui_gridsorter_moveable"),(0,a.addClass)(this._curDragEl,"ui_gridsorter_moveable_notrans"),(0,a.addClass)(this._contEl,"ui_gridsorter_cont"),this._onMouseMove(e),this._updateDraggablePosition(e),this.options.onDragStart&&this.options.onDragStart(this._curDragEl)}(0,s.cancelEvent)(e)};const u=l},2685:(e,t,n)=>{"use strict";n.d(t,{default:()=>c});n(522),n(6108),n(6253),n(1181),n(9665),n(5767);var r=n(4914),o=n(7663),a=n(1792);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l="page_header_cont",u="onboarding";class c{constructor(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.el=e,this.text=t,this.hideDarkness=!0,this.oldColor=!1;var r=n.class?n.class:"",o={autoShow:!1,noAutoHideOnWindowClick:!0,content:t instanceof HTMLElement?t:`${t}`,cls:`feature_intro_tt feature_intro_blue_tt tutorial_tip_tt ${r}`,appendToParent:!0,onHide:this.ttOnHide.bind(this),scrollOffset:n.scrollOffset||0};n.side&&(o.forceSide=n.side),n.offset&&(o.offset=n.offset),n.width&&(o.width=n.width),n.shift&&(o.centerShift=n.shift),n.border?this.border=n.border:this.border=[10,10,10,10],n.ttOnHide&&(o.onHide=n.ttOnHide),n.withCloseButton&&(o.withCloseButton=n.withCloseButton,o.onCloseButtonClick=n.onCloseButtonClick),n.align&&(o.align=n.align),this.ttParams=o,this.opts=n,this.initOnboardingBG()}initOnboardingBG(){if(!window.onboardingBG){var e=se('\n<div id="onboarding_layout">\n  <svg id="onboarding_bg_header" width="100%" height="49px">\n    <rect id="onboarding_bg_rect" x="0" y="0" width="100%" height="100%" fill-opacity="0.8" fill="#000"></rect>\n  </svg>\n  <svg id="onboarding_bg" width="100%" height="100%">\n  <defs>\n    <mask id="mask" x="0" y="0" width="100%" height="100%">\n      <rect x="0" y="0" width="100%" height="100%" fill="#fff"></rect>\n      <rect id="onboarding_bg_clip" x="0" y="0" width="0" height="0" fill="#000" rx="8" ry="8"></rect>\n    </mask>\n  </defs>\n  <rect id="onboarding_bg_rect" x="0" y="42" width="100%" height="100%" mask="url(#mask)" fill-opacity="0.8"></rect>\n  </svg>\n</div>\n      ');(0,r.domInsertBefore)(e,window.layerBG),window.onboardingBGHeader=ge("onboarding_bg_header"),window.onboardingBG=ge("onboarding_bg"),window.onboardingBGRect=ge("onboarding_bg_rect"),window.onboardingBGClip=ge("onboarding_bg_clip"),window.cur.destroy.push((()=>{hide(window.onboardingBG),hide(window.onboardingBGHeader),removeClass(ge(l),u),this.hideDarkness=!0,this.hideTT(),delete window.onboardingBG,delete window.onboardingBGHeader,delete window.onboardingBGRect,delete window.onboardingBGClip,this.opts.onBGClick&&removeEvent(window.onboardingBG,"click",this.opts.onBGClick)})),this.opts.onBGClick&&addEvent(window.onboardingBG,"click",this.opts.onBGClick)}}showTT(){var e=i((0,r.getXY)(this.el),2)[1];this.tt=new window.ElementTooltip(this.el,this.ttParams),this.opts.highlight&&(this.addDarkness(),this.addHighlight()),this.tt.show();var t=this.tt.getContent();(0,a.isElementInViewport)(this.el)&&(0,a.isElementInViewport)(t)||(0,o.scrollToY)(e-42-this.ttParams.scrollOffset)}hideTT(){this.tt&&(this.tt.destroy(),this.removeDarkens(),this.hideDarkness&&(removeEvent(window,"scroll"),removeEvent(window,"resize")))}addHighlight(){window.onboardingBGClip&&(this.highlightElement(),addEvent(window,"scroll",this.onScrollTT.bind(this)),addEvent(window,"resize",this.onResizeTT.bind(this)))}highlightElement(){var e=this.el.offsetWidth,t=this.el.offsetHeight,n=(0,r.getXY)(this.el);attr(window.onboardingBGClip,"width",e+this.border[1]+this.border[3]),attr(window.onboardingBGClip,"height",t+this.border[0]+this.border[2]),attr(window.onboardingBGClip,"x",n[0]-this.border[1]),attr(window.onboardingBGClip,"y",n[1]-this.border[0])}onResizeTT(){this.setDartToFullWidth(),this.highlightElement()}onScrollTT(){var e=this.getPageHeight();window.onboardingBG.height!=e&&this.setDartToFullHeight()}setDartToFullHeight(){attr(window.onboardingBG,"height",this.getPageHeight())}setDartToFullWidth(){attr(window.onboardingBG,"width",this.getPageWidth()),attr(window.onboardingBGHeader,"width",this.getPageWidth())}addDarkness(){(0,r.isVisible)(window.onboardingBG)||(this.setDartToFullHeight(),this.setDartToFullWidth(),show(window.onboardingBG),(0,r.isVisible)(window.onboardingBGHeader)||(show(window.onboardingBGHeader),addClass(ge(l),u)))}removeDarkens(){this.hideDarkness&&(hide(window.onboardingBG),hide(window.onboardingBGHeader),removeClass(ge(l),u))}ttOnHide(){this.hideTT()}show(){setTimeout(this.showTT.bind(this),1e3)}getPageWidth(){var e=document.documentElement,t=document.body;return Math.max(t.scrollWidth,e.scrollWidth,t.offsetWidth,e.offsetWidth,t.clientWidth,e.clientWidth)}getPageHeight(){var e=document.documentElement,t=document.body;return Math.max(t.scrollHeight,e.scrollHeight,t.offsetHeight,e.offsetHeight,t.clientHeight,e.clientHeight)}}},1792:(e,t,n)=>{"use strict";function r(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}n.d(t,{isElementInViewport:()=>r})},3131:(e,t,n)=>{"use strict";function r(e){var t=e.getBoundingClientRect(),n=document.body,r=document.documentElement,o=window.pageYOffset||r.scrollTop||n.scrollTop,a=window.pageXOffset||r.scrollLeft||n.scrollLeft,i=r.clientTop||n.clientTop||0,s=r.clientLeft||n.clientLeft||0;return{top:Math.round(t.top+o-i),left:Math.round(t.left+a-s),width:e.offsetWidth,height:e.offsetHeight}}n.d(t,{default:()=>r})},8775:(e,t,n)=>{"use strict";n.d(t,{showQuickLoginBox:()=>r,showJoinBox:()=>o});n(9357),n(1296),n(5456),n(1563),n(9016),n(6886),n(2699),n(4914),n(9369),n(3158);function r(){return showBox("al_login.php",{act:"box"}),!1}function o(){return showBox("join.php",{act:"box",from:window.nav.strLoc}),!1}},3439:(e,t,n)=>{"use strict";n.d(t,{updateOnlineText:()=>s,updateAriaElements:()=>u});var r=n(5456),o=n(2699),a=n(4914),i=n(6886);n(6566),n(6900);function s(){clearTimeout(cur.updateOnlineTO),cur.updateOnlineTO=setTimeout((function(){(0,o.each)((0,a.geByClass)("_online"),(function(){var e=(0,a.geByClass1)("_online_reader",this)||this,t=(0,a.hasClass)(this,"online"),n=(0,a.hasClass)(this,"mobile"),r=(0,a.geByTag)("img",e),s=function(e){var t=(0,a.domClosest)("_post",e),n=t&&(0,a.domByClass)(t,"author");return n?n.innerText||n.textContent:""};if(t){var l="";(0,o.each)(r,(function(){var e=(0,a.attr)(this,"alt")||(0,a.attr)(this,"data-alt")||s(this);e&&(l=(0,o.trim)(l+" "+e),this.setAttribute("data-alt",e),this.removeAttribute("alt"))})),l=(0,o.trim)(l+" "+(n?(0,i.getLang)("global_user_is_online_mobile"):(0,i.getLang)("global_user_is_online"))),e.setAttribute("aria-label",l)}else(0,o.each)(r,(function(){var e=(0,a.attr)(this,"data-alt")||s(this);e&&(this.setAttribute("alt",e),this.removeAttribute("data-alt"))})),e.removeAttribute("aria-label")}))}),100)}function l(){clearTimeout(cur.updateRadioBtnsTO),cur.updateRadioBtnsTO=setTimeout((function(){var e=[],t=(0,a.geByClass)("radiobtn");(0,o.each)(t,(function(){if("DIV"===this.tagName&&!this.getAttribute("role")){var t=(0,r.isChecked)(this);this.setAttribute("role","radio"),this.setAttribute("aria-checked",t?"true":"false"),this.setAttribute("tabindex",t?0:-1);var n=function(e){var t=5,n=0,r=e;for(;n<t&&r!==document;){if(r=(0,a.domPN)(r),(0,a.geByClass)("radiobtn",r).length>1)break;n++}return r}(this);~e.indexOf(n)||e.push(n)}})),(0,o.each)(e,(function(){if(!(0,a.geByClass)("on",this).length){var e=(0,a.geByClass)("radiobtn",this);e.length&&e[0].setAttribute("tabindex",0)}}))}),100)}function u(){s(),clearTimeout(cur.updateChkBoxTO),cur.updateChkBoxTO=setTimeout((function(){var e=[];(0,o.each)(["checkbox","checkbox_pic"],(function(){e=e.concat((0,a.geByClass)(this))})),(0,o.each)(e,(function(){"DIV"!==this.tagName||this.getAttribute("role")||(this.setAttribute("role","checkbox"),this.setAttribute("aria-checked",(0,r.isChecked)(this)?"true":"false"),this.setAttribute("tabindex",0))}))}),100),l()}},7551:(e,t,n)=>{"use strict";n.d(t,{updSeenAdsInfo:()=>i});var r=n(7813),o=n(2699),a=n(4914);function i(){if(((0,a.getXY)("ads_left",!0)||{})[1]&&vk.id){var e=(0,a.getXYRect)((0,a.geByTag1)("ol",(0,a.ge)("side_bar_inner")),!0),t=e?e.height:0,n=(0,a.getXYRect)((0,a.ge)("left_blocks"),!0),i=n?n.height:0,s=Math.max(Math.floor(((window.lastWindowHeight||0)-t-i-42-10)/260),0),l=(0,r.getCookie)("remixseenads");window.__seenAds=(0,o.intval)(l),l&&__seenAds===s||(window.__seenAds=s,(0,r.setCookie)("remixseenads",s,30))}}window.__adsLoaded=(0,o.vkNow)()},3339:(e,t,n)=>{"use strict";n.d(t,{validateMobileBox:()=>a});var r=n(1563);function o(e,t,n){return e.setOptions({onDestroy:n}),e.onDone=function(){t&&t.apply(null,arguments)},e}function a(e){return o((0,r.showBox)("activation.php",{act:"validate_box",captcha:e.acceptCaptcha?1:"",skip_push:e.skip_push?e.skip_push:"",from:e.from||"",hash:e.hash,ahash:e.ahash},{stat:["uncommon.css"]}),e.onDone,e.onFail)}},1260:(e,t,n)=>{"use strict";n.d(t,{curBox:()=>s,boxRefreshCoords:()=>l,showDoneBox:()=>u,getAndCleanBoxQueueData:()=>d,restoreBoxQueue:()=>_});n(5115),n(7685);var r=n(2699),o=n(4914),a=n(6566);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(){var e=window._message_boxes[window.boxQueue.curBox];return e&&e.isVisible()?e:null}function l(e){var t=window.innerHeight||document.documentElement.clientHeight||boxLayerBG.offsetHeight,n=a.browser.mobile?(0,r.intval)(window.pageYOffset):0,i=(0,o.getSize)(e);e.style.marginTop=Math.max(10,n+(t-i[1])/3)+"px"}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};window.Notifier?c(e,t,n):window.stManager.add(["notifier.js","notifier.css"],(()=>{c(e,t,n)}))}function c(e,t,n){window.curNotifier&&window.curNotifier.version||window.Notifier.init({version:-1,instance_id:-1});var r=void 0!==t.onHide?t.onHide:t.callback,o=void 0!==t.timeout?t.timeout:void 0!==t.out?t.out:null,a=null!==t.id&&void 0!==t.id?t.id:++window.curNotifier.showDoneBoxLastId,s=i({version:window.curNotifier.version,type:"done_box",text:e,onclick:t.onClick,top_count:-1,id:a,timeout:o,onHide:r,preventHideByClick:!0,link:t.link},n);t.tooltipHandler&&(s.tooltipHandler=t.tooltipHandler),Notifier.pushEvent(s)}function d(){var e={boxes:window._message_boxes,boxQueueIds:window.boxQueue._boxes,curBoxId:window.boxQueue.curBox};return window.boxQueue._boxes=[],window._message_boxes=[],window.boxQueue.curBox=0,e}function _(e){window._message_boxes=e.boxes,window.boxQueue._boxes=e.boxQueueIds,window.boxQueue.curBox=e.curBoxId}},6566:(e,t,n)=>{"use strict";n.d(t,{browser:()=>u,mobPlatforms:()=>c,redirectToMVK:()=>d});n(522),n(1181),n(9665),n(5767),n(6108),n(6253),n(9357),n(1876),n(1466);var r=n(2699),o=(n(848),n(7813),n(2408));function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=navigator.userAgent.toLowerCase(),u={version:(l.match(/.+(?:me|ox|on|rv|it|era|opr|ie|edge)[\/: ]([\d.]+)/)||[0,"0"])[1],opera:/opera/i.test(l)||/opr/i.test(l),vivaldi:/vivaldi/i.test(l),amigo:/amigo.*mrchrome soc/i.test(l),msie:/msie/i.test(l)&&!/opera/i.test(l)||/trident\//i.test(l)||/edge/i.test(l),msie6:/msie 6/i.test(l)&&!/opera/i.test(l),msie7:/msie 7/i.test(l)&&!/opera/i.test(l),msie8:/msie 8/i.test(l)&&!/opera/i.test(l),msie9:/msie 9/i.test(l)&&!/opera/i.test(l),msie_edge:/edge/i.test(l)&&!/opera/i.test(l),mozilla:/firefox/i.test(l),yabrowser:/yabrowser/i.test(l),whale:/whale/i.test(l),chrome:/chrome/i.test(l)&&!/edge/i.test(l),safari:!/chrome/i.test(l)&&/webkit|safari|khtml/i.test(l),iphone:/iphone/i.test(l),ipod:/ipod/i.test(l),iphone4:/iphone.*OS 4/i.test(l),ipod4:/ipod.*OS 4/i.test(l),ipad:/ipad/i.test(l),android:/android/i.test(l),bada:/bada/i.test(l),mobile:/iphone|ipod|ipad|opera mini|opera mobi|iemobile|android/i.test(l),msie_mobile:/iemobile/i.test(l),safari_mobile:/iphone|ipod|ipad/i.test(l),opera_mobile:/opera mini|opera mobi/i.test(l),opera_mini:/opera mini/i.test(l),mac:/mac/i.test(l),windows7:/windows nt 6.1/i.test(l),windowsVista:/windows nt 6.0/i.test(l),windowsXp:/windows nt (5.2|5.1)/i.test(l),search_bot:/(yandex|google|stackrambler|aport|slurp|msnbot|bingbot|twitterbot|ia_archiver|facebookexternalhit)/i.test(l),smart_tv:/smart-tv|smarttv/i.test(l)},c={1:1,2:1,3:1,4:1,5:1,8:1};"onwheel"in document.createElement("div")||void 0!==document.onmousewheel||u.mozilla,document.createElement("div"),navigator.credentials&&navigator.credentials.preventSilentAccess&&window.vk&&vk.cma;function d(){var e,t=a(location.href.split("?"),2),n=t[0],s=t[1],l={},u=function(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=i(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}(new URLSearchParams(s));try{for(u.s();!(e=u.n()).done;){var c=e.value;l[c[0]]=c[1]}}catch(e){u.e(e)}finally{u.f()}if(l){if("1"===l.m)return;if(l.force_redirect_to_mvk){delete l.force_redirect_to_mvk;var d=(0,o.toQueryString)(l);return void(window.location=n.replace(/vk\.com/,"m.vk.com")+(d?"?"+d:""))}}if(/vk\.com/.test(n)&&!/vk\.com\/@/.test(n)){var _=(0,r.extend)(l,{force_redirect_to_mvk:1}),p=n+"?"+(0,o.toQueryString)(_);window.location=p}}},4624:(e,t,n)=>{"use strict";n.d(t,{cancelStackFilter:()=>o,cancelStackPush:()=>a});var r=n(7806);function o(e,t){var n=window.cancelStack||[];return t&&(0,r.topHeaderClearClose)(),window.cancelStack=n.filter((t=>t.name!==e)),window.cancelStack}function a(e,t,n){return n&&(0,r.topHeaderClose)((function(){t(),o(e)})),window.cancelStack=o(e).concat([{func:t,name:e,dclick:n}]),window.cancelStack}},1296:(e,t,n)=>{"use strict";n.d(t,{isToday:()=>r,isYesterday:()=>o,isTomorrow:()=>a,leadingZero:()=>i,formatTime:()=>s,getLastDay:()=>l});n(6886),n(2699);function r(e){var t=new Date;return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function o(e){return r(new Date(e.getTime()+864e5))}function a(e){return r(new Date(e.getTime()-864e5))}function i(e){return e>=10?e:"0"+e}function s(e,t){var n;e=Math.max(e,0);var r=Math.floor(e%60);n=r<10?"0"+r:r;var o=(e=Math.floor(e/60))%60;return n=o+":"+n,((e=Math.floor(e/60))>0||t)&&(o<10&&(n="0"+n),n=e+":"+n),n}function l(e,t){return 2==+t?function(e){return(e=parseInt(e))%4==0&&e%100!=0||e%400==0}(e)?29:28:t>0&&(t<8&&t%2==0||t>7&&t%2==1)?30:31}},9921:(e,t,n)=>{"use strict";n.d(t,{logEvalError:()=>a,debugLog:()=>i});n(6108),n(6253),n(9357);var r=n(6566),o=(n(6353),n(1386));function a(e,t){if(window.Raven){if(t&&t.length>2e3){var n=t.indexOf("; window.TimeSpent && TimeSpent.setTimers && TimeSpent.setTimers(");~n&&(t=t.slice(0,n)),t=`${t.slice(0,1e3)}...${t.slice(-1e3)}`}e.message+=`: ${t}`,(0,o.logError)(e)}}function i(e){try{window.debuglogClient&&debuglogClient(e);var t="["+((new Date).getTime()-window._logTimer)/1e3+"] ";if(window.console&&console.log){var n=Array.prototype.slice.call(arguments);n.unshift(t),r.browser.msie||r.browser.mobile?console.log(n.join(" ")):console.log.apply(console,n)}}catch(e){}}},4914:(e,t,n)=>{"use strict";n.d(t,{$:()=>s,$$:()=>l,ge:()=>u,geByTag:()=>c,geByTag1:()=>d,geByClass:()=>_,geByClass1:()=>p,gpeByClass:()=>h,domQuery:()=>m,domClosest:()=>f,domClosestByTag:()=>v,ce:()=>g,cf:()=>C,re:()=>D,domNS:()=>P,domPS:()=>x,domFC:()=>T,domLC:()=>S,domPN:()=>B,se:()=>O,rs:()=>M,domReplaceEl:()=>L,domInsertBefore:()=>I,domInsertAfter:()=>A,domByClass:()=>N,domData:()=>R,show:()=>F,hide:()=>W,isVisible:()=>U,toggle:()=>j,getXYRect:()=>K,getXY:()=>V,getSize:()=>z,getH:()=>q,hasClass:()=>G,addClass:()=>$,removeClass:()=>Y,toggleClass:()=>X,getStyle:()=>Q,setStyle:()=>J,data:()=>Z,attr:()=>ee,removeAttr:()=>te,removeData:()=>ne,cleanElems:()=>re,val:()=>oe,elfocus:()=>ae});n(1876),n(1466),n(6108),n(6253),n(3946),n(9357);var r=n(2699),o=n(7685),a=n(6566),i=n(9921);function s(e,t){return(t||document).querySelector(e)}function l(e,t){return(t||document).querySelectorAll(e)}var u=e=>"string"==typeof e||"number"==typeof e?document.getElementById(e):e;function c(e,t){return(t=u(t)||document).getElementsByTagName(e)}function d(e,t){return(t=u(t)||document).querySelector&&t.querySelector(e)||c(e,t)[0]}function _(e,t,n){return t=u(t)||document,n=n||"*",e=("."+e).replace(/\s+/gm,"."),Array.prototype.slice.call(t.querySelectorAll(n+e))}function p(e,t,n){return n=n||"*",(t=u(t)||document).querySelector&&t.querySelector(n+("."+e).replace(/\s+/gm,"."))||_(e,t,n)[0]}function h(e,t,n){if(!(t=u(t)))return null;for(;n!==t&&(t=t.parentNode);)if(G(t,e))return t;return null}function m(e,t){return(t||document).querySelectorAll(e)}function f(e,t){return G(t,e)?t:h(e,t)}function v(e,t){return e=e.toUpperCase(),t.nodeType===Node.ELEMENT_NODE&&t.tagName.toUpperCase()===e?t:function(e,t){if(!(t=u(t)))return null;e=e.toUpperCase();for(;t=t.parentNode;)if(t.tagName&&t.tagName.toUpperCase()===e)return t;return null}(e,t)}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=document.createElement(e);return t&&(0,r.extend)(o,t),n&&J(o,n),o}var y,w,b,E,C=(y=document,w=y.createDocumentFragment(),b=y.createElement("div"),E=y.createRange&&y.createRange(),w.appendChild(b),E&&E.selectNodeContents(b),E&&E.createContextualFragment?e=>e?E.createContextualFragment(e):y.createDocumentFragment():e=>{if(!e)return y.createDocumentFragment();b.innerHTML=e;for(var t=y.createDocumentFragment();b.firstChild;)t.appendChild(b.firstChild);return t});function D(e){return(e=u(e))&&e.parentNode&&e.parentNode.removeChild(e),e}function k(e,t){for(t=t?"previousSibling":"nextSibling";e&&!e.tagName;)e=e[t];return e}var P=e=>k((e||{}).nextSibling),x=e=>k((e||{}).previousSibling,1),T=e=>k((e||{}).firstChild),S=e=>k((e||{}).lastChild,1),B=e=>(e||{}).parentNode,O=e=>T(g("div",{innerHTML:e}));function M(e,t){return(0,r.each)(t,(function(t,n){e=e.replace(new RegExp("%"+t+"%","g"),(void 0===n?"":n).toString().replace(/\$/g,"&#036;"))})),e}function L(e,t){return(0,r.isString)(t)&&(t=O(t)),B(e).replaceChild(t,e),t}function I(e,t){var n=B(t);return n&&n.insertBefore(e,t)}function A(e,t){var n=B(t);return n&&n.insertBefore(e,P(t))}function N(e,t){return e?p(t,e):e}function R(e,t,n){return e?void 0!==n?(null===n?e.removeAttribute("data-"+t):e.setAttribute("data-"+t,n),n):e.getAttribute("data-"+t):null}function F(e){var t=arguments.length;if(t>1)for(var n=0;n<t;n++)F(arguments[n]);else if((e=u(e))&&e.style){var r=e.olddisplay,o=e.tagName.toLowerCase(),i="block";e.style.display=r||"","none"===Q(e,"display")&&(i=G(e,"inline")||G(e,"_inline")?"inline":G(e,"_inline_block")?"inline-block":"tr"!==o||a.browser.msie?"table"!==o||a.browser.msie?"block":"table":"table-row",e.style.display=e.olddisplay=i)}}function W(e){var t=arguments.length;if(t>1)for(var n=0;n<t;n++)W(arguments[n]);else if((e=u(e))&&e.style){var r=Q(e,"display");e.olddisplay="none"!==r?r:"",e.style.display="none"}}function U(e){return!(!(e=u(e))||!e.style)&&"none"!==Q(e,"display")}function j(e,t){return void 0===t&&(t=!U(e)),t?F(e):W(e),t}function H(e){return void 0!==e.getBoundingClientRect}function K(e,t){var n;if(t&&"inline"===Q(e,"display")){var r=e.getClientRects();n=r&&r[0]||e.getBoundingClientRect()}else n=e.getBoundingClientRect();return n}function V(e,t){if(!(e=u(e)))return[0,0];var n=e.ownerDocument,r={top:0,left:0};if(!n)return[0,0];var o=n.documentElement;H(e)&&(r=K(e,!0));var a=n===n.window?n:9===n.nodeType&&(n.defaultView||n.parentWindow);return[r.left+(t?0:a.pageXOffset||o.scrollLeft)-(o.clientLeft||0),r.top+(t?0:a.pageYOffset||o.scrollTop)-(o.clientTop||0)]}function z(e,t,n){e=u(e);var o,a=document.documentElement,i=[0,0];if(t&&"border-box"===Q(e,"boxSizing")&&(t=!1),e===document)i=[Math.max(a.clientWidth,bodyNode.scrollWidth,a.scrollWidth,bodyNode.offsetWidth,a.offsetWidth),Math.max(a.clientHeight,bodyNode.scrollHeight,a.scrollHeight,bodyNode.offsetHeight,a.offsetHeight)];else if(e){function s(){i=H(e)&&(o=K(e,n))&&void 0!==o.width?[o.width,o.height]:[e.offsetWidth,e.offsetHeight],t&&(0,r.each)(i,(function(t,n){var o=t?["Top","Bottom"]:["Left","Right"];(0,r.each)(o,(function(){i[t]-=parseFloat(Q(e,"padding"+this))||0,i[t]-=parseFloat(Q(e,"border"+this+"Width"))||0}))}))}if(U(e))s();else{var l={position:"absolute",visibility:"hidden",display:"block"},c={},d=!1;e.style.cssText.indexOf("!important")>-1&&(d=e.style.cssText),(0,r.each)(l,(function(t,n){c[t]=e.style[t],e.style[t]=n})),s(),(0,r.each)(l,(function(t,n){e.style[t]=c[t]})),d&&(e.style.cssText=d)}}return i}function q(e){return z(e)[1]}function G(e,t){var n=u(e);return n&&n.classList&&n.classList.contains(t)}function $(e,t){var n=u(e);n&&n.classList&&(t.includes(" ")?` ${n.className} `.includes(` ${t} `)||(n.className=(n.className?`${n.className} `:"")+t):t.length&&!n.classList.contains(t)&&n.classList.add(t))}function Y(e,t){var n=u(e);t.length&&n&&n.classList&&n.classList.contains(t)&&n.classList.remove(t)}function X(e,t,n){var r=u(e);if(!t.length||!r||!r.classList)return!1;if(void 0===n)return r.classList.toggle(t);var o=r.classList.contains(t);return n&&!o?r.classList.add(t):!n&&o&&r.classList.remove(t),n}function Q(e,t,n){if(e=u(e),(0,r.isArray)(t)){var o={};return(0,r.each)(t,((t,n)=>o[n]=Q(e,n))),o}if(!e)return"";if(void 0===n&&(n=!0),!n&&"opacity"===t&&a.browser.msie){var i=e.style.filter;return i?i.indexOf("opacity=")>=0?parseFloat(i.match(/opacity=([^)]*)/)[1])/100+"":"1":""}if(!n&&e.style&&(e.style[t]||"height"===t))return e.style[t];var s,l=document.defaultView||window;if(l.getComputedStyle){t=t.replace(/([A-Z])/g,"-$1").toLowerCase();var c=l.getComputedStyle(e,null);c&&(s=c.getPropertyValue(t))}else if(e.currentStyle){if("opacity"===t&&a.browser.msie){var d=e.currentStyle.filter;return d&&d.indexOf("opacity=")>=0?parseFloat(d.match(/opacity=([^)]*)/)[1])/100+"":"1"}var _=t.replace(/\-(\w)/g,(function(e,t){return t.toUpperCase()}));"auto"===(s=e.currentStyle[t]||e.currentStyle[_])&&(s=0),s=(s+"").split(" "),(0,r.each)(s,(function(t,n){if(!/^\d+(px)?$/i.test(n)&&/^\d/.test(n)){var r=e.style,o=r.left,a=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,r.left=n||0,s[t]=r.pixelLeft+"px",r.left=o,e.runtimeStyle.left=a}})),s=s.join(" ")}if(n&&("width"===t||"height"===t)){var p=z(e,!0)[{width:0,height:1}[t]];s=((0,r.intval)(s)?Math.max((0,r.floatval)(s),p):p)+"px"}return s}function J(e,t,n){if(e=u(e))if((0,r.isObject)(t))(0,r.each)(t,((t,n)=>J(e,t,n)));else if("opacity"===t)a.browser.msie&&((n+"").length?e.style.filter=1!==n?"alpha(opacity="+100*n+")":"":e.style.cssText=e.style.cssText.replace(/filter\s*:[^;]*/gi,""),e.style.zoom=1),e.style.opacity!==n&&(e.style.opacity=n);else try{var o="number"==typeof n;o&&/height|width/i.test(t)&&(n=Math.abs(n)),n=o&&!/z-?index|font-?weight|opacity|zoom|line-?height/i.test(t)?n+"px":n,e.style[t]!==n&&(e.style[t]=n)}catch(e){(0,i.debugLog)("setStyle error: ",[t,n],e)}}function Z(e,t,n){if(!e)return!1;var r=e[vkExpand];return r||(r=e[vkExpand]=++vkUUID),void 0!==n&&(vkCache[r]||(vkCache[r]={},window.__debugMode&&(vkCache[r].__elem=e)),vkCache[r][t]=n),t?vkCache[r]&&vkCache[r][t]:r}function ee(e,t,n){return e=u(e),void 0===n?e.getAttribute(t):(e.setAttribute(t,n),n)}function te(e){for(var t=0,n=arguments.length;t<n;++t){var r=arguments[t];if(void 0!==e[r])try{delete e[r]}catch(t){try{e.removeAttribute(r)}catch(e){}}}}function ne(e,t){var n=!!e&&e[vkExpand];if(n)if(t){if(vkCache[n]){delete vkCache[n][t],t="";var r=0;for(var a in vkCache[n])if("__elem"!==a){r++;break}r||ne(e)}}else(0,o.removeEvent)(e),te(e,vkExpand),delete vkCache[n]}function re(){for(var e=arguments,t=0;t<e.length;++t){var n=u(e[t]);n&&(ne(n),te(n,"btnevents"))}}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(e=u(e))return void 0!==t&&(e.setValue?(e.setValue(t),!n&&e.phonblur&&e.phonblur()):"INPUT"===e.tagName||"TEXTAREA"===e.tagName?e.value=t:void 0!==e.emojiId&&window.Emoji?Emoji.val(e,t):e.innerHTML=t,!n&&(0,o.triggerEvent)(e,"valueChanged")),e.getValue?e.getValue():("INPUT"===e.tagName||"TEXTAREA"===e.tagName?e.value:e.innerHTML)||""}function ae(e,t,n){e=u(e);try{if(e.focus(),void 0!==t&&!1!==t||(t=e.value.length),void 0!==n&&!1!==n||(n=t),e.setSelectionRange)e.setSelectionRange(t,n);else if(window.getSelection&&document.createRange){var r=document.createRange();r.selectNodeContents(e),r.collapse(!1);var o=window.getSelection();o.removeAllRanges(),o.addRange(r)}}catch(e){}}window.cssTransformProp=function(){var e=document.createElement("div");if(null==e.style.transform){var t=["Webkit","Moz","ms"];for(var n in t)if(void 0!==e.style[t[n]+"Transform"])return t[n]+"Transform"}return"transform"}()},7685:(e,t,n)=>{"use strict";n.d(t,{KEY:()=>i,addEvent:()=>s,removeEvent:()=>l,triggerEvent:()=>u,cancelEvent:()=>c,stopEvent:()=>d,checkEvent:()=>h,checkKeyboardEvent:()=>m});n(522),n(1876);var r=n(4914),o=n(2699),a=n(6566),i={LEFT:37,UP:38,RIGHT:39,DOWN:40,DEL:8,TAB:9,RETURN:13,ENTER:13,ESC:27,PAGEUP:33,PAGEDOWN:34,SPACE:32,CTRL:17,ALT:18,SHIFT:16};function s(e,t,n,a,i,s){if((e=(0,r.ge)(e))&&3!=e.nodeType&&8!=e.nodeType){var l,u=i?((l=function(e){var t=e.data;e.data=i;var r=n.apply(this,[e]);return e.data=t,r}).handler=n,l):n;e.setInterval&&e!==window&&(e=window);var c=(0,r.data)(e,"events")||(0,r.data)(e,"events",{}),d=(0,r.data)(e,"handle")||(0,r.data)(e,"handle",function(e){return function(){_.apply(e,arguments)}}(e));(0,o.each)(t.split(/\s+/),(function(t,n){c[n]||(c[n]=[],!a&&e.addEventListener?e.addEventListener(n,d,s):!a&&e.attachEvent&&e.attachEvent("on"+n,d)),c[n].push(u)}))}}function l(e,t,n,a){if(void 0===a&&(a=!1),e=(0,r.ge)(e)){var i=(0,r.data)(e,"events");if(i)if("string"==typeof t)(0,o.each)(t.split(/\s+/),(function(t,s){if((0,o.isArray)(i[s])){var l=i[s].length;if((0,o.isFunction)(n)){for(var u=l-1;u>=0;u--)if(i[s][u]&&(i[s][u]===n||i[s][u].handler===n)){i[s].splice(u,1),l--;break}}else{for(var c=0;c<l;c++)delete i[s][c];l=0}l||(e.removeEventListener?e.removeEventListener(s,(0,r.data)(e,"handle"),a):e.detachEvent&&e.detachEvent("on"+s,(0,r.data)(e,"handle")),delete i[s])}})),(0,o.isEmpty)(i)&&((0,r.removeData)(e,"events"),(0,r.removeData)(e,"handle"));else for(var s in i)i.hasOwnProperty(s)&&l(e,s)}}function u(e,t,n,a){e=(0,r.ge)(e);var i=(0,r.data)(e,"handle");if(i){var s=()=>i.call(e,(0,o.extend)(n||{},{type:t,target:e}));a?s():setTimeout(s,0)}}function c(e){if(!(e=e||window.event))return!1;for(;e.originalEvent;)e=e.originalEvent;return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.cancelBubble=!0,e.returnValue=!1,!1}function d(e){if(!(e=e||window.event))return!1;for(;e.originalEvent;)e=e.originalEvent;return e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,!1}function _(e){e=p(e);var t=Array.from(arguments);t[0]=e;var n=(0,r.data)(this,"events");if(n&&"string"==typeof e.type&&n[e.type]&&n[e.type].length){var o=(n[e.type]||[]).slice();for(var a in o)if(o.hasOwnProperty(a)){if("mouseover"===e.type||"mouseout"===e.type){for(var i=e.relatedElement;i&&i!==this;)i=i.parentNode;if(i===this)continue}var s=o[a].apply(this,t);if(!1!==s&&-1!==s||c(e),-1===s)return!1}}}function p(e){var t=e=e||window.event;if((e=(0,o.clone)(t)).originalEvent=t,e.target||(e.target=e.srcElement||document),3==e.target.nodeType&&(e.target=e.target.parentNode),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement===e.target),null==e.pageX&&null!=e.clientX){var n=document.documentElement,r=bodyNode;e.pageX=e.clientX+(n&&n.scrollLeft||r&&r.scrollLeft||0)-(n.clientLeft||0),e.pageY=e.clientY+(n&&n.scrollTop||r&&r.scrollTop||0)-(n.clientTop||0)}return!e.which&&(e.charCode||0===e.charCode?e.charCode:e.keyCode)&&(e.which=e.charCode||e.keyCode),!e.metaKey&&e.ctrlKey?e.metaKey=e.ctrlKey:!e.ctrlKey&&e.metaKey&&a.browser.mac&&(e.ctrlKey=e.metaKey),!e.which&&e.button&&(e.which=1&e.button?1:2&e.button?3:4&e.button?2:0),e}function h(e){var t=e||window.event;return t&&("click"===t.type||"mousedown"===t.type||"mouseup"===t.type)&&(t.which>1||t.button>1||t.ctrlKey||t.shiftKey||a.browser.mac&&t.metaKey)||!1}function m(e){if(!(e=p(e))||!e.target)return!1;if(!e.screenX)return!0;var t=(0,r.getSize)(e.target),n=(0,r.getXY)(e.target),o=e.pageX-n[0],a=e.pageY-n[1];return o<-1||o>t[0]+1||a<-1||a>t[1]+1||Math.abs(e.pageX-n[0]-t[0]/2)<1&&Math.abs(e.pageY-n[1]-t[1]/2)<1}},6018:(e,t,n)=>{"use strict";n.d(t,{addDelegateEvent:()=>s,removeDelegateEvent:()=>l});n(522),n(6108),n(9665),n(5767),n(1181),n(6253),n(1876);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=new window.Map;function i(e){var t=a.get(e.currentTarget);if(t){var n=t[e.type];if(n)for(var o,i=0;i<n.length;i++){var s=r(n[i],2),l=s[0],u=s[1],c=void 0;if(hasClass(e.target,l)?c=u(e,e.target):(o=gpeByClass(l,e.target,e.currentTarget))&&(c=u(e,o)),!1===c)break}}}function s(e,t,n,r){var o=a.get(e);o||(a.set(e,{}),o=a.get(e));for(var s=t.split(" "),l=0;l<s.length;l++){var u=s[l];o[u]||(o[u]=[],addEvent(e,u,i)),o[u].push([n,r])}}function l(e,t,n,r){var o=a.get(e);o&&(t.split(" ").forEach((t=>{o[t]&&(o[t]=o[t].filter((e=>e[0]!==n||e[1]!==r)),0===o[t].length&&removeEvent(e,t,i))})),0===Object.keys(o).map((e=>o[e].length)).reduce(((e,t)=>e+t))&&a.delete(e))}},1393:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{moneyTransferBox:()=>moneyTransferBox});var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5115),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9357),_message_box__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1563),_ui__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5456),_dom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4914),_dom_events__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7685),_lang__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6886),_debug_tools__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9921),_box_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1260),_shared_lib_web_stats__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(4961),_shared_user_user_env__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(6353),_web_payments_money_transfer__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2481);function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function menuSettings(e){return(0,_message_box__WEBPACK_IMPORTED_MODULE_2__.showTabbedBox)("al_settings.php",{act:"menu_box",type:e})}function showWriteMessageBox(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};cur.onFriendMessage&&cur.onFriendMessage(),stManager.add(["page.js","wide_dd.js"]);var r=(0,_message_box__WEBPACK_IMPORTED_MODULE_2__.showBox)("al_im.php",_extends({act:"a_write_box",to:t},n.params),{stat:[jsc("web/writebox.js"),"writebox.css","wide_dd.css","page.css","post.css",jsc("web/emoji.js"),"notifier.css"],cache:1},e);return r&&(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.cancelEvent)(e),window.WriteBox&&WriteBox.extractEmoji(),!r}function giftsBox(e,t,n){return cur.viewAsBox?cur.viewAsBox():!(0,_message_box__WEBPACK_IMPORTED_MODULE_2__.showBox)("al_gifts.php",{act:"box",tab:n||"received",mid:e},{cache:1,stat:["gifts.css",jsc("web/gifts.js")]},t)}function moneyTransferBox(e,t,n,r,o,a,i){if(cur.viewAsBox)return cur.viewAsBox();if(o){var s,l;if(!i)return 2===o?(s=cur.lang&&cur.lang.mail_money_transfer_cancel_confirm||(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("mail_money_transfer_cancel_confirm"),l=cur.lang&&cur.lang.mail_money_transfer_cancel_btn||(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("mail_money_transfer_cancel_btn")):(s=cur.lang&&cur.lang.mail_money_transfer_decline_confirm||(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("news_fb_money_transfer_decline_confirm"),l=cur.lang&&cur.lang.mail_money_transfer_decline_btn||(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("news_fb_money_transfer_decline_btn")),void(cur.confirmBox=(0,_message_box__WEBPACK_IMPORTED_MODULE_2__.showFastBox)((0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("global_action_confirmation"),s,l,moneyTransferBox.pbind(e,t,n,r,o,!1,1),(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("global_cancel")));var u=(0,_dom__WEBPACK_IMPORTED_MODULE_4__.hasClass)((0,_dom__WEBPACK_IMPORTED_MODULE_4__.domPN)(r),"wall_postlink_preview_btn")||(0,_dom__WEBPACK_IMPORTED_MODULE_4__.hasClass)(r,"money_transfer__decline_button"),c=(0,_dom__WEBPACK_IMPORTED_MODULE_4__.geByClass1)("flat_button",(0,_dom__WEBPACK_IMPORTED_MODULE_4__.domPN)(r));return 2!==i&&((0,_ui__WEBPACK_IMPORTED_MODULE_3__.disableButton)(c,!0),u?((0,_dom__WEBPACK_IMPORTED_MODULE_4__.addClass)(r.firstChild,"round_spinner"),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.removeClass)(r.firstChild,"button")):(0,_ui__WEBPACK_IMPORTED_MODULE_3__.lockButton)(r),cur.confirmBox&&cur.confirmBox.hide()),void ajax.post("al_payments.php?act=a_cancel_money_transfer",{tx_id:e,hash:t,from:u?"snippet":""},{onDone:function(a,i,s){0!==a?(u?((0,_dom__WEBPACK_IMPORTED_MODULE_4__.re)(r),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.hasClass)(c,"secondary")||(0,_dom__WEBPACK_IMPORTED_MODULE_4__.domReplaceEl)(c,s)):(0,_dom__WEBPACK_IMPORTED_MODULE_4__.re)((0,_dom__WEBPACK_IMPORTED_MODULE_4__.domPN)(r)),(0,_box_utils__WEBPACK_IMPORTED_MODULE_8__.showDoneBox)(i),window.TopNotifier.invalidate()):setTimeout(moneyTransferBox.pbind(e,t,n,r,o,!1,2),2e3)},onFail:function(e){return(0,_ui__WEBPACK_IMPORTED_MODULE_3__.disableButton)(c,!1),u?((0,_dom__WEBPACK_IMPORTED_MODULE_4__.addClass)(r.firstChild,"button"),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.removeClass)(r.firstChild,"round_spinner")):(0,_ui__WEBPACK_IMPORTED_MODULE_3__.unlockButton)(r),setTimeout((0,_message_box__WEBPACK_IMPORTED_MODULE_2__.showFastBox)((0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("global_error"),e).hide,2e3),!0}})}return cur.acceptMoneyBtn=r,a?!_web_payments_money_transfer__WEBPACK_IMPORTED_MODULE_11__.MoneyTransfer.showMoneyTransferBox({request_id:e,request:a,hash:t},{stat:["payments.css",jsc("workers/payments.js")]},(e=>((0,_box_utils__WEBPACK_IMPORTED_MODULE_8__.curBox)()&&(0,_box_utils__WEBPACK_IMPORTED_MODULE_8__.curBox)().hide(),setTimeout((0,_message_box__WEBPACK_IMPORTED_MODULE_2__.showFastBox)((0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("global_error"),e).hide,2e3),!0))):!(0,_message_box__WEBPACK_IMPORTED_MODULE_2__.showBox)("al_payments.php",{act:"accept_money_transfer_box",tx_id:e,hash:t},{stat:["payments.css",jsc("workers/payments.js")],onFail:e=>((0,_box_utils__WEBPACK_IMPORTED_MODULE_8__.curBox)()&&(0,_box_utils__WEBPACK_IMPORTED_MODULE_8__.curBox)().hide(),setTimeout((0,_message_box__WEBPACK_IMPORTED_MODULE_2__.showFastBox)((0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("global_error"),e).hide,2e3),!0),onDone(e,t){_web_payments_money_transfer__WEBPACK_IMPORTED_MODULE_11__.MoneyTransfer.initHandlers(),window.cur=extend(window.cur,{paymentsOptions:t,paymentsPopupWrite(e){e.document.innerHTML!=cur._popup_text&&(e.document.write(window.cur._popup_text),e.document.close(),e.blur(),e.focus(),window.cur._popup_callback&&window.cur._popup_callback())}}),e.setOptions({width:510,bodyStyle:"padding: 0;",hideButtons:!0,onClean(){window.cur.moneyTranferCheckInt&&clearInterval(window.cur.moneyTranferCheckInt),window.removeEventListener("message",_web_payments_money_transfer__WEBPACK_IMPORTED_MODULE_11__.MoneyTransfer.frameMessage,!1)}}),_web_payments_money_transfer__WEBPACK_IMPORTED_MODULE_11__.MoneyTransfer.initAccept(t.chkData,t.frame)}},n)}function reportAd(e,t){if((0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_10__.partConfigEnabled)("ads_new_reports_web_tgb")){var n="",r=null,o=(0,_message_box__WEBPACK_IMPORTED_MODULE_2__.showBox)("/reports.php",{act:"report_ad_box",ad_data:t},{onDone:function(){var e=(0,_dom__WEBPACK_IMPORTED_MODULE_4__.geByClass)("radiobtn","ad_report");window.radioBtns.ad_report={val:0,els:e};var t=(0,_dom__WEBPACK_IMPORTED_MODULE_4__.ge)("ad_csrf");n=t?t.value:n,r=(0,_dom__WEBPACK_IMPORTED_MODULE_4__.ge)("ad_comment")},params:{width:370,onClean:()=>{delete window.radioBtns.ad_report}},stat:["reports.css"]});o.removeButtons(),o.addButton((0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("box_send"),(a=>{ajax.post("reports.php",{act:"a_report_ad",ad_id:e,reason:window.radioBtns.ad_report.val,comment:r?r.value:"",ad_data:t,hash:n},{onDone:()=>{o.hide(),(0,_box_utils__WEBPACK_IMPORTED_MODULE_8__.showDoneBox)((0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("reports_thanks_for_report"))},showProgress:()=>(0,_ui__WEBPACK_IMPORTED_MODULE_3__.lockButton)(a),hideProgress:()=>(0,_ui__WEBPACK_IMPORTED_MODULE_3__.unlockButton)(a)})})),o.addButton((0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("global_cancel"),!1,"no")}else(0,_message_box__WEBPACK_IMPORTED_MODULE_2__.showBox)("/reports.php?act=a_report_ad_box",{ad_id:e},{params:{width:370},stat:["ui_controls.js","ui_controls.css"]})}var mobilePromo=_message_box__WEBPACK_IMPORTED_MODULE_2__.showBox.pbind("al_login.php",{act:"mobile",box:1});function showAudioClaimWarning(e,t,n){var r,o,a=e.id,i=e.ownerId,s=e.title,l=t.id,u=t.reason,c=t.original,d={width:470};if(e.restrictionStatus)return AudioUtils.showAudioRestriction(e);"geo"===u?(r=(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("audio_claimed_geo"),o=(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("audio_claim_warning_title")):"site_rules_violation"===u?(r=(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("audio_site_rules_violation_warning"),o=(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("audio_site_rules_violation_header")):"replace"===u?(r=(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("audio_claimed_replacement_available"),o=(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("audio_claim_warning_title")):"subscription"===u?(d.hideButtons=!0,d.bodyStyle="padding: 0; border-radius: 4px;",d.width=450,o=!1,r=`\n      <div class="audio_claim_popup">\n        <div class="audio_claim_popup__title">${(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("global_audio_only_with_subscription_title")}</div>\n        <div class="audio_claim_popup__text">${(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("global_audio_only_with_subscription_text")}</div>\n        <div class="audio_claim_popup__close" onclick="curBox().hide()"></div>\n        <button class="flat_button round_button" onclick="AudioPlayer.showSubscriptionPopup()">${(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("global_audio_only_with_subscription_btn")}</button>\n      </div>`):(r=(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("audio_claim_warning"),o=(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("audio_claim_warning_title")),d.title=o;var _=[d,r=(r=(r=r.replace(/\{audio\}/g,`<b>${s}</b>`)).replace(/\{objection_link\}/g,`<a href="/help?act=cc_objection&claim=${l}&content=audio${i}_${a}">${(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("audio_claim_objection")}</a>`)).replace(/\{delete_link\}/g,`<a onclick="deleteAudioOnClaim(${i}, ${a}); return false;">${(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("audio_claim_delete")}</a>`)],p=null;if(n&&c){var h=AudioUtils.drawAudio(c,"no_extra");_[1]=r.replace(/\{original\}/g,c[AudioUtils.AUDIO_ITEM_INDEX_PERFORMER]+" - "+c[AudioUtils.AUDIO_ITEM_INDEX_TITLE])+"<br/><br/>"+h,_.push((0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("audio_replace_with_original"),(function(){(0,_ui__WEBPACK_IMPORTED_MODULE_3__.lockButton)(p.btns.ok[0]),n((()=>p.hide()))})),d.textControls=`<a onclick="deleteAudioOnClaim(${i}, ${a}); return false;">${(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("audio_claim_delete_capital")}</a>`}cur.claimWarning=p=_message_box__WEBPACK_IMPORTED_MODULE_2__.showFastBox.apply(null,_)}function sureDeleteAll(title,text,where,objectId,toId,fromId,hash,event){if(!(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.checkEvent)(event)){var box=(0,_message_box__WEBPACK_IMPORTED_MODULE_2__.showFastBox)({title:title},text,(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("global_delete"),(function(btn){ajax.post("/delete_all.php",{act:where,object_id:objectId,to_id:toId,from_id:fromId,hash:hash,loc:nav.objLoc[0]},{onDone:function onDone(res){if(__debugMode)eval(res);else try{eval(res)}catch(e){(0,_debug_tools__WEBPACK_IMPORTED_MODULE_7__.logEvalError)(e,res)}box.hide()},showProgress:_ui__WEBPACK_IMPORTED_MODULE_3__.lockButton.pbind(btn),hideProgress:_ui__WEBPACK_IMPORTED_MODULE_3__.unlockButton.pbind(btn)})}),(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("global_cancel"));return!1}}function imageStatusPopup(e,t){Object.assign(t,{act:"image_status"});var n=(0,_message_box__WEBPACK_IMPORTED_MODULE_2__.showBox)("special_event.php",t,{containerClass:"ImageStatusPopup__container",params:{hideButtons:!0},onFail:function(){return window.cur.imageStatusBox&&window.cur.imageStatusBox.hide(),!0},onDone:function(e,t){var n=t.status_id;n&&(0,_shared_lib_web_stats__WEBPACK_IMPORTED_MODULE_9__.saveStatlogEvents)({name:"image_status",value:n,keys:["show_popup"]})}},e);n&&((0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.cancelEvent)(e),window.cur.imageStatusBox=n)}},9433:(e,t,n)=>{"use strict";n.d(t,{showPhoto:()=>f,showAlbums:()=>v,showAlbum:()=>g,showPhotoTags:()=>y,showWiki:()=>w,openArticleEditor:()=>b,bookmark:()=>E,bookmarkPost:()=>C,bookmarkArticle:()=>D,bookmarkLink:()=>k,bookmarkPodcast:()=>P,bookmarkNarrative:()=>x,bookmarkEvent:()=>T,getAudioPlayer:()=>S,showDonutSubscribePopup:()=>B});n(1466),n(9357),n(75),n(5115);var r=n(7685),o=n(2699),a=n(1563),i=n(4914),s=(n(6566),n(5456)),l=n(6886),u=(n(2408),n(1260),n(242)),c=(n(6900),n(4961),n(7851)),d=n(4854),_=n(469),p=n(6934),h=n(9455);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(a&&a.additional&&a.additional.open_pe&&a.temp&&(0,u.isImgBlurred)(a.temp)){var l=function(){f(e,t,a,i)};Page.showUnblurBox(a.temp.restrictionTitle,a.temp.restrictionText,a.temp.photoRaw,a.temp.unblurHash,l)}else{if(a&&a.additional&&a.additional.open_pe&&a.temp&&a.temp.restrictionGeo&&delete a.additional.open_pe,cur.viewAsBox)return cur.viewAsBox();if(!((0,r.checkEvent)(i)||cur._editMode&&cur._editMode(i))){if((0,d.isUnauthorizedMediaLayerBoxAvailable)()&&!a.forceUnauth)return window.Unauthorized.showMoreBox(null,0,d.UnauthorizedSourceType.PHOTO,(()=>{f(e,t,m({},a,{forceUnauth:!0}),i)})),!1;var c=[jsc("web/photoview.js"),"photoview.css","page.js","page.css"];if(a.img&&(a.showProgress=function(){(0,s.showProgress)(a.img)},a.hideProgress=function(){(0,s.hideProgress)(a.img)}),!e)return!1;var _=1;if(((null==a||null===(n=a.additional)||void 0===n?void 0:n.open_pe)||(null==a?void 0:a.noCache))&&(_=0),window.Photoview&&!1===Photoview.showPhoto(e,t,a)&&_)return!1;var p=!0;if(cur.pvOptions||(cur.pvOptions={}),cur.pvOptions.isLightMode=a.isLightMode,a.temp&&!(cur.pvNoTemp||{})[e]&&stManager.add(c,(function(){(0,o.extend)(cur,{pvCancelLoad:function(){p=!1},pvData:cur.pvData||{},pvOptions:cur.pvOptions||{}}),cur.pvData.temp=[a.temp],cur.pvOptions.temp_final=a.temp_final,cur.pvOptions.temp_summary=a.temp_summary,cur.pvOptions.queue=a.queue,Photoview.show("temp",0)})),(0,o.extend)(a,{onDone:function(n){Photoview.list(e,t,n),a.blog_text&&arguments[3]&&arguments[3][0]&&(arguments[3][0].album=a.blog_text),Photoview.loaded.apply(window,arguments),p&&("deleted"===n?Photoview.showDeleted.apply(window,arguments):Photoview.showPhoto(e,t,a,!0))},stat:c,cache:_}),a.temp_final)return!1;var h="";return nav.objLoc.dmcah&&(h=nav.objLoc.dmcah),ajax.post("al_photos.php",(0,o.extend)({act:"show",gid:cur.gid,photo:e,list:t,dmcah:h,module:cur.module||"",list_info:a.list_info||null},a.additional),a),!1}}}function v(e,t,n){return cur.viewAsBox?cur.viewAsBox():(0,r.checkEvent)(n)?void 0:(stManager.add([jsc("web/photoview.js"),"photoview.css"],(function(){Photoview.showAlbums(e,t)})),!1)}function g(e,t,n){return cur.viewAsBox?cur.viewAsBox():(0,r.checkEvent)(n)?void 0:(stManager.add([jsc("web/photoview.js"),"photoview.css"],(function(){Photoview.showAlbum(e,t)})),!1)}function y(e,t,n){return cur.viewAsBox?cur.viewAsBox():(0,r.checkEvent)(n)?void 0:(stManager.add([jsc("web/photoview.js"),"photoview.css"],(function(){Photoview.showTagged(e,t)})),!1)}function w(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if((0,r.checkEvent)(n))return!0;if(0!==cur.gid&&(e.gid=cur.gid),e.location_owner_id=cur.oid,window.wkcur&&wkcur.shown&&wkcur.wkRaw===e.w&&e.w&&!e.reply)return WkView.restoreLayer(a),(0,r.cancelEvent)(n);(window.wkcur&&wkcur.hideTitle||e.hide_title)&&(a.hide_title=e.hide_title=1);var i=a.stat||[jsc("web/wkview.js"),"wkview.css","wk.css",jsc("web/wk.js")];t&&i.push(jsc("web/wk_editor.js"),"wk_editor.css");var s,l,u={stat:i,loader:!a.noloader,onDone:function(e,t,r,i){WkView.show(e,t,(0,o.extend)(r,a),i,n)},onFail:function(e){return(0,o.isFunction)(a.onFail)?a.onFail(e):WkView.showError(e)}};if(nav.objLoc.claim&&(e.claim=nav.objLoc.claim),e.w&&"/query"===e.w.substr(-6)){var c=(0,o.clone)(nav.objLoc);delete c[0],delete c.w,e.query=JSON.stringify(c)}a.preload&&(0,o.extend)(u,a.preload),a.ads_params&&(s=a.ads_params,(l=nav.getPostParams(n&&n.target)).post_click_url&&(s._post_click_url=l.post_click_url));var d="";"feed"===cur.module&&window.feed?d=window.feed.getModuleRef():"public"===cur.module?d="club":"profile"===cur.module&&(d="profile"),a.customRef&&(d=a.customRef);var _="",p=(0,o.clone)(nav.objLoc);return p.dmcah&&(_=p.dmcah),ajax.post("wkview.php",(0,o.extend)({act:"show",loc:nav.objLoc[0],is_znav:a.isZnav,dmcah:_,ref:d},e,s,cur.getWkviewOpts&&cur.getWkviewOpts()),u),(0,r.cancelEvent)(n)}function b(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(cur.articleEditorLayer)cur.articleEditorLayer.openById(e,t);else{var i=[jsc("web/article_editor_layer.js"),"article.css","article_editor.css"];stManager.add(i,(()=>{}));var s=Object.assign({act:"open_editor",article_owner_id:e,article_id:t,from_post_convert:n?1:0,post_data_medias:n?n.medias.join(","):""},r);ajax.post("al_articles.php",s,{loader:!0,onFail:function(e){return"app"===o.from?o.errorHandler&&o.errorHandler("ServerError: Can't open article editor."):(0,a.showFastBox)((0,l.getLang)("global_error"),e),window.SAKIntegration&&window.SAKIntegration.isIntegrated&&window.SAKIntegration.sendMessage("error",{error:e}),!0},onDone:function(e,t,r,a){window.WkView&&WkView.hide(),window.boxQueue&&boxQueue.hideAll(),n&&(a.postData=n),a.articleOwnerId?stManager.add(i,(function(){if(layers.fullhide=function(){cur.articleEditorLayer&&cur.articleEditorLayer.hide()},window.AuthorPage&&window.AuthorPage.isOpen()&&(cur.needAuthorPageHardBack=!0),cur.articleEditorLayer=new ArticleEditorLayer(e,t,r,a,(()=>delete cur.articleEditorLayer)),"app"===o.from){var n=e=>t=>{t.type=e,"publish"!==e&&"close"!==e||cur.articleEditorLayer&&cur.articleEditorLayer.hide(),o.eventHandler&&o.eventHandler(t)};cur.articleVkAppEditor={onSaveDraft:n("draft"),onPublish:n("publish"),onClose:n("close")}}})):nav.change({z:!1})}})}}function E(e,t,n,r){var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"";ajax.post("al_bookmarks.php",{act:"bookmark",owner_id:e,object_id:t,type:n,state:s?1:0,hash:r,item_access_hash:u,ref:c||cur.module,track_code:d},{onDone:(n,r,s,u)=>{if(n&&!vk.widget){window.showDoneBox(n,{tooltipHandler:function(n){var c=(0,i.geByClass1)("bookmarks_tag_set",n);if(c&&!isEmpty(r)){var d=[];each(r,((e,t)=>{d.push(t)})),d.sort(((e,t)=>e.order-t.order));for(var _='<div class="bookmarks_tags_list">',p=0;p<d.length;p++){var h=d[p];_+=`<div class="bookmarks_tags_list_item" data-id="${h.id}">${h.name}</div>`}_+="</div>",(_=se(_)).addEventListener("click",(n=>{var r=domClosest("bookmarks_tags_list_item",n.target);if(r){var c=(0,i.domData)(r,"id"),d=toggleClass(r,"bookmarks_tags_list_item--selected");ajax.post("al_bookmarks.php",{act:"set_tag",item_type:s,item_oid:e,item_id:t,hash:u,tag_id:c,is_tagged:(0,o.intval)(!d),is_from_snackbar:!0},{onFail:e=>((0,a.showFastBox)((0,l.getLang)("global_error"),e),!0)})}})),cur.setBookmarksTagTooltip&&cur.setBookmarksTagTooltip.destroy(),stManager.add(["ui_common.css","ui_common.js"],(()=>{}));var m=new ElementTooltip(c,{content:_,appendToParent:!0,cls:"bookmarks_tag_set_tt",autoShow:!0,offset:[0,-36],onFirstTimeShow:e=>{stManager.add(["ui_common.css","ui_common.js"],(()=>{cur.setBookmarksTagTooltipScrolls||(cur.setBookmarksTagTooltipScrolls=[]),cur.setBookmarksTagTooltipScrolls.push(new uiScroll(domFC(e),{theme:"dark"}))}))},onShow:function(){Notifier.freezeEvents(),curNotifier.tooltipShown=!0},onHide:function(){curNotifier.tooltipShown=!1,curNotifier.unfreezeAfterTooltipHide&&Notifier.unfreezeEvents()}});cur.destroy.push((()=>{cur.setBookmarksTagTooltipScrolls&&(cur.setBookmarksTagTooltipScrolls.forEach((function(e){e.destroy()})),delete cur.setBookmarksTagTooltipScrolls),m.destroy()}))}},link:"/bookmarks"})}}})}function C(e,t,n,r,a,s){var l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";if((0,o.isObject)(window.cur)&&(0,o.isFunction)(window.cur.viewAsBox))return window.cur.viewAsBox();var u=parseInt((0,i.domData)(e,"state"));e.innerHTML=u?(0,i.domData)(e,"add"):(0,i.domData)(e,"remove"),(0,i.domData)(e,"state",u?0:1),E(t,n,r,a,u,s,l)}function D(e,t,n,o,a,s,l){return t&&(l=parseInt((0,i.domData)(t,"state")),(0,i.domData)(t,"state",l?0:1)),E(n,o,a,s,l),each(geByClass(`_article_${n}_${o}`),((e,t)=>{var n=(0,i.geByClass1)("_bookmark_btn",t);(0,i.domData)(n,"state",l?0:1)})),(0,r.cancelEvent)(e)}function k(e,t,n){var o=parseInt((0,i.domData)(t,"state"));return(0,i.domData)(t,"state",o?0:1),ajax.post("al_bookmarks.php",{act:"bookmark_link",state:o?1:0,hash:n,url:(0,i.domData)(t,"link-url"),img:(0,i.domData)(t,"link-img"),title:(0,i.domData)(t,"link-title"),ref:cur.module,track_code:(0,i.domData)(t,"track-code")},{onDone:e=>{e&&!vk.widget&&window.showDoneBox(e)}}),(0,r.cancelEvent)(e)}function P(e,t,n,o,a){return stManager.add([jsc("web/podcast.js")],(function(){Podcast.toggleFave(e,t,n,a)})),o&&(0,r.cancelEvent)(o)}function x(e,t,n,o,a,s){var l=parseInt((0,i.domData)(t,"state"));(0,i.domData)(t,"state",l?0:1);var u="";return u=l?(0,p.getIcon24FavoriteOutline)().icon:(0,h.getIcon24Favorite)().icon,t.innerHTML=u,E(n,o,a,s,l),l||(0,_.sendNarrativeAnalytic)(_.NarrativeAnalyticEventType.addToBookmarks,{ownerId:n,id:o},window.cur.module),(0,r.cancelEvent)(e)}function T(e,t,n,o){var a=parseInt((0,i.domData)(t,"state"));return(0,i.domData)(t,"state",a?0:1),ajax.post("fave.php",{act:a?"a_delete_group":"a_add_group",gid:n,hash:o},{onDone:(e,t)=>{a||vk.widget||showDoneBox(t)}}),(0,r.cancelEvent)(e)}function S(){return window.ap=window.ap||new AudioPlayer,window.ap}function B(e,t,n,i,s){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";if(n||u){var d=`donut_payment${n}`,_=i,p=(0,a.showBox)("al_donut.php",m({act:"subscribe_popup",ownerId:n,ownerDomain:u,source:i,hash:s,type:l.type},l.params),{stat:["donut_subscribe_popup.css",window.jsc("web/donut_subscribe_popup.js")],params:{width:450,hideButtons:!0,containerClass:"DonutSubscribePopup",onDestroy:()=>{if(window.DonutSubscribePopup&&window.DonutSubscribePopup.onDestroy(),!l.fromSnippet){(0,r.removeEvent)(window,"popstate",h);var e=nav.objLoc,t=e.w,n=e.source;t===d&&_===n&&(delete nav.objLoc.w,delete nav.objLoc.source,nav.setLoc(nav.objLoc))}}},onDone:(e,t)=>{if(window.DonutSubscribePopup.init({ownerId:n||t.owner_id,source:i,type:l.type,onSuccessPayment:l.onSuccessPayment},e,t),!l.fromSnippet&&"subscribe"===l.type){(0,r.addEvent)(window,"popstate",h);var a=(0,o.extend)(nav.objLoc,{w:d,source:i});nav.setLoc(a)}},onFail:e=>{if(e&&"string"==typeof e)return"group_doesnt_exists"===e&&l.onFailCallback&&"function"==typeof l.onFailCallback?(l.onFailCallback(),p.hide(),!0):(p.hide(),(0,c.showErrorBox)(e),!0)}},t);(0,r.cancelEvent)(t)}function h(){p.hide()}}},148:(e,t,n)=>{"use strict";n.d(t,{Fx:()=>i,animate:()=>s,fadeIn:()=>u,fadeOut:()=>c,animateCount:()=>_});n(9357),n(6108),n(6253),n(1466);var r=n(2699),o=n(4914),a=n(6566),i={Transitions:{linear:(e,t,n,r)=>n*e/r+t,sineInOut:(e,t,n,r)=>-n/2*(Math.cos(Math.PI*e/r)-1)+t,halfSine:(e,t,n,r)=>n*Math.sin(Math.PI*(e/r)/2)+t,easeOutBack:function(e,t,n,r){var o=1.70158;return n*((e=e/r-1)*e*((o+1)*e+o)+1)+t},easeInCirc:(e,t,n,r)=>-n*(Math.sqrt(1-(e/=r)*e)-1)+t,easeOutCirc:(e,t,n,r)=>n*Math.sqrt(1-(e=e/r-1)*e)+t,easeInQuint:(e,t,n,r)=>n*(e/=r)*e*e*e*e+t,easeOutQuint:(e,t,n,r)=>n*((e=e/r-1)*e*e*e*e+1)+t,easeOutCubic:(e,t,n,r)=>n*((e=e/r-1)*e*e+1)+t,swiftOut:(e,t,n,r)=>n*function(e,t,n,r,o,a){var i,s,l=function(t){var r=1-t;return 3*r*r*t*e+3*r*t*t*n+t*t*t},u=function(e){var n=1-e;return 3*n*n*e*t+3*n*e*e*r+e*e*e},c=function(t){var r=1-t;return 3*(2*(t-1)*t+r*r)*e+3*(-t*t*t+2*r*t)*n},d=o;for(i=d,s=0;s<8;s++){var _=l(i)-d;if(Math.abs(_)<a)return u(i);var p=c(i);if(Math.abs(p)<1e-6)break;i-=_/p}var h=0,m=1;if((i=d)<h)return u(h);if(i>m)return u(m);for(;h<m;){var f=l(i);if(Math.abs(f-d)<a)return u(i);d>f?h=i:m=i,i=.5*(m-h)+h}return u(i)}(.4,0,.22,1,e/r,4/r)+t},Attrs:[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity","left","top"]],Timers:[],TimerId:null};function s(e,t,n,i){if(e=(0,o.ge)(e)){var s,u=(0,r.isFunction)(i)?i:()=>{},c=(0,r.extend)({},"object"==typeof n?n:{duration:n,onComplete:u}),_={},p={},h=(0,o.isVisible)(e);c.orig={},(t=(0,r.clone)(t)).discrete&&(c.discrete=1,delete t.discrete),a.browser.iphone&&(c.duration=0);var m=(0,o.data)(e,"tween"),f=h?"hide":"show";for(var v in m&&m.isTweening&&(c.orig=(0,r.extend)(c.orig,m.options.orig),m.stop(!1),m.options.show?f="hide":m.options.hide&&(f="show")),t)if(t.hasOwnProperty(v)){if(!m&&("show"===t[v]&&h||"hide"===t[v]&&!h))return c.onComplete.call(this,e);if("height"!==v&&"width"!==v||!e.style||(t.overflow||(void 0===c.orig.overflow&&(c.orig.overflow=(0,o.getStyle)(e,"overflow")),e.style.overflow="hidden"),(0,o.hasClass)(e,"inl_bl")||"TD"===e.tagName||(e.style.display="block")),/show|hide|toggle/.test(t[v]))if("toggle"===t[v]&&(t[v]=f),"show"===t[v]){s=0,c.show=!0,void 0===c.orig[v]&&(c.orig[v]=(0,o.getStyle)(e,v,!1)||"",(0,o.setStyle)(e,v,0));var g=e.style[v];e.style[v]=c.orig[v],t[v]=parseFloat((0,o.getStyle)(e,v,!0)),e.style[v]=g,"height"===v&&a.browser.msie&&!t.overflow&&(e.style.overflow="hidden")}else void 0===c.orig[v]&&(c.orig[v]=(0,o.getStyle)(e,v,!1)||""),c.hide=!0,t[v]=0}return c.show&&!h&&(0,o.show)(e),m=new l(e,c),(0,r.each)(t,(function(t,n){if(/backgroundColor|borderBottomColor|borderLeftColor|borderRightColor|borderTopColor|color|borderColor|outlineColor/.test(t)){if(s=function(e,t){var n;do{if(0===(n=(0,o.getStyle)(e,t)).indexOf("rgba")&&(n=""),""!=n&&"transparent"!==n||"body"===e.nodeName.toLowerCase())break;t="backgroundColor",e=e.parentNode}while(e);return d(n)}(e,"borderColor"===t?"borderTopColor":t),n=d(n),void 0===s)return}else{var a=n.toString().match(/^([+-]=)?([\d+-.]+)(.*)$/);a&&(n=parseFloat(a[2]),a[1]&&(n=("-="==a[1]?-1:1)*n+n)),0!=(s=m.cur(t,!0))||"width"!==t&&"height"!==t||(s=1),"opacity"===t&&n>0&&!h&&((0,o.setStyle)(e,"opacity",0),s=0,(0,o.show)(e))}(s!=n||(0,r.isArray)(s)&&s.join(",")===n.join(","))&&(_[t]=s,p[t]=n)})),m.start(_,p),(0,o.data)(e,"tween",m),m}}class l{constructor(e,t,n){this.el=(0,o.ge)(e),this.name=n,this.options=(0,r.extend)({onStep:()=>{},onComplete:()=>{},transition:t.transition||i.Transitions.sineInOut,duration:500},t||{})}start(e,t){this.from=e,this.to=t,this.time=(0,r.vkNow)(),this.isTweening=!0;var n=e=>this.step(e);return n.el=this.el,n()&&i.Timers.push(n)&&!i.TimerId&&(i.TimerId=setInterval((function(){for(var e=i.Timers,t=e.length,n=0;n<t;n++)e[n]()||(e.splice(n--,1),t--);t||(clearInterval(i.TimerId),i.TimerId=null)}),13)),this}stop(e){for(var t=i.Timers,n=t.length-1;n>=0;n--)t[n].el===this.el&&(e&&t[n](!0),t.splice(n,1));this.isTweening=!1}step(e){var t=(0,r.vkNow)();if(!e&&t<this.time+this.options.duration){for(var n in this.cTime=t-this.time,this.now={},this.to)if((0,r.isArray)(this.to[n])){for(var a=[],i=0;i<3;i++){if(void 0===this.from[n]||void 0===this.to[n])return!1;a.push(Math.min(parseInt(this.compute(this.from[n][i],this.to[n][i])),255))}this.now[n]=a}else this.now[n]=this.compute(this.from[n],this.to[n]),this.options.discrete&&(this.now[n]=(0,r.intval)(this.now[n]));return this.update(),!0}return setTimeout(this.options.onComplete.bind(this,this.el),10),this.now=(0,r.extend)(this.to,this.options.orig),this.update(),this.options.hide&&(0,o.hide)(this.el),this.isTweening=!1,!1}compute(e,t){var n=t-e;return this.options.transition(this.cTime,e,n,this.options.duration)}update(){for(var e in this.options.onStep(this.now),this.now)(0,r.isArray)(this.now[e])?(0,o.setStyle)(this.el,e,"rgb("+this.now[e].join(",")+")"):void 0!==this.el[e]?this.el[e]=this.now[e]:(0,o.setStyle)(this.el,e,this.now[e])}cur(e,t){return null==this.el[e]||this.el.style&&null!=this.el.style[e]?parseFloat((0,o.getStyle)(this.el,e,t))||0:this.el[e]}}i.Base=l;var u=(e,t,n)=>s(e,{opacity:"show"},t,n),c=(e,t,n)=>s(e,{opacity:"hide"},t,n);function d(e){var t;return e&&(0,r.isArray)(e)&&3==e.length?e:(t=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e))?[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]:(t=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(e))?[2.55*parseFloat(t[1]),2.55*parseFloat(t[2]),2.55*parseFloat(t[3])]:(t=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:(t=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(e))?[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]:void 0}function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e=(0,o.ge)(e),t=n.str?(0,r.trim)(t.toString())||"":(0,r.positive)(t),e)if(!a.browser.mobile||a.browser.safari_mobile||a.browser.android){var l=(0,o.data)(e,"curCount"),u=(0,o.data)(e,"nextCount");if("number"==typeof u||n.str&&"string"==typeof u)t!=u&&(0,o.data)(e,"nextCount",t);else if("number"==typeof l||n.str&&"string"==typeof l)t!==l&&(0,o.data)(e,"nextCount",t);else if(l=n.str?(0,r.trim)((0,o.val)(e).toString())||"":(0,r.positive)((0,o.val)(e)),"auto"===n.str&&(n.str=!l.match(/^\d+$/)||!t.match(/^\d+$/),n.str||(l=(0,r.positive)(l),t=(0,r.positive)(t))),l!==t){(0,o.data)(e,"curCount",t);var c,d,p=n.str?l.length===t.length?l<t:l.length<t.length:l<t,h=(p?t:l).toString(),m=(p?l:t).toString(),f=[],v=[];for(n.str||(m=new Array(h.length-m.length+1).join("0")+m),c=0,d=h.length;c<d;c++){var g=h.charAt(c);if(g!==m.charAt(c))break;f.push(g)}var y=h.substr(c),w=m.substr(c);if(n.str){for(c=y.length;c>0;c--){var b=y.charAt(c);if(b!==w.charAt(c))break;v.unshift(b)}v.length&&(y=y.substr(0,c+1),w=w.substr(0,c+1))}f=f.join("").replace(/\s$/,"&nbsp;"),v=v.join("").replace(/^\s/,"&nbsp;"),(0,r.trim)((0,o.val)(e))||n.noSpaceIfEmpty||(0,o.val)(e,"&nbsp;");var E=e.clientHeight||e.offsetHeight;(0,o.val)(e,'<div class="counter_wrap inl_bl"></div>');var C,D,k,P,x=e.firstChild,T=!0;f.length&&x.appendChild(C=(0,o.ce)("div",{className:"counter_const inl_bl",innerHTML:f})),f.length||n.allowZero||(w=w.replace(/^0+/,"")),w&&("0"!==w||n.allowZero||f.length)||(w=n.noSpaceIfEmpty?"":"&nbsp;",T=!!f.length),x.appendChild(k=(0,o.ce)("div",{className:"counter_anim_wrap inl_bl"})),k.appendChild(P=(0,o.ce)("div",{className:"counter_anim "+(p?"counter_anim_inc":"counter_anim_dec"),innerHTML:`<div class="counter_anim_big"><span class="counter_anim_big_c">${y}</span></div>`+(T?`<div class="counter_anim_small"><span class="counter_anim_small_c">${w}</span></div>`:"")},T?{marginTop:p?-E:0}:{right:0})),n.str&&(0,o.setStyle)(P,{textAlign:"right",right:0});var S=(0,o.getSize)((0,o.geByClass1)("counter_anim_big_c",P,"span"))[0],B=T?"&nbsp;"===w?S:(0,o.getSize)((0,o.geByClass1)("counter_anim_small_c",P,"span"))[0]:0;!w&&n.noSpaceIfEmpty&&(B=0),v.length&&x.appendChild(D=(0,o.ce)("div",{className:"counter_const inl_bl",innerHTML:v})),n.noWrapWidth||(0,o.setStyle)(x,{width:(C&&(0,o.getSize)(C)[0]||0)+(D&&(0,o.getSize)(D)[0]||0)+S+0}),void 0===a.browser.csstransitions&&(a.browser.csstransitions=a.browser.chrome&&a.browser.version>=9||a.browser.mozilla&&a.browser.version>=4||a.browser.opera&&a.browser.version>=10.5||a.browser.safari&&a.browser.version>=3.2||a.browser.safari_mobile||a.browser.android);var O=a.browser.csstransitions;(0,o.setStyle)(k,{width:p?B:S});var M=function(){(0,o.val)(e,t||(n.noSpaceIfEmpty?"":" "));var r=(0,o.data)(e,"nextCount");(0,o.data)(e,"curCount",!1),(0,o.data)(e,"nextCount",!1),("number"==typeof r||n.str&&"string"==typeof r)&&setTimeout(_.pbind(e,r,n),0),n.onDone&&n.onDone()},L=T?{marginTop:p?0:-E}:{marginRight:p?-B:0};O?((0,o.getStyle)(k,"width"),(0,o.addClass)(k,"counter_css_anim_wrap"),S!==B&&(0,o.setStyle)(k,{width:p?S:B}),T&&(0,o.setStyle)(P,L),setTimeout(M,300),n.fadeMode&&((0,o.setStyle)((0,o.geByClass1)("counter_anim_big",e),"opacity",1),(0,o.setStyle)((0,o.geByClass1)("counter_anim_small",e),"opacity",0))):(S!==B&&s(k,{width:p?S:B},{duration:100}),T?s(P,L,{duration:300,transition:i.Transitions.easeOutCirc,onComplete:M}):setTimeout(M,300))}}else(0,o.val)(e,t||"")}},7557:(e,t,n)=>{"use strict";n.d(t,{decodeHTMLEntities:()=>s});n(522),n(6108),n(6253),n(1181),n(9665),n(5767),n(3946),n(9357),n(9018);var r=n(8862);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=r.symbols;r.encodeHTMLEntities,r.escape;function s(e){return i.reduce(((e,t)=>{var n=o(t,2),r=n[0],a=n[1];return e.replace(new RegExp(r,"ig"),a)}),e).replace(/&#(\d+);/g,((e,t)=>String.fromCodePoint(t)))}},3075:(e,t,n)=>{"use strict";n.d(t,{isWeirdLogging:()=>i,imWeirdCatch:()=>l});n(851),n(6253);var r=n(8660),o=n(7192),a=1;function i(){return!!window.imwl}function s(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];i()&&(n&&window.console&&(console.error(e,t),console.trace&&console.trace()),(0,o.retryFn)(r.post,3,(()=>2))("al_im.php",{act:"a_weird_log",kind:e,data:JSON.stringify(extend({errIdx:a++,ua:navigator.userAgent},t))}))}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s(e,extend({err:t&&t.message||t},n)),Promise.reject(t)}},3020:(e,t,n)=>{"use strict";n.d(t,{placeholderInit:()=>l});n(1466);var r=n(4914),o=n(7685),a=(n(148),n(2699)),i=n(6566),s=n(6353);function l(e,t){var n=(0,r.ge)(e);if(!n)return!1;if(!(n.getAttribute?n.getAttribute("contenteditable"):n.contenteditable)&&(0,s.partConfigEnabled)("native_placeholder_enable"))return!1;var l=t?(0,a.clone)(t):{},u=void 0===(0,r.ce)("input").placeholder||n&&n.getAttribute&&n.getAttribute("contenteditable");if(!n.phevents||l.reload){var c=n.getAttribute?n.getAttribute("placeholder"):n.placeholder;if(c&&(n.getValue=function(){return l.editable?n.innerHTML:n.value},n.setValue=function(e){l.editable?n.innerHTML=e:n.value=e,u&&m(n,l)},n.phonfocus=function(){},n.phonblur=function(){},u)){if(n.removeAttribute("placeholder"),l.reload){var d=(0,r.domNS)(n);d&&(0,r.hasClass)(d,"placeholder")&&(0,r.re)(d)}var _=n.phcont=(0,r.domInsertAfter)((0,r.ce)("div",{className:"placeholder",innerHTML:'<div class="ph_input"><div class="ph_content">'+c+"</div></div>"}),n),p=m.pbind(n,l),h=i.browser.mobile?p:(e,t)=>setTimeout(p.pbind(e,t),0);n.phonfocus=function(){n.focused=!0,cur.__focused=n,h(!0,!1)},n.phonblur=function(){cur.__focused=n.focused=!1,h(!1,!0)},n.phshown=!0,(n.value||l.editable&&((void 0!==n.textContent?n.textContent:n.innerText)||(0,r.geByTag)("img",n).length))&&(n.phshown=!1,(0,r.hide)(_)),i.browser.opera_mobile||((0,o.addEvent)(_,"focus click contextmenu",(function(e){l.editableFocus?(setTimeout(l.editableFocus.pbind(n),0),"contextmenu"===e.type&&i.browser.msie&&l.editableFocus(n),n.phonfocus()):(n.blur(),n.focus())})),(0,o.addEvent)(n,"focus"+(l.editable?" click":""),n.phonfocus),(0,o.addEvent)(n,"keydown paste cut input",h)),(0,o.addEvent)(n,"blur",n.phonblur),n.check=h,n.phevents=!0,n.phonsize=function(){},l.global||l.reload||(cur.__phinputs||(cur.__phinputs=[],cur.destroy.push((function(){if(cur.__phinputs)for(var e=0,t=cur.__phinputs.length;e<t;++e)(0,r.removeData)(cur.__phinputs[e])}))),cur.__phinputs.push(n))}}function m(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.phshown,a=e.phcont,s=n.editable;s?((t=void 0!==e.textContent?e.textContent:e.innerText)&&i.browser.opera&&t.match(/^[ ]+$/)&&(t=""),t||(t=(0,r.geByTag)("img",e).length>0),t||(t=(0,r.geByTag)("br",e).length>1),t||(t=(0,r.geByTag)("p",e).length>1)):t=e.value,o&&t?((0,r.hide)(a),e.phshown=!1):o||t||((0,r.show)(a),e.phshown=!0)}}},6886:(e,t,n)=>{"use strict";n.d(t,{parseLatin:()=>i,parseCyr:()=>s,parseLatKeys:()=>l,langNumeric:()=>u,getLang:()=>c,langWordNumeric:()=>d});n(522),n(9357),n(6108),n(6253),n(1876);var r=n(7999),o=(n(1296),n(2699)),a=n(9921);function i(e){for(var t=["yo","zh","kh","ts","ch","sch","shch","sh","eh","yu","ya","YO","ZH","KH","TS","CH","SCH","SHCH","SH","EH","YU","YA","'"],n=["ё","ж","х","ц","ч","щ","щ","ш","э","ю","я","Ё","Ж","Х","Ц","Ч","Щ","Щ","Ш","Э","Ю","Я","ь"],r=e,o=0,a=t.length;o<a;o++)r=r.split(t[o]).join(n[o]);for(var i="abvgdezijklmnoprstufhcyABVGDEZIJKLMNOPRSTUFHCYёЁ",s=0,l=i.length;s<l;s++)r=r.split(i.charAt(s)).join("абвгдезийклмнопрстуфхцыАБВГДЕЗИЙКЛМНОПРСТУФХЦЫеЕ".charAt(s));return r===e?null:r}function s(e){for(var t=["yo","zh","kh","ts","ch","sch","shch","sh","eh","yu","ya","YO","ZH","KH","TS","CH","SCH","SHCH","SH","EH","YU","YA","'"],n=["ё","ж","х","ц","ч","щ","щ","ш","э","ю","я","Ё","Ж","Х","Ц","Ч","Щ","Щ","Ш","Э","Ю","Я","ь"],r="абвгдезийклмнопрстуфхцыАБВГДЕЗИЙКЛМНОПРСТУФХЦЫеЕ",o=e,a=0;a<n.length;a++)o=o.split(n[a]).join(t[a]);for(var i=0;i<r.length;i++)o=o.split(r.charAt(i)).join("abvgdezijklmnoprstufhcyABVGDEZIJKLMNOPRSTUFHCYёЁ".charAt(i));return o===e?null:o}function l(e){for(var t="qwertyuiop[]asdfghjkl;'zxcvbnm,./`",n=e,r=0;r<t.length;r++)n=n.split(t.charAt(r)).join("йцукенгшщзхъфывапролджэячсмитьбю.ё".charAt(r));return n==e?null:n}function u(e,t,n){if(!t||!window.langConfig){if(!(0,r.isNumeric)(e)){var a=new Error("Non-numeric value passed to langNumeric");throw console.log(e,a),a}return String(e)}var i;if((0,o.isArray)(t)?(i=t[1],e!=Math.floor(e)?i=t[langConfig.numRules.float]:(0,o.each)(langConfig.numRules.int,(function(n,r){if("*"==r[0])return i=t[r[2]],!1;var a=r[0]?e%r[0]:e;return-1!=(0,o.indexOf)(r[1],a)?(i=t[r[2]],!1):void 0}))):i=t,n){for(var s=e.toString().split("."),l=[],u=s[0].length-3;u>-3;u-=3)l.unshift(s[0].slice(u>0?u:0,u+3));s[0]=l.join(langConfig.numDel),e=s.join(langConfig.numDec)}return i=(i||"%s").replace("%s",e)}function c(){try{var e=Array.from(arguments),t=e.shift();if(!t)return"...";var n=window.cur&&window.cur.lang&&window.cur.lang[t]||window.lang&&window.lang[t]||window.langpack&&window.langpack[t]||window[t];if(!n){var r=t.split("_");return r.shift(),r.join(" ")}return(0,o.isFunction)(n)?n.apply(null,e):void 0===e[0]&&!(0,o.isArray)(n)||"raw"===e[0]?n:u(e[0],n,e[1])}catch(e){(0,a.debugLog)("lang error:"+e.message+"("+Array.from(arguments).join(", ")+")")}}function d(e,t,n){return(0,o.isArray)(t)&&e<t.length?t[e]:u(e,n)}},1229:(e,t,n)=>{"use strict";n.d(t,{updateNarrow:()=>h,onBodyResize:()=>f,getProgressHtml:()=>v});n(9357);var r,o=n(2699),a=n(4914),i=n(7663),s=n(4426),l=n(5456),u=n(7551),c=(n(148),n(7685),n(967)),d=n(6566),_=(n(4624),n(9433));n(3439),n(6238);function p(){var e=(0,a.ge)("page_header");return r=r||(e?e.offsetHeight:0)}function h(){cur.__narrowBar=cur.__narrowBar||{},cur.__narrowBar.bar=cur.__narrowBar.bar||(0,a.ge)("narrow_column"),cur.__narrowBar.barBlock=cur.__narrowBar.bar&&(0,a.geByClass1)("page_block",cur.__narrowBar.bar),cur.__narrowBar.wideCol=cur.__narrowBar.wideCol||(0,a.ge)("wide_column"),cur.__narrowBar.isBarFixed=cur.__narrowBar.isBarFixed||"fixed"===(0,a.getStyle)(cur.__narrowBar.bar,"position"),cur.__narrowBar.pl=cur.__narrowBar.pl||(0,a.ge)("page_layout");var e=cur.__narrowBar.bar,t=cur.__narrowBar.barBlock,n=cur.__narrowBar.wideCol,r=(0,i.scrollGetY)();if(!d.browser.mobile&&e&&t&&n&&!(0,a.isVisible)(boxLoader)&&!(0,a.isVisible)(boxLayerBG)&&!(0,a.isVisible)(layerBG)){var s,l=window.lastWindowHeight||0,u=Math.min(r,bodyNode.clientHeight-l),c=cur.__narrowBar.pl,_=vk.staticheader?Math.max(0,p()-u):p(),h=cur.__narrowBar.isBarFixed,m=(0,o.floatval)((0,a.getStyle)(cur.__narrowBar.barBlock,"marginTop")),f=(0,a.getSize)(e)[1]-(h?m:0),v=(0,a.getSize)(n)[1],g=(0,a.getXY)(n)[1],y=f>=v-m,w=m,b=u+l-v-g-w,E=Math.max(0,b),C=g-_,D=(0,a.getXY)(e)[1]+(h?m:0),k=cur.__narrowBar.lastSt||0,P=cur.__narrowBar.lastStyles||{},x=_+w+f+m+E<=l&&!cur.narrowHide,T=cur.__narrowBarForceNotFixed,S=!1;u-1<C&&!(x&&d.browser.msie&&D<_+m)||y?s={marginTop:0}:!T&&(u-1<Math.min(k,D-_-m)||x)?(s={top:_,marginLeft:Math.min(-bodyNode.scrollLeft,Math.max(-bodyNode.scrollLeft,bodyNode.clientWidth-(0,a.getSize)(c)[0]))},S=!0):!T&&(u+1>Math.max(k,D+f+w-l)&&b<0&&!cur.narrowHide||cur.narrowHide&&u+1>Math.max(k,D+f-_))?(s={bottom:cur.narrowHide?l-_:w,marginLeft:Math.min(-bodyNode.scrollLeft,Math.max(-bodyNode.scrollLeft,bodyNode.clientWidth-(0,a.getSize)(c)[0]))},S=!0):s={marginTop:b>=0?v-f:Math.min(D-g,v-f+C)},function(e,t){var n=(0,o.clone)(e),r=(0,o.clone)(t);return(0,o.each)(n,(function(e,t){"position"!==e&&(n[e]=Math.round(t))})),(0,o.each)(r,(function(e,t){"position"!==e&&(r[e]=Math.round(t))})),JSON.stringify(n)===JSON.stringify(r)}(s,P)||((0,o.each)(P,(function(e){P[e]=null})),(0,a.setStyle)(e,(0,o.extend)(P,s)),cur.__narrowBar.lastStyles=s),S!==h&&(0,a.toggleClass)(e,"fixed",S),cur.__narrowBar.lastSt=u,cur.__narrowBar.isBarFixed=S}}function m(e,t){e&&"fixed"===(0,a.getStyle)(e,"position")&&(t?(0,a.removeClass)(e,t):(0,a.setStyle)(e,{position:"relative"}),e.offsetLeft,t?(0,a.addClass)(e,t):(0,a.setStyle)(e,{position:"fixed"}))}function f(e){if(window.pageNode){var t=document.documentElement,n=t.clientWidth,r=t.clientHeight,i=(0,l.sbWidth)(),p=Math.max((0,o.intval)(window.innerWidth),(0,o.intval)(n)),f=Math.max((0,o.intval)(window.innerHeight),(0,o.intval)(r)),v=!1;if(d.browser.mobile&&(p=Math.max(p,(0,o.intval)(bodyNode.scrollWidth)),f=Math.max(f,(0,o.intval)(bodyNode.scrollHeight))),window.lastWindowWidth!==p||!0===e){v=!0,window.lastInnerWidth=window.lastWindowWidth=p,layerWrap.style.width=boxLayerWrap.style.width=p+"px";var g=layer.style.width=boxLayer.style.width=p-i-2+"px";if(window.mvLayerWrap&&!mvcur.minimized&&(mvLayerWrap.style.width=p+"px",mvLayer.style.width=g),window.wkLayerWrap&&(wkLayerWrap.style.width=p+"px",wkLayer.style.width=g),bodyNode.offsetWidth<vk.width+i+2&&(p=vk.width+i+2),p)for(var y=pageNode.firstChild;y;y=y.nextSibling)if(y.tagName){for(var w=(window.lastInnerWidth=p-i-1)-1,b=y.firstChild;b;b=b.nextSibling)"scroll_fix"===b.className&&(b.style.width=w+"px");document.documentElement.style.setProperty("--scroll-fixed-width",`${w}px`),vk.staticheader||(0,s.updateHeaderStyles)({width:w})}}if((window.lastWindowHeight!==f||!0===e)&&(v=!0,window.lastWindowHeight=f,layerBG.style.height=boxLayerBG.style.height=layerWrap.style.height=boxLayerWrap.style.height=f+"px",window.mvLayerWrap&&!mvcur.minimized&&(mvLayerWrap.style.height=f+"px"),window.wkLayerWrap)){var E=d.browser.mobile?window.innerHeight:f;wkLayerWrap.style.height=E+"px"}if(vk.noSideTop||(0,l.updSideTopLink)(1),v&&window.curRBox&&window.curRBox.boxes&&window.getWndInner){var C=getWndInner();(0,o.each)(curRBox.boxes,((e,t)=>t._wnd_resize(C[0],C[1])))}setTimeout(u.updSeenAdsInfo,0);var D=(0,_.getAudioPlayer)();D.audioLayer&&D.audioLayer.isShown()&&D.audioLayer.updatePosition(),cur.pvShown&&window.Photoview&&setTimeout(Photoview.updatePhotoDimensions),window.tooltips&&tooltips.rePositionAll(),cur.lSTL&&(0,a.setStyle)(cur.lSTL,{width:Math.max((0,a.getXY)(cur.lSTL.el)[0],0),height:f-1}),(0,a.ge)("dev_top_nav")&&(0,a.setStyle)((0,a.ge)("dev_top_nav","left",null));var k=(0,a.geByClass)("ui_search_fixed"),P=(0,a.ge)("narrow_column");(0,o.each)(k,(function(){m(this,"ui_search_fixed"),setTimeout(m.pbind(this,"ui_search_fixed"),0)})),P&&(m(P,"fixed"),setTimeout(m.pbind(P,"fixed"),0)),(0,s.updateLeftMenu)(),h(),(0,c.updateSTL)()}}function v(e,t){return(0,a.rs)(vk.pr_tpl,{id:e||"",cls:t||""})}},1563:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{MessageBox:()=>MessageBox,showBox:()=>showBox,showTabbedBox:()=>showTabbedBox,showFastBox:()=>showFastBox});var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6108),core_js_modules_es6_object_to_string__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6253),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1876),_ui__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5456),_debug_tools__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9921),_dom_events__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7685),_ui_util__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(139),_dom__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4914),_fx__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(148),_utils_common__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2699),_lang__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(6886),_shared_lib_convert__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2408),_box_utils__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(1260),_accessibility__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(3439),_web_helpers_classnames__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(1265),_icons_desktop_getIcon24Cancel__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(3238),_icons_desktop_getIcon24BrowserBack__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(7770);function MessageBox(_options){var defaults={title:!1,titleControls:"",containerClass:"",width:450,height:"auto",animSpeed:0,bodyStyle:"",grey:!1,white:!1,selfDestruct:!0,progress:!1,hideOnBGClick:!1,hideButtons:!1,onShow:!1,onHideAttempt:!1,onBeforeHide:!1,onHide:!1,onClean:!1,onDestroy:!1,preventHideLastWithCheck:!1,refreshCoordsOnTimeout:!1},options=(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.extend)(defaults,_options),guid=window._message_box_guid++,visible=!1,btns={ok:[],cancel:[]},boxTitleBck,retBox;options.progress||(options.progress="box_progress"+guid);var controlsStyle=options.hideButtons?' style="display: none"':"",boxContainer=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.ce)("div",{className:(0,_web_helpers_classnames__WEBPACK_IMPORTED_MODULE_14__.classNames)("popup_box_container",options.containerClass),innerHTML:`\n<div class="box_layout" onclick="boxQueue.skip=true;">\n  <div class="box_title_wrap">\n    <div class="box_x_button" aria-label="${(0,_lang__WEBPACK_IMPORTED_MODULE_10__.getLang)("global_close")}" tabindex="0" role="button">${(0,_icons_desktop_getIcon24Cancel__WEBPACK_IMPORTED_MODULE_15__.getIcon24Cancel)().icon}</div>\n    <div class="box_title_controls"></div>\n    <div class="box_title"></div>\n  </div>\n\n  <div class="box_body" style="${options.bodyStyle}"></div>\n  ${options.noControls?"":`\n  <div class="box_controls_wrap" ${controlsStyle}>\n    <div class="box_controls">\n      <table cellspacing="0" cellpadding="0" class="fl_r">\n        <tr></tr>\n      </table>\n      <div class="progress" id="${options.progress}"></div>\n\n      <div class="box_controls_text _box_controls_text">${options.textControls||""}</div>\n    </div>\n  <div>`}\n</div>`},{display:"none"});(0,_dom__WEBPACK_IMPORTED_MODULE_7__.hide)(boxContainer);var boxLayout=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.domFC)(boxContainer),boxTitleWrap=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.domFC)(boxLayout),boxCloseButton=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.domFC)(boxTitleWrap),boxTitle=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.domLC)(boxTitleWrap),boxTitleControls=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.domNS)(boxCloseButton);options.noCloseButton&&(0,_dom__WEBPACK_IMPORTED_MODULE_7__.hide)(boxCloseButton);var boxBody=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.domNS)(boxTitleWrap),boxControlsWrap=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.domNS)(boxBody),boxControls=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.domFC)(boxControlsWrap),boxButtons=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.domFC)(boxControls),boxProgress=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.domNS)(boxButtons),boxControlsText=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.domNS)(boxProgress);boxLayer.appendChild(boxContainer),boxContainer.setAttribute("tabindex",0),boxContainer.focus(),refreshBox(),(0,_box_utils__WEBPACK_IMPORTED_MODULE_12__.boxRefreshCoords)(boxContainer);var emitter=new EventEmitter;function refreshBox(){boxTitleBck||(options.title?(boxTitle.innerHTML=options.title,(0,_dom__WEBPACK_IMPORTED_MODULE_7__.removeClass)(boxBody,"box_no_title"),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.show)(boxTitleWrap)):((0,_dom__WEBPACK_IMPORTED_MODULE_7__.addClass)(boxBody,"box_no_title"),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.hide)(boxTitleWrap))),options.titleControls&&(boxTitleControls.innerHTML=options.titleControls),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.toggleClass)(boxBody,"box_no_buttons",options.hideButtons),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.toggleClass)(boxTitleWrap,"box_grey",options.grey),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.toggleClass)(boxTitleWrap,"box_white",options.white),boxContainer.style.width="string"==typeof options.width?options.width:options.width+"px",boxContainer.style.height="string"==typeof options.height?options.height:options.height+"px"}function addButtonInternal(e,t,n,r){var o="flat_button";"no"===n||"gray"===n?(o+=" secondary",n="cancel"):n="ok";var a=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.ce)("button",{className:o,innerHTML:e,id:r});return boxButtons.rows[0].insertCell(0).appendChild(a),(0,_ui__WEBPACK_IMPORTED_MODULE_3__.createButton)(a,(function(){emitter.emit(n,retBox),t.apply(null,arguments)})),btns[n].push(a),a}function setControlsText(e){boxControlsText.innerHTML=e}function _removeButtons(){for(var e=boxButtons.rows[0];e.cells.length;)(0,_dom__WEBPACK_IMPORTED_MODULE_7__.cleanElems)(e.cells[0]),e.deleteCell(0);btns.ok.length=btns.cancel.length=0}var destroyMe=function(){(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.isFunction)(options.onClean)&&options.onClean(),(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.isFunction)(options.onDestroy)&&options.onDestroy(),options.noControls||_removeButtons(),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.cleanElems)(boxContainer,boxCloseButton,boxTitleWrap,options.noControls?void 0:boxControlsWrap),boxLayer.removeChild(boxContainer),delete window._message_boxes[guid]},hideMe=function(e,t,n){if(visible){visible=!1;var r=!0===e?0:options.animSpeed;options.hideOnBGClick&&(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.removeEvent)(document,"click",boxQueue.hideBGClick),(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.isFunction)(options.onBeforeHide)&&options.onBeforeHide();var o=function(){boxQueue.currHiding===_message_boxes[guid]&&(boxQueue.currHiding=!1),_message_boxes[guid].shOther||e||layers.boxhide(),!t&&options.selfDestruct?destroyMe():(0,_dom__WEBPACK_IMPORTED_MODULE_7__.hide)(boxContainer),(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.isFunction)(options.onHide)&&options.onHide(n),retBox.emit("afterHide",retBox)};r>0?(boxQueue.currHiding=_message_boxes[guid],(0,_fx__WEBPACK_IMPORTED_MODULE_8__.fadeOut)(boxContainer,r,o)):o()}};function showMe(e,t,n){if(!visible&&window._message_boxes[guid]&&!window._message_boxes[guid].forceHide){visible=!0;var r=!0===e||t?0:options.animSpeed;if(options.hideOnBGClick&&(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.addEvent)(document,"click",boxQueue.hideBGClick),t||layers.boxshow(),boxQueue.currHiding){boxQueue.currHiding.shOther=!0;var o=boxQueue.currHiding.bodyNode.parentNode.parentNode;(0,_dom__WEBPACK_IMPORTED_MODULE_7__.data)(o,"tween").stop(!0)}r>0?(0,_fx__WEBPACK_IMPORTED_MODULE_8__.fadeIn)(boxContainer,r):(0,_dom__WEBPACK_IMPORTED_MODULE_7__.show)(boxContainer),(0,_box_utils__WEBPACK_IMPORTED_MODULE_12__.boxRefreshCoords)(boxContainer),options.onShow&&options.onShow(n)}}return(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.addEvent)(boxCloseButton,"click",boxQueue.hideLast),retBox=window._message_boxes[guid]={guid:guid,_show:showMe,_hide:hideMe,bodyNode:boxBody,controlsTextNode:boxControlsText,titleWrap:boxTitleWrap,btns:btns,show:function(){return boxQueue._show(guid),this},progress:boxProgress,showCloseProgress:_dom__WEBPACK_IMPORTED_MODULE_7__.addClass.pbind(boxTitleWrap,"box_loading"),hideCloseProgress:_dom__WEBPACK_IMPORTED_MODULE_7__.removeClass.pbind(boxTitleWrap,"box_loading"),showProgress:function(){(0,_dom__WEBPACK_IMPORTED_MODULE_7__.hide)(boxControlsText),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.show)(boxProgress)},hideProgress:function(){(0,_dom__WEBPACK_IMPORTED_MODULE_7__.hide)(boxProgress),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.show)(boxControlsText)},hide:function(e){return!((0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.isFunction)(options.onHideAttempt)&&!options.onHideAttempt(e))&&(boxQueue._hide(guid),!0)},isVisible:function(){return visible},bodyHeight:function(){return(0,_dom__WEBPACK_IMPORTED_MODULE_7__.getStyle)(boxBody,"height")},content:function(e){return options.onClean&&options.onClean(),"string"==typeof e?boxBody.innerHTML=e:e instanceof HTMLElement&&(boxBody.innerHTML="",boxBody.appendChild(e)),options.refreshCoordsOnTimeout?setTimeout((()=>{(0,_box_utils__WEBPACK_IMPORTED_MODULE_12__.boxRefreshCoords)(boxContainer)})):(0,_box_utils__WEBPACK_IMPORTED_MODULE_12__.boxRefreshCoords)(boxContainer),boxContainer.focus(),refreshBox(),(0,_accessibility__WEBPACK_IMPORTED_MODULE_13__.updateAriaElements)(),this},emit:function(e,t){emitter.emit(e,t)},addButton:function(e,t,n,r,o){var a=addButtonInternal(e,t||this.hide,n,o);return r?a:this},setButtons:function(e,t,n,r){var o=this.removeButtons();return e?(o.addButton(e,t),n&&o.addButton(n,r,"no"),o):o.addButton((0,_lang__WEBPACK_IMPORTED_MODULE_10__.getLang)("box_close"))},setControlsText:setControlsText,removeButtons:function(){return _removeButtons(),this},setBackTitle:function(e){e?(boxTitle.innerHTML='<div class="back"><span class="back__icon">'+(0,_icons_desktop_getIcon24BrowserBack__WEBPACK_IMPORTED_MODULE_16__.getIcon24BrowserBack)().icon+"</span>"+(0,_lang__WEBPACK_IMPORTED_MODULE_10__.getLang)("global_box_title_back")+"</div>",boxTitleBck=options.title,options.title=boxTitle.innerHTML,setTimeout((function(){(0,_dom__WEBPACK_IMPORTED_MODULE_7__.geByClass1)("back",boxTitle).onclick=e}),100)):boxTitleBck&&(boxTitle.innerHTML=options.title=boxTitleBck,boxTitleBck=!1)},destroy:destroyMe,getOptions:function(){return options},on:function(e,t){emitter.on(e,t)},once:function(e,t){emitter.once(e,t)},updateBoxCoords:function(){(0,_box_utils__WEBPACK_IMPORTED_MODULE_12__.boxRefreshCoords)(boxContainer)},setOptions:function(e){if(options.hideOnBGClick&&(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.removeEvent)(document,"click",boxQueue.hideBGClick),options=(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.extend)(options,e),"bodyStyle"in e)for(var t=options.bodyStyle.split(";"),n=0,r=t.length;n<r;n++){var o=t[n].split(":");o.length>1&&o[0].length&&(boxBody.style[(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.trim)(o[0])]=(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.trim)(o[1]),boxBody.style.setProperty&&boxBody.style.setProperty((0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.trim)(o[0]),(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.trim)(o[1]),""))}return options.hideOnBGClick&&(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.addEvent)(document,"click",boxQueue.hideBGClick),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.toggle)(boxControlsWrap,!options.hideButtons),refreshBox(),options.noRefreshCoords||(0,_box_utils__WEBPACK_IMPORTED_MODULE_12__.boxRefreshCoords)(boxContainer),this},evalBox:function evalBox(js,url,params){var scr="((function() { return function() { var box = this; "+(js||"")+";}; })())";if(__debugMode){var fn=eval(scr);fn.apply(this,[url,params])}else try{var _fn=eval(scr);_fn.apply(this,[url,params])}catch(e){(0,_ui_util__WEBPACK_IMPORTED_MODULE_6__.topError)(e,{dt:15,type:7,url:url,query:params?(0,_shared_lib_convert__WEBPACK_IMPORTED_MODULE_11__.toQueryString)(params):void 0,js:js}),(0,_debug_tools__WEBPACK_IMPORTED_MODULE_4__.logEvalError)(e,scr)}},preventHideLastWithCheck:options.preventHideLastWithCheck,execInline:function(e){window.vk.inline[e](this),delete window.vk.inline[e]}},retBox}function showBox(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if((0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.checkEvent)(r))return!1;var o=n.params||{};n.containerClass&&(o.containerClass=n.containerClass);var a=Date.now().toString(36);t&&(t.boxhash=a);var i=new MessageBox(o);i.boxhash=a;var s={onDone:function(r,s,l,u){if(n.preOnDone&&n.onDone&&n.onDone(i),t&&"function"==typeof t.onMessageSend&&window.WriteBox&&window.WriteBox.once("message_sended",t.onMessageSend),i.isVisible())if(__debugMode)c();else try{c()}catch(n){(0,_ui_util__WEBPACK_IMPORTED_MODULE_6__.topError)(n,{dt:15,type:103,url:e,query:(0,_shared_lib_convert__WEBPACK_IMPORTED_MODULE_11__.toQueryString)(t),answer:Array.prototype.slice.call(arguments).join("<!>")}),i.isVisible()&&i.hide()}else n.onDone&&n.onDone(i,u);function c(){(0,_dom__WEBPACK_IMPORTED_MODULE_7__.show)(boxLayerBG),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.addClass)(bodyNode,"layers_shown"),i.setOptions({title:r,hideButtons:o.hideButtons||!1}),n.showProgress?i.show():(0,_dom__WEBPACK_IMPORTED_MODULE_7__.show)(i.bodyNode),i.content(s),n.noEval?i.execInline(a):i.evalBox(l,e,t),n.onDone&&n.onDone(i,u)}},onFail:function(e){if(i.failed=!0,setTimeout(i.hide,0),(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.isFunction)(n.onFail))return n.onFail(e)},cache:n.cache,stat:n.stat,fromBox:!0};return n.prgEl&&(n.showProgress=_ui_util__WEBPACK_IMPORTED_MODULE_6__.showGlobalPrg.pbind(n.prgEl,{cls:n.prgClass,w:n.prgW,h:n.prgH,hide:!0}),n.hideProgress=_dom__WEBPACK_IMPORTED_MODULE_7__.hide.pbind("global_prg")),n.showProgress?(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.extend)(s,{showProgress:n.showProgress,hideProgress:n.hideProgress}):(i.setOptions({title:!1,hideButtons:!0}).show(),boxQueue.count()<2&&((0,_dom__WEBPACK_IMPORTED_MODULE_7__.hide)(boxLayerBG),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.removeClass)(bodyNode,"layers_shown")),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.hide)(i.bodyNode),s.showProgress=function(){(0,_dom__WEBPACK_IMPORTED_MODULE_7__.show)(boxLoader),(0,_box_utils__WEBPACK_IMPORTED_MODULE_12__.boxRefreshCoords)(boxLoader)},s.hideProgress=_dom__WEBPACK_IMPORTED_MODULE_7__.hide.pbind(boxLoader)),i.removeButtons().addButton((0,_lang__WEBPACK_IMPORTED_MODULE_10__.getLang)("global_close")),ajax.post(e,t,s),i}function showTabbedBox(e,t,n,r){return(n=n||{}).stat=n.stat||[],n.stat.push(jsc("web/box.js"),"boxes.css"),showBox(e,t,n,r)}function showFastBox(e,t,n,r,o,a){return new MessageBox("string"==typeof e?{title:e}:e).content(t).setButtons(n,r,o,a).show()}function showCaptchaBox(e,t,n,r){var o=function(t){if(!t||void 0===t.keyCode||10===t.keyCode||13===t.keyCode){var o=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.geByTag1)("input",n.bodyNode);if((0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.trim)(o.value)||!0===t){var a=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.geByTag1)("img",n.bodyNode)[0];(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.removeEvent)(o),(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.removeEvent)(a),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.show)((0,_dom__WEBPACK_IMPORTED_MODULE_7__.geByClass1)("progress",n.bodyNode)),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.hide)(o),r.onSubmit(e,o.value)}else(0,_dom__WEBPACK_IMPORTED_MODULE_7__.elfocus)(o)}},a=!!n,i=(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.intval)(t)?"":"&s=1",s=r.imgSrc||"/captcha.php?sid="+e+i;if(!a){var l=`\n<div class="captcha">\n  <div><img src="${s}"/></div>\n  <div>\n    <input type="text" class="big_text" maxlength="7" placeholder="${(0,_lang__WEBPACK_IMPORTED_MODULE_10__.getLang)("global_captcha_input_here")}" />\n    <div class="progress" /></div>\n  </div>\n</div>`+(r.addText||"");n=showFastBox({title:(0,_lang__WEBPACK_IMPORTED_MODULE_10__.getLang)("captcha_enter_code"),width:305,onHide:r.onHide,onDestroy:r.onDestroy||!1},l,(0,_lang__WEBPACK_IMPORTED_MODULE_10__.getLang)("captcha_send"),(function(){n.submit()}),(0,_lang__WEBPACK_IMPORTED_MODULE_10__.getLang)("captcha_cancel"),(function(){var e=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.geByTag1)("input",n.bodyNode),t=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.geByTag1)("img",n.bodyNode);(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.removeEvent)(e),(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.removeEvent)(t),n.hide()}))}n.submit=o.pbind(!0),n.changed=!0;var u=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.geByTag1)("input",n.bodyNode),c=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.geByTag1)("img",n.bodyNode);return a&&(u.value="",c.src="/captcha.php?sid="+e+i,(0,_dom__WEBPACK_IMPORTED_MODULE_7__.hide)((0,_dom__WEBPACK_IMPORTED_MODULE_7__.geByClass1)("progress",n.bodyNode))),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.show)(u),(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.addEvent)(u,"keypress",o),(0,_dom_events__WEBPACK_IMPORTED_MODULE_5__.addEvent)(c,"click",(function(){this.src="/captcha.php?sid="+e+i+"&v="+(0,_utils_common__WEBPACK_IMPORTED_MODULE_9__.irand)(1e6,2e6)})),(0,_dom__WEBPACK_IMPORTED_MODULE_7__.elfocus)(u),n}function showReCaptchaBox(e,t,n,r){window.recaptchaResponse=function(e){r.onSubmit(e)};var o=!!n,a=!!window.grecaptcha;if(!o){a||(window.recaptchaCallback=function(){var t=(0,_box_utils__WEBPACK_IMPORTED_MODULE_12__.curBox)();if(t){var n=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.geByClass1)("recaptcha",t.bodyNode);n&&((0,_dom__WEBPACK_IMPORTED_MODULE_7__.val)(n,""),window.grecaptcha.render(n,{sitekey:e,callback:window.recaptchaResponse}))}},headNode.appendChild((0,_dom__WEBPACK_IMPORTED_MODULE_7__.ce)("script",{type:"text/javascript",src:"https://www.google.com/recaptcha/api.js?onload=recaptchaCallback&render=explicit&hl="+t})));var i='<div class="recaptcha"></div>'+(r.addText||"");n=showFastBox({title:(0,_lang__WEBPACK_IMPORTED_MODULE_10__.getLang)("global_recaptcha_title"),width:354,onHide:r.onHide,onDestroy:r.onDestroy||!1},i,(0,_lang__WEBPACK_IMPORTED_MODULE_10__.getLang)("captcha_cancel"));var s=(0,_dom__WEBPACK_IMPORTED_MODULE_7__.geByClass1)("recaptcha",n.bodyNode);s.id="recaptcha"+(n.guid?n.guid:"0"),(0,_ui__WEBPACK_IMPORTED_MODULE_3__.showProgress)(s)}return o&&a?window.grecaptcha.reset():a&&window.recaptchaCallback(),n.changed=!0,n}},4426:(e,t,n)=>{"use strict";n.d(t,{updateHeaderStyles:()=>a,updateLeftMenu:()=>i});n(522),n(9665),n(5767),n(1876),n(1466),n(1181),n(3276),n(9357),n(6108),n(6253);var r=n(4914),o=n(2699);n(6886),n(148),n(9847),n(7551),n(139),n(5456),n(6239),n(1563),n(3339),n(1260),n(9433),n(233),n(1393),n(967),n(7851),n(2459),n(1988),n(1183),n(2481),n(1659),n(6353);function a(e){var t=[(0,r.ge)("dev_top_nav_wrap"),(0,r.ge)("page_header_wrap")];(0,o.each)(t,(function(t,n){n&&(0,r.setStyle)(n,e)}))}function i(e){window.__leftMenu&&window.__leftMenu.handleUpdateRequest(e)}},7663:(e,t,n)=>{"use strict";n.d(t,{scrollToY:()=>s,scrollGetY:()=>l,disableBodyScroll:()=>u,enableBodyScroll:()=>c});var r=n(5456),o=n(148),a=n(4914);function i(){return bodyNode}function s(e,t,n,u,c){if(null==t&&(t=400),"ontouchstart"in document.documentElement&&(t=0),u||(e=Math.max(0,e-(vk.staticheader?0:(0,a.getSize)("page_header_cont")[1]))),(0,a.data)(i(),"tween")&&(0,a.data)(i(),"tween").stop(!1),(0,a.data)(htmlNode,"tween")&&(0,a.data)(htmlNode,"tween").stop(!1),window.scrollAnimation=!1,t){var d=function(){window.scrollAnimation=!1,2===n&&("profile"!=cur.module&&"public"!=cur.module&&"group"!=cur.module&&"groups"!=cur.module&&"event"!=cur.module||!window.Wall||Wall.scrollCheck(!1,void 0,!0),(0,r.updSideTopLink)()),"function"==typeof c&&c()};window.scrollAnimation=!0,(0,o.animate)(htmlNode,{scrollTop:e},{duration:t,transition:o.Fx.Transitions.sineInOut,onComplete:d}),(0,o.animate)(i(),{scrollTop:e},{duration:t,transition:o.Fx.Transitions.sineInOut,onComplete:d})}else{if(n&&2!==n){"profile"!=cur.module&&"public"!=cur.module&&"group"!=cur.module&&"event"!=cur.module||!window.Wall||Wall.scrollCheck(!1,e,!0);var _=l()-e;return Math.abs(_)>6&&s(e+(_>0?6:-6),0,2,!0),(0,r.updSideTopLink)(),clearTimeout(window.scrlToTO),void(window.scrlToTO=setTimeout(s.pbind(e,100,2,!0,c),0))}window.scroll(window.pageXOffset||scrollNode.scrollLeft||document.documentElement.scrollLeft,e),"function"==typeof c&&c(),n||(0,r.updSideTopLink)()}}function l(){return window.pageYOffset||scrollNode.scrollTop||document.documentElement.scrollTop}function u(){i().style.overflow="hidden"}function c(){i().style.overflow="auto"}},7399:(e,t,n)=>{"use strict";n.d(t,{createScroll:()=>l});var r=n(3246);function o(e,t){return bodyNode[e]||document.documentElement[e]}class a{constructor(e,t){this.el=e,this.opts=t,this.module=(0,r.createModule)({handlers:(e,t)=>{e(window,"scroll",this.onScroll.bind(this)),e(window,"resize",this.resize.bind(this))}}),this.innerHeight=window.innerHeight,this.prevScroll=this.scrollTop()}update(){}resize(){this.innerHeight=window.innerHeight}scrollTop(e){if(void 0===e)return o("scrollTop",this.el);!function(e,t,n){"scrollTop"===e&&window.scrollTo(0,t)}("scrollTop",e,this.el)}contHeight(){return o("scrollHeight")}smoothScroll(e){scrollToY(e+this.scrollTop(),300)}getContainer(){return this.el}getScroller(){return null}scrollBottom(e){if(void 0===e)return this.contHeight()-this.scrollTop()-this.getScrollHeight();var t=this.contHeight()-e-this.getScrollHeight();this.scrollTop(t)}scrollBottomFixSave(e){var t=Date.now(),n=()=>{Date.now()-t<500&&this.scrollBottom(e),window.removeEventListener("scroll",n)};window.addEventListener("scroll",n),this.scrollBottom(e)}onScroll(e){var t=this.scrollTop(),n=t-this.prevScroll,r=this.contHeight();this.opts.onScroll&&this.opts.onScroll(-n,this),this.opts.scrollChange&&this.opts.scrollChange(t),this.opts.more&&r-t<2*this.innerHeight&&this.opts.more(this),this.prevScroll=t}getScrollHeight(){return this.innerHeight}destroy(){(0,r.destroyModule)(this.module)}}class i{constructor(e,t){this.prevTop=0,this.scroll=new uiScroll(e,{hidden:void 0===t.hidden||t.hidden,shadows:t.shadows,stopScrollPropagation:!1,theme:t.scrollTheme,onmore:()=>t.more&&t.more(this),onscroll:e=>{var n=this.scrollTop(),r=this.prevTop-n;this.prevTop=n,t.scrollChange&&t.scrollChange(n),t.onScroll&&t.onScroll(r,this)}})}update(){this.scroll.update("sync")}scrollTop(e){return void 0!==e?this.scroll.scrollTop(e):this.scroll.data.scrollTop}getContainer(){return this.scroll.content}getScroller(){return this.scroll.scroller}contHeight(){return this.scroll.data.scrollHeight}smoothScroll(e){this.scroll.scrollTop(this.scrollTop()+e,300)}scrollBottom(e){return void 0!==e?this.scroll.scrollBottom(e):this.scroll.data.scrollBottom}scrollBottomFixSave(e){var t=Date.now();this.scroll.emitter.addOnceListener("resize",(()=>{Date.now()-t<500&&this.scroll&&this.scrollBottom(e)})),this.scrollBottom(e)}getScrollHeight(){return this.scroll.data.viewportHeight}destroy(){this.scroll.destroy()}}class s{constructor(e,t){this.el=e}update(){}getContainer(){return this.el}getScroller(){return null}scrollTop(e){return 0}contHeight(){return 0}smoothScroll(e){}scrollBottom(e){return 0}scrollBottomFixSave(e){}getScrollHeight(){return 0}destroy(){}}function l(e,t){return t.noScroll?new s(e):t.nativeScroll?new a(e,t):new i(e,t)}},7451:(e,t,n)=>{"use strict";n.d(t,{makeSharedState:()=>u});var r,o=n(7999),a="__SHARED_STATE_KEY";r=window.hasOwnProperty(a)?window.__SHARED_STATE_KEY:Object.create(null),Object.defineProperty(window,a,{configurable:!0,value:r});var i=()=>window.__SHARED_STATE_KEY,s=e=>i()[e],l={persistIfInitialized:!0},u=(e,t,n)=>{var r=(0,o.defaults)({},n,l),a=e in i(),u=s(e),c=a&&r.persistIfInitialized?u:t(u);((e,t)=>{i()[e]=t})(e,c);return()=>s(e)}},9847:(e,t,n)=>{"use strict";n.d(t,{statlogsValueEvent:()=>o.statlogsValueEvent,serviceTopSearch:()=>h,removeSearchPositionTracker:()=>xe,saveSearchAttemptStats:()=>Te});n(9665),n(5767),n(522),n(6108),n(1181),n(6253),n(1876),n(9357);var r=n(2699),o=n(6900),a=n(302);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=l(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,a=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function l(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c={},d="wall_users",_="wall_groups",p="search_statuses",h="top_search",m="",f="tap",v="join_group",g="leave_group",y="fave",w="unfave",b="write_msg",E="add_friend",C="remove_friend",D="restore_friend",k="show_photo",P="add",x="remove",T="play",S="open_artist",B="open_author_group",O="open_author_user",M="open_author",L="show_similar",I="search_by_tag",A="edit",N="like",R="comment",F="share",W="mark_as_spam",U="stats",j="group",H="profile",K="",V="own",z="search",q="search_audio",G="search_people",$="search_groups",Y="search_video",X="search_posts",Q="own_playlists",J="global_clips",Z="own_audios",ee="search_artists",te="search_playlists",ne="search_audios",re="own_conversations",oe="own_messages",ae="own_albums",ie="own_videos",se="search_promo_albums",le="search_videos",ue="serps",ce="SERPS_LOGS_DATA_LOCK",de="",_e="user",pe="group",he="event",me="public",fe="grid",ve="list";function ge(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,l=0,u="",c=0,d=1,_=0,p=0;return e&&(isArray(n)||(n=[n]),n.some((n=>{var h,m=e.classList.contains(n)?e:gpeByClass(n,e),f=0;if(m&&(h=r?bodyNode.querySelectorAll(r):m.parentNode.children)){if((l=[...h].indexOf(m)+1)&&o)for(var v in o)if(o.hasOwnProperty(v)){var g=bodyNode.querySelectorAll(o[v]);if(g){var y=[...g].indexOf(m)+1;if(y){c=y,u=v;break}}d++,f++}if(a){var w,b=s(a);try{for(b.s();!(w=b.n()).done;){var E=w.value,C=gpeByClass(E,e);C&&(d=C.getAttribute("data-block-num"))}}catch(e){b.e(e)}finally{b.f()}}var D=i(t(m,f),2);return _=D[0],p=D[1],!0}}))),[l,_,p,u,c,d]}function ye(e,t,n,r,o,a){if(c[e]){var s=a.target;if(s&&s.classList)switch(e){case"groups":return void function(e,t,n,r,o,a){if(!t)return;var s=a.classList,l=a.outerHTML,u=a.tagName,c=i(ge(a,(e=>{var t=e.getAttribute("id")||e.getAttribute("data-id");return[0,"-"+(t=t?t.replace("gl_groups","").replace("gl_admin",""):0)]}),["_gl_row","search_row"],"#groups_list_tab_groups ._gl_row, #groups_list_search_wrap ._gl_row, #results .search_row, #groups_list_search_wrap .search_row",{[V]:"#groups_list_tab_groups ._gl_row",[z]:"#groups_list_search_wrap ._gl_row, #groups_list_search_wrap .search_row"}),5),d=c[1],_=c[2],p=c[3],h=c[4];if(!h)return;p===V&&(r=0,o="");var b=m;if(s.contains("group_row_title")||s.contains("group_row_img")||s.contains("highlight")||s.contains("search_item_img")||"A"===u&&-1!==l.indexOf("return nav.go")){var E=gpeByClass("group_list_row",a)||gpeByClass("groups_row",a);if(!E)return;if(E.hasAttribute("data-clicked"))return;E.setAttribute("data-clicked",!0),b=f}(s.contains("flat_button")&&!s.contains("secondary")||s.contains("search_sub_button"))&&(b=v);(s.contains("flat_button")&&s.contains("secondary")||s.contains("search_unsub_button"))&&(b=g);if(p===V&&-1!==l.indexOf("GroupsList.subscribe")){if(s.contains("ui_actions_menu"))return;b=v,!cur.scrollList.deleted[-_]&&(b=g)}if(p===V&&-1!==l.indexOf("GroupsList.toggleFave")){if(s.contains("ui_actions_menu"))return;b=y,"1"===a.getAttribute("data-value")&&(b=w)}if(b===m)return;Ce(),b===f&&Ee(j,e,p,h,n,t,_,d,r,o);De(e,p,h,b,n,t,_,d,r,o,de)}(e,t,n,r,o,s);case"search_communities":return void function(e,t,n,r,o,a){if(!t)return;var s=a.classList,l=a.outerHTML,u=a.tagName,c=i(ge(a,(e=>{var t=e.getAttribute("data-id");return t||(t=0),[0,"-"+t]}),"search_row","#results .search_row"),3),d=c[0],_=c[1],p=c[2];if(!d)return;var h=m;if(s.contains("search_item_img")||s.contains("highlight")||"A"===u&&-1!==l.indexOf("return nav.go")){var y=gpeByClass("groups_row",a);if(!y)return;if(y.hasAttribute("data-clicked"))return;y.setAttribute("data-clicked",!0),h=f}s.contains("search_sub_button")&&(h=v);s.contains("search_unsub_button")&&(h=g);if(h===m)return;Ce(),h===f&&Ee(j,e,K,d,n,t,p,_,r,o);De(e,K,d,h,n,t,p,_,r,o,de)}(e,t,n,r,o,s);case"groups_catalog":return void function(e,t,n,r,o,a){if(!t)return;var s=a.classList,l=a.outerHTML,u=a.tagName,c=i(ge(a,(e=>{var t=e.getAttribute("data-id");return t||(t=0),[0,"-"+t]}),"search_row","#results .search_row"),3),d=c[0],_=c[1],p=c[2],h=m;if(s.contains("search_item_img")||s.contains("highlight")||"A"===u&&-1!==l.indexOf("return nav.go")){var y=gpeByClass("groups_row",a);if(!y)return;if(y.hasAttribute("data-clicked"))return;y.setAttribute("data-clicked",!0),h=f}s.contains("search_sub_button")&&(h=v);s.contains("search_unsub_button")&&(h=g);if(h===m)return;Ce(),h===f&&Ee(j,e,K,d,n,t,p,_,r,o);De(e,K,d,h,n,t,p,_,r,o,de)}(e,t,n,r,o,s);case"events":return void function(e,t,n,r,o,a){var s=a.classList,l=a.outerHTML,u=a.parentElement?a.parentElement.classList:null,c=i(ge(a,(e=>{var t=e.getAttribute("data-id");return t||(t=0),[0,"-"+t]}),"search_row","#groups_list_in_tab_search_all .search_row"),3),d=c[0],_=c[1],p=c[2];if(!d)return;var h=m;if(s.contains("search_item_img")||-1!==l.indexOf("return nav.go")&&u&&u.contains("title")){var y=gpeByClass("search_row",a);if(!y)return;if(y.hasAttribute("data-clicked"))return;y.setAttribute("data-clicked",!0),h=f}s.contains("search_sub_button")&&(h=v);s.contains("search_unsub_button")&&(h=g);if(h===m)return;Ce(),h===f&&Ee(j,e,K,d,n,t,p,_,r,o);De(e,K,d,h,n,t,p,_,r,o,de)}(e,t,n,r,o,s);case"friends":case"user_friends":return void function(e,t,n,r,o,a){var s=a.classList,l=a.outerHTML,u=a.tagName,c=i(ge(a,(e=>{var t=e.getAttribute("id");return[0,t=t?t.replace("friends_user_row",""):0]}),"friends_user_row","#list_content .friends_user_row, #friends_search_cont .friends_user_row",{[V]:"#list_content .friends_user_row",[z]:"#friends_search_cont .friends_user_row"}),5),d=c[1],_=c[2],p=c[3],h=c[4];if(!h)return;var v=m;p===V&&-1!==l.indexOf("showWriteMessageBox")&&(v=b);p===V&&-1!==l.indexOf("deleteFriend")&&(v=C);p===V&&s.contains("friends_restore_link")&&(v=D);s.contains("ui_zoom_icon")&&(v=k);p===z&&a.id&&-1!==a.id.indexOf("friends_subsc")&&(v=E);p===z&&a.id&&-1!==a.id.indexOf("friends_unsubsc")&&(v=C);if(s.contains("friends_photo_img")||p===V&&"A"===u&&-1!==l.indexOf("return nav.go")||p===z&&"A"===u&&0===s.length){var g=gpeByClass("friends_user_row",a);if(!g)return;if(g.hasAttribute("data-clicked"))return;g.setAttribute("data-clicked",!0),v=f}if(v===m)return;Ce(),v===f&&Ee(H,e,p,h,n,t,_,d,r,o);De(e,p,h,v,n,t,_,d,r,o,de)}(e,t,n,r,o,s);case"friends_find":return void function(e,t,n,r,o,a){var s=a.classList,l=a.outerHTML,u=a.parentElement?a.parentElement.classList:null;if(!t)return;var c=i(ge(a,(e=>[0,e.getAttribute("data-id")||0]),"search_row","#results .search_row"),3),d=c[0],_=c[1],p=c[2];if(!d)return;var h=m;if(s.contains("search_item_img")||-1!==l.indexOf("return nav.go")&&u&&u.contains("name")){var v=gpeByClass("people_row",a);if(!v)return;if(v.hasAttribute("data-clicked"))return;v.setAttribute("data-clicked",!0),h=f}s.contains("search_sub_button")&&(h=E);s.contains("search_unsub_button")&&(h=C);if(h===m)return;Ce(),h===f&&Ee(H,e,K,d,n,t,p,_,r,o);De(e,K,d,h,n,t,p,_,r,o,de)}(e,t,n,r,o,s);case"search_people":return void function(e,t,n,r,o,a){var s=a.classList,l=a.outerHTML,u=a.parentElement?a.parentElement.classList:null;if(!t)return;var c=i(ge(a,(e=>[0,e.getAttribute("data-id")||0]),"search_row","#results .search_row"),3),d=c[0],_=c[1],p=c[2];if(!d)return;var h=m;if(s.contains("search_item_img")||-1!==l.indexOf("return nav.go")&&u&&u.contains("name")){var v=gpeByClass("people_row",a);if(!v)return;if(v.hasAttribute("data-clicked"))return;v.setAttribute("data-clicked",!0),h=f}s.contains("search_sub_button")&&(h=E);s.contains("search_unsub_button")&&(h=C);if(h===m)return;Ce(),h===f&&Ee(H,e,K,d,n,t,p,_,r,o);De(e,K,d,h,n,t,p,_,r,o,de)}(e,t,n,r,o,s);case"search_auto":return void function(e,t,n,r,o,a){var s=a.classList,l=a.tagName,u=a.outerHTML,c=i(ge(a,(e=>{var t="",n=e.classList;if(n.contains("_audio_row"))t=e.getAttribute("data-full-id");else{if(n.contains("people_row"))return[0,t=e.getAttribute("data-id")||0];if(n.contains("groups_row"))return[0,"-"+(t=e.getAttribute("data-id")||0)];n.contains("_video_item")?t=e.getAttribute("data-id"):n.contains("_post")&&(t=(t=e.getAttribute("id")||"").replace("post",""))}return t&&t.indexOf("_")?t.split("_"):[0,t]}),["_audio_row","search_row","_video_item","_post"],"\n      ._search_results ._audio_row,\n      ._search_results .search_row,\n      ._search_results ._video_item,\n      #results ._post\n    ",{[q]:"._search_results ._audio_row",[G]:"._search_results .people_row",[$]:"._search_results .groups_row",[Y]:"._search_results ._video_item",[X]:"#results ._post"},["search_audio_media","search_people_media","search_communities_media","search_video_media"]),5),d=c[1],_=c[2],p=c[3],h=c[4];if(!h)return;var v=m;switch(p){case Y:s.contains("icon_add")&&(v=P),s.contains("icon_added")&&(v=x),(s.contains("video_thumb_play")||s.contains("video_item_controls")||s.contains("video_item_title"))&&(v=T),s.contains("al_need_login")&&(v=S),s.contains("group_link")&&(v=B),s.contains("mem_link")&&(v=O);break;case q:(s.contains("audio_row__play_btn")||s.contains("audio_row__performer_title")||s.contains("audio_row__title")||s.contains("audio_row__title_inner")||s.contains("audio_row__title_inner_subtitle")||s.contains("audio_row__inner")||s.contains("audio_player__place")||s.contains("audio_row__action_next"))&&(v=T),s.contains("audio_row__action_add")&&(v=P),"A"===l&&(v=S);break;case G:"A"===l&&-1!==u.indexOf("searcher.subscribe")&&(v=C),s.contains("add_btn")&&(v=E),s.contains("search_item_img")&&(v=f,Ee(H,e,p,h,n,t,_,d,r,o));break;case $:(s.contains("search_item_img")||"A"===l&&-1!==u.indexOf("return nav.go"))&&(v=f,Ee(j,e,p,h,n,t,_,d,r,o));break;case X:gpeByClass("post",a,"div#results")&&(v=f)}if(v===m)return;De(e,p,h,v,n,t,_,d,r,o,de)}(e,t,n,r,o,s);case"bookmarks_groups":return void function(e,t,n,r,o,a){var s=a.classList,l=a.outerHTML,u=i(ge(a,(e=>{var t=e.getAttribute("data-id");return t||(t=0),[0,t]}),"_bookmark_page_item"),3),c=u[0],d=u[1],_=u[2];if(!c)return;var p=m;if(s.contains("group_link")||s.contains("bookmark_page_item__image")){var h=gpeByClass("_bookmark_page_item",a);if(!h)return;if(h.hasAttribute("data-clicked"))return;h.setAttribute("data-clicked",!0),p=f}(s.contains("ui_zoom")||s.contains("ui_zoom_icon"))&&(p=k);-1!==l.indexOf("Bookmarks.removeBookmark")&&(p=w);if(p===m)return;Ce(),p===f&&Ee(j,e,K,c,n,t,_,d,r,o);De(e,K,c,p,n,t,_,d,r,o,de)}(e,t,n,r,o,s);case"bookmarks_users":return void function(e,t,n,r,o,a){var s=a.classList,l=a.outerHTML,u=i(ge(a,(e=>{var t=e.getAttribute("data-id");return t||(t=0),[0,t]}),"_bookmark_page_item"),3),c=u[0],d=u[1],_=u[2];if(!c)return;var p=m;if(s.contains("mem_link")||s.contains("bookmark_page_item__image")){var h=gpeByClass("_bookmark_page_item",a);if(!h)return;if(h.hasAttribute("data-clicked"))return;h.setAttribute("data-clicked",!0),p=f}(s.contains("ui_zoom")||s.contains("ui_zoom_icon"))&&(p=k);-1!==l.indexOf("Bookmarks.removeBookmark")&&(p=w);if(p===m)return;Ce(),p===f&&Ee(H,e,K,c,n,t,_,d,r,o);De(e,K,c,p,n,t,_,d,r,o,de)}(e,t,n,r,o,s);case"search_audio":!function(e,t,n,r,o,a){var s=a.classList,l=a.tagName;if(gpeByClass("ap_layer_wrap",a))return;if(!gpeByClass("search_results",a))return;var u=i(ge(a,(e=>{var t=e.getAttribute("data-full-id");return t&&t.indexOf("_")?t.split("_"):[0,0]}),"_audio_row"),3),c=u[0],d=u[1],_=u[2];if(!c)return;var p=m;(s.contains("audio_row__cover_icon")||s.contains("audio_row__performer_title")||s.contains("audio_row__title")||s.contains("audio_row__title_inner")||s.contains("audio_row__title_inner_subtitle")||s.contains("audio_row__inner")||s.contains("audio_player__place")||s.contains("audio_row__action_next")||s.contains("audio_row__performers"))&&(p=T);s.contains("audio_row__action_add")&&(p=P);"A"===l&&(p=S);if(p===m)return;De(e,K,c,p,n,t,_,d,r,o,de)}(e,t,n,r,o,s);break;case"search_video":return void function(e,t,n,r,o,a){var s=a.classList,l=i(ge(a,(e=>{var t=e.getAttribute("data-id");return t&&t.indexOf("_")?t.split("_"):[0,0]}),"_video_item","#results ._video_item"),3),u=l[0],c=l[1],d=l[2];if(!u)return;var _=m;(s.contains("video_thumb_play")||s.contains("video_item_controls")||s.contains("video_thumb_label_item")||s.contains("video_thumb_label")||s.contains("video_item_title")||s.contains("mv_subtitle"))&&(_=T);(s.contains("icon_add")||s.contains("video_thumb_action_add")||s.contains("VideoCard__action--add"))&&(_=P);s.contains("icon_added")&&(_=x);s.contains("group_link")&&(_=B);s.contains("al_need_login")&&(_=S);s.contains("mem_link")&&(_=O);if(_===m)return;De(e,K,u,_,n,t,d,c,r,o,de)}(e,t,n,r,o,s);case"audio":return void function(e,t,n,r,o,a){var s=a.classList,l=a.tagName,u=a.parentElement?a.parentElement.classList:null,c=i(ge(a,((e,t)=>{var n="";switch(t){case 1:case 4:n=e.getAttribute("data-full-id");break;case 0:case 3:n=e.getAttribute("data-raw-id");break;case 2:n=e.getAttribute("data-title")}return n&&n.indexOf("_")?n.split("_"):n?[n,0]:[0,0]}),["_audio_pl_item","audio_block_small_item","_audio_row","_video_item"],"\n        ._audio_section__search ._audio_pl_item,\n        ._audio_section__search ._audio_row,\n        ._audio_section__search .audio_block_small_item,\n        ._audio_section__search .video_item,\n        ._audio_search_blocks ._audio_row,\n        ._audio_search_blocks ._video_item,\n        ._audio_search_blocks ._audio_pl_item,\n        ._audio_search_blocks .audio_block_small_item\n      ",{[te]:".CatalogBlock__search_global_albums ._audio_pl_item",[Z]:".CatalogBlock__search_owned_audios ._audio_row",[ne]:".CatalogBlock__search_global_audios ._audio_row",[ee]:".CatalogBlock__search_global_artists .audio_block_small_item",[J]:".CatalogBlock__search_global_clips .video_item",[Q]:'._audio_page_block__playlists_items[data-audio-context="search_owned_playlist"] ._audio_pl_item'}),5),d=c[1],_=c[2],p=c[3],h=c[4];if(!h)return;var f=m;s.contains("audio_row__action_more")||u&&u.contains("audio_row__actions")||(f=T);s.contains("audio_row__action_next")&&(f=T);p===Z&&s.contains("audio_row__action_recoms")&&(f=L);p===Z&&s.contains("audio_row__action_delete")&&(f=x);p===Z&&s.contains("audio_row__action_add")&&(f=P);p===ne&&s.contains("audio_row__action_add")&&(f=P);p===J&&s.contains("icon_add")&&(f=P);p===J&&s.contains("icon_added")&&(f=x);"A"===l&&(f=S);if(f===m)return;De(e,p,h,f,n,t,_,d,r,o,de)}(e,t,n,r,o,s);case h:return void function(e,t,n,r,o,a){var s=a.classList,l=a;s.contains("ts_contact")||(l=gpeByClass("ts_contact",a,"div#ts_cont_wrap"));var u=i(ge(l,(()=>[0,(l.id||"").replace("ts_contact","")]),"ts_contact","#ts_cont_wrap .ts_contact"),3),c=u[0],d=u[1],_=u[2];if(!c)return;var p=f,h=de;switch(l.getAttribute("hinttype")){case"h_friends":h=_e,s.contains("ts_contact_status")&&(p=b);break;case"h_mutual_friends":case"s_people":case"h_mail_peers":h=_e;break;case"h_vk_apps":case"h_apps":h="app";break;case"h_events":h=he;break;case"h_publics":h=me;break;case"h_visited":case"s_groups":h=pe}De(e,K,c,p,n,t,_,d,r,o,h)}(e,t,n,r,o,s);case"video":return void function(e,t,n,r,o,a){var s=a.classList,l=i(ge(a,((e,t)=>{var n="";switch(t){case 1:case 3:n=e.getAttribute("data-id")}return n&&n.indexOf("_")?n.split("_"):[0,0]}),["video_playlist_item","_video_item"],"\n        #video_layout_search .video_playlist_item,\n        #video_layout_search ._video_item\n      ",{[ae]:"#video_subtab_pane_search_albums .video_playlist_item",[ie]:"#video_subtab_pane_search_videos ._video_item",[se]:"#video_subtab_pane_search_promo_albums .video_playlist_item",[le]:"#video_subtab_pane_search_global_videos ._video_item"}),5),u=l[1],c=l[2],d=l[3],_=l[4];if(!_)return;var p=m;(s.contains("icon_add")||s.contains("video_thumb_action_add")||s.contains("VideoCard__action--add"))&&(p=P);s.contains("icon_added")&&(p=x);d===ie&&s.contains("video_restore_act")&&(p=P);d===ie&&s.contains("video_thumb_action_delete")&&(p=x);(s.contains("video_item_title")||s.contains("video_item_controls")||s.contains("video_thumb_label_item")||s.contains("video_thumb_play"))&&(p=T);s.contains("group_link")&&(p=B);s.contains("al_need_login")&&(p=S);s.contains("mem_link")&&(p=O);if(p===m)return;De(e,d,_,p,n,t,c,u,r,o,de)}(e,t,n,r,o,s);case"market":case"market_groups":return void function(e,t,n,r,o,a){var s=a.classList,l=fe;gpeByClass("market_row_line",a,".marketplace_content_search")&&(l=ve);var u=l===fe?"_market_row":"market_row_line",c=i(ge(a,(e=>[0,e.getAttribute("data-id")||0]),u,"#marketplace_content ."+u),3),d=c[0],_=c[1],p=c[2];if(!d)return;var h=m;switch(l){case ve:(s.contains("market_row_img")||s.contains("link"))&&(h=f),s.contains("market_favourite")&&!s.contains("selected")&&(h=y),s.contains("market_favourite")&&s.contains("selected")&&(h=w),s.contains("mem_link")&&(h=O),s.contains("group_link")&&(h=B);break;case fe:h=f,(s.contains("icon")||s.contains("fav"))&&(h=y),s.contains("market_row_user_link")&&(h=O)}if(h===m)return;De(e,K,d,h,n,t,p,_,r,o,de)}(e,t,n,r,o,s);case"market_v2":return void function(e,t,n,r,o,a){var s=a.classList,l=i(ge(a,(e=>[+e.getAttribute("data-owner-id"),+e.getAttribute("data-id")]),"MarketCatalogProduct__serpItem"),3),u=l[0],c=l[1],d=l[2];if(!u)return;var _=m;s.contains("MarketCatalogProduct__serpTap")&&(_=f);s.contains("MarketCatalogProduct__serpAddFav")&&(_=y);s.contains("MarketCatalogProduct__serpRemoveFav")&&(_=w);s.contains("MarketCatalogProduct__serpOwnerGroup")&&(_=B);s.contains("MarketCatalogProduct__serpOwnerUser")&&(_=O);if(_===m)return;De(e,K,u,_,n,t,d,c,r,o,de)}(e,t,n,r,o,s);case"messages":return void function(e,t,n,r,o,a){var s=i(ge(a,(e=>{var t=e.getAttribute("data-peer");return t||(t=0),[0,t]}),"_im_dialog","._im_page_dcontent ._im_dialog",{[re]:"._im_page_dcontent ._im_dialog:not(._im_search)",[oe]:"._im_page_dcontent ._im_dialog._im_search"}),5),l=s[1],u=s[2],c=s[3],d=s[4];if(!d)return;De(e,c,d,f,n,t,u,l,r,o,de)}(e,t,n,r,o,s);case"docs":return void function(e,t,n,r,o,a){var s=a.classList,l=a.outerHTML,u=i(ge(a,(e=>{var t=e.getAttribute("id");return t&&(t=t.replace("docs_file_","")),t&&t.indexOf("_")?t.split("_"):[0,0]}),"_docs_item","#docs_list ._docs_item, #docs_search_list ._docs_item",{[V]:"#docs_list ._docs_item",[z]:"#docs_search_list ._docs_item"}),5),c=u[1],d=u[2],_=u[3],p=u[4];if(!p)return;var h=m;_===z&&s.contains("docs_add_row")&&(h=P);_===V&&s.contains("docs_delete_row")&&(h=x);_===V&&-1!==l.indexOf("Docs.restoreItem")&&(h=P);_===V&&s.contains("docs_edit_row")&&(h=A);(s.contains("highlight")||s.contains("docs_item_thumb_img")||s.contains("docs_item_icon")||s.contains("docs_item_name"))&&(h=f);-1!==l.indexOf("Docs.tagSearch")&&(h=I);if(h===m)return;De(e,_,p,h,n,t,d,c,r,o,de)}(e,t,n,r,o,s);case"apps_list":case"apps":return void function(e,t,n,r,o,a){var s=i(ge(a,(e=>{var t=e.getAttribute("id");return[0,t=t?t.replace("app",""):0]}),"_apps_cat_row"),3),l=s[0],u=s[1],c=s[2];if(!l)return;var d=f;if(d===m)return;De(e,K,l,d,n,t,c,u,r,o,de)}(e,t,n,r,o,s);case"games_catalog":return void function(e,t,n,r,o,a){var s=a.classList,l=i(ge(a,(e=>[0,e.getAttribute("data-app-id")||0]),"GameCatalogSearchCard"),3),u=l[0],c=l[1],d=l[2];if(!u)return;var _=m;(s.contains("GameCatalogSearchCard__screenshotImg")||s.contains("GameCatalogSearchCard__run")||s.contains("GameCatalogSearchCard__avatar")||s.contains("GameCatalogSearchCard__name"))&&(_=T);if(_===m)return;De(e,K,u,_,n,t,d,c,r,o,de)}(e,t,n,r,o,s);case"photos":return void function(e,t,n,r,o,a){var s=i(ge(a,(()=>{var e=a.getAttribute("href")||"",t=(e=e.replace("/photo","")).split("_");return 2!==t.length?[0,0]:[t[0],t[1]]}),"page_post_thumb_wrap","._feed_rows .page_post_thumb_wrap"),3),l=s[0],u=s[1],c=s[2];if(!l)return;De(e,K,l,f,n,t,c,u,r,o,de)}(e,t,n,r,o,s);case d:case _:case"wall":case p:case"news":return void function(e,t,n,r,o,a){var s=a.classList,l=a.outerHTML;if(gpeByClass("replies",a,".post"))return;var u="feed_row",c="";e!==p&&e!==d&&e!==_||(u="post");e!==d&&e!==_||(c="#page_search_posts .post");var h=i(ge(a,(e=>{var t;if(e.classList.contains("post"))t=e;else{var n=e.getElementsByClassName("post");if(0===n.length)return[0,0];t=n[0]}if(!t)return[0,0];var r=(t.getAttribute("data-post-id")||"").split("_");return 2===r.length?r:[0,0]}),u,c),3),v=h[0],g=h[1],w=h[2];if(!v)return;var b=m;(gpeByClass("wall_text",a,".post")||s.contains("wall_text"))&&(b=f);(s.contains("author")||s.contains("post_img")||s.contains("copy_author")||s.contains("copy_post_img"))&&(b=M);(s.contains("rel_date")||s.contains("published_by_date"))&&(b=f);(gpeByClass("like",a,".post")||s.contains("like"))&&(b=N);(gpeByClass("comment",a,".post")||s.contains("comment"))&&(b=R);(gpeByClass("share",a,".post")||s.contains("share"))&&(b=F);s.contains("ui_actions_menu_item")&&-1!==l.indexOf("bookmarkPost")&&(b=y);s.contains("ui_actions_menu_item")&&-1!==l.indexOf("wall.markAsSpam")&&(b=W);if(b===m)return;De(e,K,v,b,n,t,w,g,r,o,de)}(e,t,n,r,o,s);case"manage":case"apps_manage":return void function(e,t,n,r,o,a){var s=a.classList,l=a.tagName,u=i(ge(a,(e=>{var t=e.getAttribute("id");return[0,t=t?t.replace("app",""):0]}),"_apps_settings_row"),3),c=u[0],d=u[1],_=u[2];if(!c)return;var p=m;s.contains("apps_settings_stats")&&(p=U);"A"!==l&&"img"!==l||(p=f);if(p===m)return;De(e,K,c,p,n,t,_,d,r,o,de)}(e,t,n,r,o,s)}}}function we(){var e={},t=a.vkLocalStorage.getItem(ue);if(!t)return e;try{e=JSON.parse(t)}catch(t){e={}}return e}function be(e){if("locked"===a.vkLocalStorage.getItem(ce))setTimeout((()=>be(e)),100);else{a.vkLocalStorage.setItem(ce,"locked");try{e()}catch(e){}a.vkLocalStorage.setItem(ce,"free")}}function Ee(e,t,n,r,o,i,s,l,u,c){be((()=>{var d=Math.round(+new Date/1e3),_=we();_[e]=_[e]||{};var p=Object.keys(_[e]);if(p.length>=100){var h=p[0],m=_[e][h][0];p.forEach((t=>{var n=_[e][t][0];n<m&&(m=n,h=t)})),delete _[e][h]}_[e][s]=[d,t,n,r,o,i,l,u,c],a.vkLocalStorage.setItem(ue,JSON.stringify(_))}))}function Ce(){be((()=>{var e=we();if(e){var t=Math.round(+new Date/1e3);Object.keys(e).forEach((n=>{var r=e[n];Object.keys(r).forEach((e=>{var n=r[e][0];t-n>180&&delete r[e]})),e[n]=r,0===Object.keys(r).length&&delete e[n]})),a.vkLocalStorage.setItem(ue,JSON.stringify(e))}}))}function De(e,t,n,r,a,i,s,l,u,c,d){var _=arguments.length>11&&void 0!==arguments[11]?arguments[11]:"";if(n){var p=-(new Date).getTimezoneOffset();(0,o.statlogsValueEvent)("search_position",e,d,r,t,n,"",l,s,i,p,a,u,c,_)}}function ke(e,t,n,r,a,i,s,l){var u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"",c=-(new Date).getTimezoneOffset();(0,o.statlogsValueEvent)("search_attempts",e,"",i,r,c,n,s,a,l,t,u)}function Pe(){for(var e in c)c.hasOwnProperty(e)&&xe(e)}function xe(e){if(c[e]){var t=c[e];removeEvent(window,"click",t),delete c[e]}}function Te(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"0",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"0",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:K,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"";n=n?1:0,ke(e,l,o=o&&"0"!==o?o:Se(),r,i,n,a,s,u),c[e]&&xe(e);var d=ye.pbind(e,r,o,a,s);c[e]=d,addEvent(window,"click",d,!1,!1,!0),cur.destroy||(cur.destroy=[]),cur.destroy.some((e=>e===Pe))||cur.destroy.push(Pe)}function Se(){return(0,r.rand)(-9223372035,9223372035).toFixed(0).concat((0,r.rand)(0,999999999).toFixed(0))}},967:(e,t,n)=>{"use strict";n.d(t,{updateSTL:()=>a});n(5456),n(1229),n(4426),n(7685),n(7663);var r=n(4914),o=n(2699);n(6886);function a(){var e=window.innerWidth,t=document.documentElement.clientWidth,n=Math.max((0,o.intval)(e),(0,o.intval)(t));(0,r.toggleClass)(bodyNode,"no_stl",n<vk.width+280),(0,r.toggleClass)(bodyNode,"no_sett",n<vk.width+62)}},6239:(e,t,n)=>{"use strict";n.d(t,{showStory:()=>l,showNarrative:()=>u});var r=n(1563),o=(n(1260),n(6886)),a=n(1229),i=n(4914),s=!1;function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(cur.storiesNotSupported)return(0,r.showFastBox)((0,o.getLang)("global_error"),(0,o.getLang)("stories_bad_browser"));clearTimeout(s),s=setTimeout((function(){bodyNode.appendChild((0,i.ce)("div",{id:"stories_loader",innerHTML:(0,a.getProgressHtml)("stories_loader_pr","pr_baw pr_medium")+'<div class="back"></div>'}))}),1e3);var l=[jsc("web/stories.js"),"stories.css",jsc("web/emoji.js"),"videoview.js","videoplayer.js","videoplayer.css","hls.min.js"];stManager.add(l,(function(){clearTimeout(s),(0,i.re)("stories_loader"),window.Stories.show(e,t,n)}))}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=`narrative${t}`,i=`${e}${n=n?`_${n}`:""}&${a}/${r=r||`narrative${e}_${t}`}`;l(i,o)}},9016:(e,t,n)=>{"use strict";n.d(t,{showTooltip:()=>i,showHint:()=>s});var r=n(4914),o=n(7685),a=n(2699);function i(e,t){(vk.loaded||t.noload)&&e&&(e.temphide||(e.temphide=function(){e.showing=!1},(0,o.addEvent)(e,"mouseout",e.temphide)),e.showing=!0,"loadingstat"!==e.tt&&(e.tt||(e.tt="loadingstat"),cur.cancelTooltip=!1,t.stat&&stManager.add(t.stat),stManager.add([jsc("web/tooltips.js"),"tooltips.css"],(function(){"loadingstat"===e.tt&&(e.tt=!1),e.showing&&!cur.cancelTooltip&&(!function(e){e.temphide&&((0,o.removeEvent)(e,"mouseout",e.temphide),(0,r.removeAttr)(e,"temphide"),(0,r.removeAttr)(e,"showing"))}(e),e.tt&&e.tt.el&&!t.force||(tooltips.create(e,t),t.onCreate&&t.onCreate()),tooltips.show(e,t))}))))}function s(e,t){t=t||{};i(e=(0,r.ge)(e),(0,a.extend)({text:function(){return e.getAttribute("data-title")},dir:"auto",width:300,shift:[22,8]},t))}},7806:(e,t,n)=>{"use strict";n.d(t,{topHeaderClose:()=>r,topHeaderClearClose:()=>o});n(522),n(6108),n(6253),n(1181),n(9665),n(5767),n(9357),n(1876),n(1466),n(3946),n(4914),n(7685),n(2699),n(4624),n(6886),n(7851),n(9847);function r(e){window.headerDestroy&&window.headerDestroy(),window.headerDestroy=e}function o(){delete window.headerDestroy}},5456:(e,t,n)=>{"use strict";n.d(t,{notaBene:()=>d,updSideTopLink:()=>_,createButton:()=>p,lockButton:()=>h,unlockButton:()=>m,buttonLocked:()=>f,isButtonLocked:()=>v,disableButton:()=>g,sbWidth:()=>y,isChecked:()=>w,checkbox:()=>b,radioval:()=>E,radiobtn:()=>C,showProgress:()=>D,hideProgress:()=>k});var r=n(4914),o=n(7685),a=n(2699),i=n(7663),s=n(148),l=n(6566),u=n(6886),c=n(3078);function d(e,t,n){if(e=(0,r.ge)(e)){n||(0,r.elfocus)(e),void 0===(0,r.data)(e,"backstyle")&&(0,r.data)(e,"backstyle",e.style.backgroundColor||"");var o=(0,r.data)(e,"back")||(0,r.data)(e,"back",(0,r.getStyle)(e,"backgroundColor")),a={notice:"#FFFFE0",warning:"#FAEAEA"};(0,r.setStyle)(e,"backgroundColor",a[t]||t||a.warning),setTimeout((()=>(0,s.animate)(e,{backgroundColor:o},300,(function(){e.style.backgroundColor=(0,r.data)(e,"backstyle")}))),400)}}function _(e){if(window.scrollNode&&!l.browser.mobile&&window._tbLink){var t=(0,r.ge)("page_body");if(t){var n=(0,r.getXY)(t),o=(0,i.scrollGetY)(),a=bodyNode.scrollLeft,c=(0,r.ge)("side_bar"),d=(0,r.isVisible)(c);if(window._stlSideTop=Math.max((d?(0,r.getSize)(c)[1]:0)-o-(l.browser.mozilla?(0,r.getXY)(pageNode)[1]:0),n[1]),e||a!=__scrLeft){var _=(0,r.ge)("page_layout"),p=vk.rtl?_.offsetLeft+_.offsetWidth:0,h=vk.rtl?(window.lastWindowWidth||0)-p:_.offsetLeft;(0,r.setStyle)(_stlLeft,{width:Math.max(h-1,0)});var m=vk.rtl?n[0]+t.offsetWidth+5:h,f=vk.rtl?p-m:n[0]-5-m;(0,r.setStyle)(_stlSide,{left:m-a,width:Math.max(f,0)}),__scrLeft=a}(0,r.setStyle)(_stlSide,{top:_stlSideTop,height:Math.max((window.lastWindowHeight||0)-_stlSideTop,0)}),__adsUpdate();var v=200,g=_tbLink.loc||_stlWas||o>v,y=o>250&&cur._regBar,w=0,b=!1;if(g){1!==_stlShown&&((0,r.show)(_stlLeft,_stlSide),(0,r.addClass)(_stlLeft,"stl_active"),(0,r.addClass)(_stlSide,"stl_active"),_stlShown=1),_tbLink.loc&&cur._noUpLink&&(o=0),_stlWas&&o>500&&(_stlWas=0),o>v?(w=(o-v)/v,(_stlWasSet||_stlBack)&&(_stlWasSet=_stlBack=0,b=1,(0,r.val)(_stlText,(0,u.getLang)("global_to_top")),(0,r.removeClass)(_stlText,"down"),(0,r.removeClass)(_stlText,"back"))):(w=(v-o)/v,_stlWas?_stlWasSet||(_stlWasSet=1,b=0,(0,r.val)(_stlText,""),(0,r.addClass)(_stlText,"down"),_stlBack&&(_stlBack=0,(0,r.removeClass)(_stlText,"back"))):_tbLink.loc&&(_stlBack||(_stlBack=1,b=_tbLink.fast?1:0,(0,r.val)(_stlText,(0,u.getLang)("global_back")),(0,r.addClass)(_stlText,"back"),_stlWasSet&&(_stlWasSet=0,(0,r.removeClass)(_stlText,"down"))))),!1!==b&&(0,r.toggleClass)(_stlLeft,"over_fast",(0,r.hasClass)(_stlLeft,"over")&&b);var E={opacity:Math.min(Math.max(w,0),1)};vk.staticheader&&(E.top=-Math.min((0,r.getSize)("page_header_cont")[1],o)),(0,r.setStyle)(_stlLeft,E)}else 0!==_stlShown&&((0,r.hide)(_stlLeft,_stlSide),_stlShown=0);vk.id||(!_regBar&&y?(_regBar=1,(0,r.val)((0,r.ge)("reg_bar_content"),cur._regBar),(0,s.animate)((0,r.ge)("reg_bar"),{top:0,transition:s.Fx.Transitions.sineInOut},400),(0,s.animate)((0,r.ge)("stl_bg"),{paddingTop:60,transition:s.Fx.Transitions.sineInOut},400)):_regBar&&!y&&(_regBar=0,(0,s.animate)((0,r.ge)("reg_bar"),{top:-56,transition:s.Fx.Transitions.sineInOut},400),(0,s.animate)((0,r.ge)("stl_bg"),{paddingTop:13,transition:s.Fx.Transitions.sineInOut},400)))}}}function p(e,t){if((e=(0,r.ge)(e))&&!e.btnevents)if((0,r.hasClass)(e,"flat_button"))(0,a.isFunction)(t)&&(e.onclick=t.pbind(e));else{var n=e.parentNode;if((0,r.hasClass)(n,"button_blue")||(0,r.hasClass)(n,"button_gray"))(0,a.isFunction)(t)&&(e.onclick=t.pbind(e));else{var i=!1;(0,o.addEvent)(e,"click mousedown mouseover mouseout",(function(a){if(!(0,r.hasClass)(n,"locked"))switch(a.type){case"click":if(!i)return;return e.className="button_hover",t(e),(0,o.cancelEvent)(a);case"mousedown":e.className="button_down";break;case"mouseover":i=!0,e.className="button_hover";break;case"mouseout":e.className="button",i=!1}})),e.btnevents=!0}}}function h(e){var t=(0,r.ge)(e);if(t){if(c.FlatButton.isFlatButton(t))return c.FlatButton.lock(t);if(("button"===t.tagName.toLowerCase()||(0,r.hasClass)(t,"flat_button")||(0,r.hasClass)(t,"wr_header"))&&!v(t)){var n=(0,r.getSize)(t);(0,r.addClass)(t,"flat_btn_lock"),(0,r.data)(t,"inner",t.innerHTML),(0,r.setStyle)(t,{width:n[0],height:n[1]}),t.innerHTML="",D(t,"btn_lock")}}}function m(e){var t=(0,r.ge)(e);if(t)return c.FlatButton.isFlatButton(t)?c.FlatButton.unlock(t):void(v(t)&&(k(t),t.innerHTML=(0,r.data)(t,"inner"),(0,r.removeClass)(t,"flat_btn_lock"),(0,r.setStyle)(t,{width:null,height:null})))}function f(e){return v(e)}function v(e){var t=(0,r.ge)(e);if(t)return c.FlatButton.isFlatButton(t)?c.FlatButton.isLocked(t):(0,r.hasClass)(t,"flat_btn_lock")}function g(e,t){var n=(0,r.ge)(e);if(n&&"button"===n.tagName.toLowerCase()){if(c.FlatButton.isFlatButton(n))return c.FlatButton.setDisabled(n,t);if(t){if(!(0,r.isVisible)(n))return;n.parentNode.insertBefore((0,r.ce)("button",{innerHTML:n.innerHTML,className:n.className+" button_disabled"}),n),(0,r.hide)(n)}else{var o=(0,r.domPS)(n);o&&(0,r.hasClass)(o,"button_disabled")&&(0,r.re)(o),(0,r.show)(n)}}}function y(e){if(void 0===window._sbWidth||e){var t=(0,r.ce)("div",{innerHTML:'<div style="height: 75px;">1<br>1</div>'},{overflowY:"scroll",position:"absolute",width:"50px",height:"50px"});bodyNode.appendChild(t),window._sbWidth=Math.max(0,t.offsetWidth-t.firstChild.offsetWidth-1),bodyNode.removeChild(t)}return window._sbWidth}function w(e){return e=(0,r.ge)(e),(0,r.hasClass)(e,"on")?1:""}function b(e,t){var n=(0,r.ge)(e);if(n&&!(0,r.hasClass)(n,"disabled"))return void 0===t&&(t=!w(n)),(0,r.toggleClass)(n,"on",t),n.setAttribute("aria-checked",t?"true":"false"),!1}function E(e){return!!radioBtns[e]&&radioBtns[e].val}function C(e,t,n){if(radioBtns[n]&&!(0,r.hasClass)(e,"disabled"))return(0,a.each)(radioBtns[n].els,(function(){this&&(this==e?((0,r.addClass)(this,"on"),this.setAttribute("aria-checked","true"),this.setAttribute("tabindex","0")):((0,r.removeClass)(this,"on"),this.setAttribute&&(this.setAttribute("aria-checked","false"),this.setAttribute("tabindex","-1"))))})),radioBtns[n].val=t}function D(e,t,n,o){var a;if(e=(0,r.ge)(e))return(0,r.hasClass)(e,"pr")?a=e:(a=(0,r.se)((0,r.rs)(vk.pr_tpl,{id:t||"",cls:n||""})),o?(0,r.domInsertBefore)(a,e):e.appendChild(a)),setTimeout((function(){(0,r.setStyle)(a,{opacity:1})})),a}function k(e){e&&((0,r.hasClass)(e,"pr")?(0,r.setStyle)(e,{opacity:0}):(0,r.re)((0,r.geByClass1)("pr",e)))}},139:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{topError:()=>topError,showMsg:()=>showMsg,showGlobalPrg:()=>showGlobalPrg});var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6108),core_js_modules_es6_object_to_string__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6253),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9357),_dom__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4914),_shared_user_user_env__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6353),_shared_lib_js_logger__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1386),_shared_lib_sentry_config__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5124),_utils_common__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2699);function topMsg(e,t,n){if(n||(n="#D6E5F7"),e){clearTimeout(window.topMsgTimer);var r=(0,_dom__WEBPACK_IMPORTED_MODULE_3__.ge)("system_msg");r.style.backgroundColor=n,r.innerHTML=e,(0,_dom__WEBPACK_IMPORTED_MODULE_3__.show)(r),t&&(window.topMsgTimer=setTimeout(topMsg.pbind(!1),1e3*t))}else(0,_dom__WEBPACK_IMPORTED_MODULE_3__.hide)("system_msg")}function topError(text,opts){var prefix="VK error: ";opts||(opts={});var hasDummyStacktrace=!opts.stack;if(text.message){var error=text;text="<b>JavaScript error</b>"+((0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_4__.partConfigEnabled)("extended_client_logging")?": "+error.message:""),opts.stack=error.stack,error.stack&&__debugMode&&(text+="<br/>"+error.stack.replace(/\n/g,"<br/>"));try{console.error(prefix,error.message),console.log(error.stack)}catch(e){}}else try{console.error(prefix,text)}catch(e){}if(!opts.stack){hasDummyStacktrace=!0;try{eval("0 = 1")}catch(e){opts.stack=e.stack}}if(-1!=opts.dt&&topMsg(text,opts.dt,"#FFB4A3"),1!==opts.type&&!__dev&&!(0,_dom__WEBPACK_IMPORTED_MODULE_3__.ge)("debuglogwrap")){delete opts.dt;var breadcrumb={message:text,data:{msg:opts.msg||text,module:(window.cur||{}).module,id:vk.id,host:locHost,lang:vk.lang,loc:(window.nav||{}).strLoc,realloc:location.toString()}};(0,_shared_lib_js_logger__WEBPACK_IMPORTED_MODULE_5__.logError)(opts,{environment:_shared_lib_sentry_config__WEBPACK_IMPORTED_MODULE_6__.topErrorModuleName,breadcrumb:breadcrumb,hasDummyStacktrace:hasDummyStacktrace})}}function showMsg(e,t,n,r){var o="msg"+("msg"!==n?" "+n:"");r&&(o+=" msg_appear"),e=(0,_dom__WEBPACK_IMPORTED_MODULE_3__.ge)(e);var a=(0,_dom__WEBPACK_IMPORTED_MODULE_3__.geByClass1)(n,e),i=a||(0,_dom__WEBPACK_IMPORTED_MODULE_3__.domFC)(e),s=e.insertBefore((0,_dom__WEBPACK_IMPORTED_MODULE_3__.ce)("div",{className:o,innerHTML:'<div class="msg_text">'+t+"</div>"}),i);a&&(0,_dom__WEBPACK_IMPORTED_MODULE_3__.re)(a),setTimeout(_dom__WEBPACK_IMPORTED_MODULE_3__.removeClass.pbind(s,"msg_appear"),0)}function showGlobalPrg(e,t){var n=(0,_dom__WEBPACK_IMPORTED_MODULE_3__.getXY)(e),r=(0,_dom__WEBPACK_IMPORTED_MODULE_3__.getSize)(e),o=t||{},a=o.w,i=void 0===a?32:a,s=o.h,l=void 0===s?13:s,u=(0,_dom__WEBPACK_IMPORTED_MODULE_3__.ge)("global_prg");u.className=o.cls||"progress",(0,_dom__WEBPACK_IMPORTED_MODULE_3__.setStyle)(u,{left:n[0]+Math.floor((r[0]-i)/2)+(0,_utils_common__WEBPACK_IMPORTED_MODULE_7__.intval)(o.shift?o.shift[0]:0),top:n[1]+Math.floor((r[1]-l)/2)+(0,_utils_common__WEBPACK_IMPORTED_MODULE_7__.intval)(o.shift?o.shift[1]:0),width:i,height:l,display:"block","z-index":o.zIndex?o.zIndex:null}),o.hide&&(e.style.visibility="hidden")}},7851:(e,t,n)=>{"use strict";n.d(t,{parseJSON:()=>c.parseJSON,throttle:()=>d,updateMoney:()=>_,onlinePlatformClass:()=>p,handleScroll:()=>h,showErrorBox:()=>m});n(1876),n(1466),n(6108),n(1181),n(6253);var r=n(2699),o=(n(7813),n(7999),n(1563)),a=n(4914),i=n(6886),s=n(6566),l=n(3439),u=(n(7685),n(7663)),c=(n(1257),n(453));function d(e,t){var n;return function(){n||(e.apply(this,arguments),n=setTimeout((function(){n=!1}),t))}}function _(e,t){if(void 0!==e&&!1!==e){var n="";!0===t?(vk.balanceEx=e,n="_ex"):vk.balance=e;var o=(0,a.geByClass)("votes_balance_nom"+n);(0,r.each)(o,((t,n)=>n.innerHTML=`${e} ${(0,i.getLang)("votes_flex",e)}`));var s=e*(vk.vcost||7),l=(0,a.geByClass)("money_balance_nom"+n);(0,r.each)(l,((e,t)=>t.innerHTML=(0,i.getLang)("global_money_amount_rub",s,!0))),void 0!==t&&!1!==t&&!0!==t&&_(t,!0),window.GamesCatalog&&window.GamesCatalog.updateMoney(e)}}function p(e){var t=" _online";return e&&(t+=" online"),s.mobPlatforms[e]&&(t+=" mobile"),(0,l.updateOnlineText)(),t}function h(e){e=e.split(",");var t=cur.named||{},n=e[0]&&(t[e[0]]||(0,a.ge)(e[0]))||!1,r=e[1]&&(t[e[1]]||(0,a.ge)(e[1]))||!1;if(!n&&!r){if(!(n=document.getElementsByName(e[0])[0]))return;n=n.nextSibling}var o=(0,a.ge)("page_header_wrap")||(0,a.ge)("dev_top_nav_wrap");setTimeout((function(){n&&(0,u.scrollToY)((0,a.getXY)(n)[1]-(o?(0,a.getSize)(o)[1]:0),0),r&&(0,a.elfocus)(r)}),300)}function m(e,t){return void 0===t&&(t=1e4),setTimeout((0,o.showFastBox)({title:(0,i.getLang)("global_error")},e).hide,t)}},2699:(e,t,n)=>{"use strict";n.d(t,{rand:()=>a.rand,replaceEntities:()=>a.replaceEntities,isArray:()=>a.isArray,isEmpty:()=>a.isEmpty,isFunction:()=>a.isFunction,isObject:()=>a.isObject,isString:()=>a.isString,irand:()=>a.irand,escapeRE:()=>a.escapeRE,each:()=>a.each,vkNow:()=>a.vkNow,vkImage:()=>s,trim:()=>l,stripHTML:()=>u,intval:()=>c,floatval:()=>d,positive:()=>_,isNumeric:()=>p,clean:()=>h,indexOf:()=>m,inArray:()=>f,clone:()=>v,extend:()=>g,formatCount:()=>y});n(522),n(1181),n(9665),n(5767),n(6108),n(6253),n(1466),n(9357);var r=n(4914),o=n(6886),a=(n(6566),n(7999));function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=()=>window.Image?new Image:(0,r.ce)("img"),l=e=>(e||"").replace(/^\s+|\s+$/g,""),u=e=>e?e.replace(/<(?:.|\n|\r|\u2028|\u2029)*?>/g,""):"";function c(e){return!0===e?1:parseInt(e)||0}function d(e){return!0===e?1:parseFloat(e)||0}function _(e){return(e=c(e))<0?0:e}function p(e){return!isNaN(e)}function h(e){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):""}function m(e,t,n){for(var r=n||0,o=(e||[]).length;r<o;r++)if(e[r]==t)return r;return-1}function f(e,t){return-1!==m(t,e)}function v(e,t){var n=(0,a.isObject)(e)||void 0===e.length?{}:[];for(var r in e)(!/webkit/i.test(_ua)||"layerX"!=r&&"layerY"!=r&&"webkitMovementX"!=r&&"webkitMovementY"!=r)&&(t&&"object"==typeof e[r]&&"prototype"!==r&&null!==e[r]?n[r]=v(e[r]):n[r]=e[r]);return n}function g(){var e=arguments,t=e.length,n=e[0]||{},r=1,o=!1;for("boolean"==typeof n&&(o=n,n=e[1]||{},r=2),"object"==typeof n||(0,a.isFunction)(n)||(n={});r<t;r++){var i=e[r];if(null!=i)for(var s in i)if(i.hasOwnProperty(s)){var l=n[s],u=i[s];n!==u&&(o&&u&&"object"==typeof u&&!u.nodeType?n[s]=g(o,l||(null!=u.length?[]:{}),u):void 0!==u&&(n[s]=u))}}return n}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.kLimit||1e3,r=t.mLimit||1e6;return e>=r&&!t.noCheck?y(e=(e=c(e/1e5))>1e3?c(e/10):e/10,g(t,{noCheck:!0}),!0)+"M":e>=n&&!t.noCheck?y(e=(e=c(e/100))>100?c(e/10):e/10,g(t,{noCheck:!0}),!0)+"K":(0,o.langNumeric)(e,"%s",!0).replace(/,/g,".")}var w,b,E,C=(E=null,[function(e){return E||(E=(0,r.se)("<span> </span>")),E.innerText=e,E.innerHTML},function(e){return E||(E=(0,r.se)("<span> </span>")),E.innerHTML=e.replace(/<br\s*\/?>/gim,"\n"),E.innerText}]),D=(b=2,function(e){if(Array.isArray(e))return e}(w=C)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}}(w,b)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(w,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());D[0],D[1]},233:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{showVideo:()=>showVideo});var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5115),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1876),_videoplayer_lib_player_states__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2214),_dom_events__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7685),_utils_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2699),_dom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4914),_lang__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6886),_message_box__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1563),_layout_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1229),_web_unauthorized_unauthorized__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(4854);function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function showVideo(e,t,n,r){if(cur.viewAsBox)return cur.viewAsBox();if(!(0,_dom_events__WEBPACK_IMPORTED_MODULE_2__.checkEvent)(r)){if(n||(n={}),(0,_web_unauthorized_unauthorized__WEBPACK_IMPORTED_MODULE_8__.isUnauthorizedMediaLayerBoxAvailable)()&&(r||n.openInPopup)&&!n.forceUnauth)return window.Unauthorized.showMoreBox(null,0,_web_unauthorized_unauthorized__WEBPACK_IMPORTED_MODULE_8__.UnauthorizedSourceType.VIDEO,(()=>{showVideo(e,t,_extends({},n,{openInPopup:!1,forceUnauth:!0}),r)})),!1;if(n.forceUnauth=!0,window.mvcur&&mvcur.mvShown&&mvcur.minimized&&mvcur.videoRaw==e)return Videoview.unminimize(),!1;var o=nav.objLoc.claim,a=!(!n.addParams||!/^-?\d+_\d+$/.test(n.addParams.post_id))&&n.addParams.post_id;if(!n.playlistId&&a&&(/^public|groups|profile$/.test(cur.module)&&(0,_dom__WEBPACK_IMPORTED_MODULE_4__.hasClass)("post"+a,"own")?n.playlistId="wall_"+cur.oid:n.playlistId="post_"+n.addParams.post_id),n.playlistId&&(n.addParams=(0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.extend)(n.addParams,{playlist_id:n.playlistId}),!window.VideoPlaylist||!VideoPlaylist.getList(n.playlistId)))if(/^wall_/.test(n.playlistId)){var i=cur.wallVideos&&cur.wallVideos[n.playlistId];n.addParams.load_playlist=i&&i.list.length>=50?0:1}else n.addParams.load_playlist=!/^(?:post_)?-?\d+_-?\d+$/.test(n.playlistId)||cur.pageVideosList&&cur.pageVideosList[n.playlistId]?0:1;!n.expandPlayer&&cur.videoInlinePlayer&&cur.videoInlinePlayer.getVideoId()==e&&cur.videoInlinePlayer.canExpand()&&(n.expandPlayer=cur.videoInlinePlayer),n.expandPlayer&&(n.addParams=(0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.extend)(n.addParams,{expand_player:1}),delete cur.videoInlinePlayer);var s=new CallHub((function(){n.hidden?n.hidden(s.data,n,t,e):Videoview.showVideo.apply(Videoview,s.data)}),2);stManager.add(["videoview.js","videoview.css","page.js","page.css"],(()=>{s.failed||(n.hidden||(revertLastInlineVideo(),Videoview.show(r,e,t,n)),s.done())})),(0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.extend)(n,{onDone:function(){var t=Array.prototype.slice.call(arguments);t.unshift(e),s.data=t,s.done()},onFail:function(t){if(s.failed=1,!n.hidden){if(window.mvcur&&mvcur.mvShown)Videoview.hide();else{var r=(0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.clone)(nav.objLoc);r.z==="video"+e&&delete r.z,r[0]==="video"+e&&(r[0]="videos"+e.split("_")[0]),nav.setLoc(r)}(0,_message_box__WEBPACK_IMPORTED_MODULE_6__.showFastBox)((0,_lang__WEBPACK_IMPORTED_MODULE_5__.getLang)("global_error"),t||(0,_lang__WEBPACK_IMPORTED_MODULE_5__.getLang)("global_error_occured")),s.done()}return!0},cache:"status"!==t});var l=n.params;return l||(l={act:"show",video:e,list:t,autoplay:n.autoplay?1:0,ad_video:n.ad_video,module:n.module||window.Videoview&&window.Videoview.getVideoModule()||"",svids:n.svids}),cur.is_showcase&&!l.context&&cur.ref_context&&(l.context=cur.ref_context),n.addParams&&(l=(0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.extend)(l,n.addParams)),(0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.trim)(l.module)||(0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.extend)(l,{_nol:JSON.stringify(nav.objLoc)}),o&&(l.claim=o),ajax.post(`al_video.php?act=${l.act}`,l,n),(0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.vkImage)().src=locProtocol+"//vk.com/rtrg?r=w*Z1Flwi3QdbWaoLMc7zOA*7Cr4Nrtojr9otHjsjIhsb2CVqRWalgbvxZw3MzxZa6be3Siu2XY3gvK5fysYtWLWgNwHMpjRTupSGZrcGRNlj7fduqq9*t7ij6CX4aMcBTD5be8mIXJsbTsvP8Zl2RZEd76a4FTuCOFqzMxqGtFc-",!1}}function showInlineVideo(videoId,listId,options,ev,thumb){if((0,_dom_events__WEBPACK_IMPORTED_MODULE_2__.checkEvent)(ev))return!0;if(options=options||{},window.mvcur&&mvcur.mvShown||options.hasRestriction)return showVideo(videoId,listId,options,ev);if((0,_dom__WEBPACK_IMPORTED_MODULE_4__.attr)(thumb,"data-loading"))return!1;var h=thumb.clientHeight,w=thumb.clientWidth,btn=(0,_dom__WEBPACK_IMPORTED_MODULE_4__.domByClass)(thumb,"page_post_video_play_inline"),onLoaded=options.onLoaded;onLoaded&&delete options.onLoaded;var params={video:videoId,list:listId,autoplay:options.autoplay,module:options.module};return(0,_dom__WEBPACK_IMPORTED_MODULE_4__.domData)(thumb,"stretch-vertical")&&(params.stretch_vertical=1),(0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.extend)(params,options.addParams),showProgress(),loadInlineVideo(params,(function(e,t){hideProgress(),e?onDone.apply(null,t):onFail.apply(null,t)}),options.cache),cur.videoInlinePlayerDestroyerSet||(cur.destroy.push(_destroyInlineVideoPlayer),cur.videoInlinePlayerDestroyerSet=1),(0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.vkImage)().src="//vk.com/rtrg?r=w*Z1Flwi3QdbWaoLMc7zOA*7Cr4Nrtojr9otHjsjIhsb2CVqRWalgbvxZw3MzxZa6be3Siu2XY3gvK5fysYtWLWgNwHMpjRTupSGZrcGRNlj7fduqq9*t7ij6CX4aMcBTD5be8mIXJsbTsvP8Zl2RZEd76a4FTuCOFqzMxqGtFc-",!1;function onDone(title,html,js,opts){revertLastInlineVideo(),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.hide)(thumb);var videoWrap=(0,_dom__WEBPACK_IMPORTED_MODULE_4__.ce)("div",{innerHTML:html,className:"inline_video_wrap"},{width:w,height:h});if(-195297477!==opts.mvData.authorId&&(window._videoLastInlined=[videoWrap,thumb]),thumb.parentNode.appendChild(videoWrap),cur.mvOpts=!(!opts||!opts.mvData)&&opts.mvData,opts.player){var container=(0,_dom__WEBPACK_IMPORTED_MODULE_4__.domByClass)(videoWrap,"video_box_wrap");(0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.isFunction)(onLoaded)&&(opts.player.params[0].onPlayerLoaded=onLoaded);var linkAttr=(0,_dom__WEBPACK_IMPORTED_MODULE_4__.attr)(thumb,"data-link-attr");linkAttr&&(opts.player.params[0].link_attr=linkAttr),VideoInitializer.initPlayer(container,opts.player.type,opts.player.params)}try{eval("(function () {"+js+"})();")}catch(e){}if(!params.from_autoplay){var notifier=window.Notifier;notifier&&setTimeout((()=>notifier.lcSend("video_start")),0);var audioPlayer=window.ap;audioPlayer&&audioPlayer.isPlaying()&&(audioPlayer.pause(),audioPlayer.pausedByVideo=(0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.vkNow)())}ev&&domClosest("bookmarks_row_type_video",ev.target)&&statlogsValueEvent("bookmarks_product_analytics",{item_type:"video",item_owner_id:cur.mvOpts.oid,item_id:cur.mvOpts.vid,time:window.getServerTime()}),thumb.setAttribute("data-playing",1)}function onFail(e){params.from_autoplay||(0,_message_box__WEBPACK_IMPORTED_MODULE_6__.showFastBox)((0,_lang__WEBPACK_IMPORTED_MODULE_5__.getLang)("global_error"),e||(0,_lang__WEBPACK_IMPORTED_MODULE_5__.getLang)("global_error_occured"))}function showProgress(){thumb.setAttribute("data-loading",1),options.no_progress||((0,_dom__WEBPACK_IMPORTED_MODULE_4__.addClass)(btn,"page_post_video_play_inline_loading"),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.val)(btn,(0,_layout_utils__WEBPACK_IMPORTED_MODULE_7__.getProgressHtml)()))}function hideProgress(){thumb.removeAttribute("data-loading"),options.no_progress||((0,_dom__WEBPACK_IMPORTED_MODULE_4__.removeClass)(btn,"page_post_video_play_inline_loading"),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.val)(btn,""))}}function loadInlineVideo(e,t,n){var r=(0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.extend)({autoplay:0,module:cur.module},e);(0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.trim)(r.module)||(r._nol=JSON.stringify(nav.objLoc));var o=["videoview.js","videoview.css"];function a(e,n){(0,_utils_common__WEBPACK_IMPORTED_MODULE_3__.isFunction)(t)&&t(e,n)}r.from_autoplay&&o.push("videoplayer.js","videoplayer.css","hls.min.js"),ajax.post("al_video.php?act=show_inline",r,{onDone:function(){var e=[].slice.call(arguments);a(!0,e)},onFail:function(){var e=[].slice.call(arguments);return a(!1,e),!0},stat:o,local:1,cache:n})}function revertLastInlineVideo(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(window._videoLastInlined){var n,r=!1,o=(0,_dom__WEBPACK_IMPORTED_MODULE_4__.ge)(e);if(o&&(n=window._videoLastInlined[0])){for(;n=n.parentNode;)if(n==o){r=!0;break}if(!r)return}(0,_dom__WEBPACK_IMPORTED_MODULE_4__.re)(window._videoLastInlined[0]),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.show)(window._videoLastInlined[1]),window._videoLastInlined[1].removeAttribute("data-playing"),window._videoLastInlined=!1,_destroyInlineVideoPlayer(t),delete cur.mvOpts}}function _destroyInlineVideoPlayer(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];cur.videoInlinePlayer&&(cur.videoInlinePlayer.destroy(e),delete cur.videoInlinePlayer)}function pauseLastInlineVideo(){if(window._videoLastInlined){var e=cur.videoInlinePlayer||(0,_dom__WEBPACK_IMPORTED_MODULE_4__.ge)("video_yt")&&window.VideoYoutube;if(e){if(e.isActiveLive&&e.isActiveLive())return;cur.mvOpts.lastPlayerState=e.getState(),e.togglePlay(!1)}}}function playLastInlineVideo(){if(window._videoLastInlined&&cur.mvOpts&&cur.mvOpts.lastPlayerState===_videoplayer_lib_player_states__WEBPACK_IMPORTED_MODULE_9__.PLAYING){var e=cur.videoInlinePlayer||(0,_dom__WEBPACK_IMPORTED_MODULE_4__.ge)("video_yt")&&window.VideoYoutube;e&&e.togglePlay(!0)}}function checkMp4(e){e(!0)}var VideoConstants={VIDEO_ITEM_INDEX_OWNER_ID:0,VIDEO_ITEM_INDEX_ID:1,VIDEO_ITEM_INDEX_THUMB:2,VIDEO_ITEM_INDEX_TITLE:3,VIDEO_ITEM_INDEX_FLAGS:4,VIDEO_ITEM_INDEX_DURATION:5,VIDEO_ITEM_INDEX_HASH:6,VIDEO_ITEM_INDEX_MODER_ACTS:7,VIDEO_ITEM_INDEX_OWNER:8,VIDEO_ITEM_INDEX_DATE:9,VIDEO_ITEM_INDEX_VIEWS:10,VIDEO_ITEM_INDEX_PLATFORM:11,VIDEO_ITEM_INDEX_BLOCKED:12,VIDEO_ITEM_INDEX_MUSIC_VIDEO_META:13,VIDEO_ITEM_INDEX_ARIA:14,VIDEO_ITEM_INDEX_RESTRICTION_BLOCK:15,VIDEO_ITEM_INDEX_RESTRICTION_CLASSES:16,VIDEO_ITEM_INDEX_ADMIN_INFO:17,VIDEO_ITEM_INDEX_FILE_URL:18,VIDEO_ITEM_INDEX_FILE_TYPE:19,VIDEO_ITEM_INDEX_LINK:20,VIDEO_ITEM_INDEX_TRAILER:21,VIDEO_ITEM_INDEX_VIEWED_DURATION:22,VIDEO_ITEM_INDEX_VIEWED_DAY:23,VIDEO_ITEM_FLAG_EXTERNAL:1,VIDEO_ITEM_FLAG_ACTIVE_LIVE:2,VIDEO_ITEM_FLAG_CAN_EDIT:64,VIDEO_ITEM_FLAG_CAN_DELETE:128,VIDEO_ITEM_FLAG_CAN_ADD:256,VIDEO_ITEM_FLAG_PRIVATE:512,VIDEO_ITEM_FLAG_NO_AUTOPLAY:1024,VIDEO_ITEM_FLAG_ADDED:2048,VIDEO_ITEM_FLAG_SKIP_THUMB_LOAD:4096,VIDEO_ITEM_FLAG_NEED_SIGN_IN:8192,VIDEO_ITEM_FLAG_HD:16384,VIDEO_ITEM_FLAG_DELETED:32768,VIDEO_ITEM_FLAG_CAN_DOWNLOAD:65536,VIDEO_ITEM_FLAG_CAN_DELETE_FROM_HISTORY:1<<17,VIDEO_ITEM_FLAG_PRIVATE_BY_LINK:1<<18,VIDEO_ITEM_FLAG_LIVE:1<<19,VIDEO_ITEM_FLAG_PRIVATE_NOT_PUBLISHED:1<<20};function initVideo(){window._videoLastInlined=!1}},2237:(e,t,n)=>{"use strict";n.d(t,{Scroll:()=>l});n(5767),n(1181),n(6253);var r=n(7294),o=n(6953),a=n(7399),i=n(5697);function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=e=>{var t=e.children,n=s(e,["children"]);return r.createElement(o.ScrollContext.Provider,{value:{createScroll:a.createScroll}},r.createElement(o.Scroll,n,t))};l.propTypes={className:i.string,children:i.oneOfType([i.element,i.string]).isRequired,isNative:i.bool,isShadows:i.bool,neverHide:i.bool,onScroll:i.func},l.defaultProps={isNative:!1,isShadows:!1,neverHide:!1,onScroll:null}},2232:(e,t,n)=>{"use strict";n.d(t,{Likes:()=>w});n(1181),n(6253),n(6409),n(9357),n(5115),n(1466);var r=n(4914),o=n(7685),a=n(9016),i=n(2699),s=n(148),l=n(9433),u=n(7999),c=n(1563),d=n(6886),_=n(3767),p=n(8155),h=n(1700),m=n(8012),f=n(3393),v=n(3845),g=n(8354);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var w={toggle(e,t,n,a){if((0,o.cancelEvent)(t),(0,u.isObject)(window.cur)&&(0,u.isFunction)(cur.viewAsBox))return cur.viewAsBox();if(vk.widget&&!vk.id)return window.Widgets.oauth();var i=(0,r.hasClass)(e,"active");(0,r.addClass)(e,"animate"),this.clientUpdate(n,p.LikeButtonTypes.like,i?-1:1,!i);var s=()=>{(0,r.toggleClass)(e,"active",i),this.clientUpdate(n,p.LikeButtonTypes.like,i?1:-1,i)};window.ajax.post("like.php",{act:i?"a_do_unlike":"a_do_like",object:n,hash:a,list:cur.pvListId,wall:2,from:this._getReference(n),from_widget:vk.widget?1:0},{onDone:t=>{if(t.unauth_action_box)return s(),void v.UnauthActionBox.show(t.unauth_action_box);this.update(n,t);var r=n.match(/^(wall|market)(.*)/);r&&cur.onLike&&cur.onLike(e,r[1],r[2],i)},onFail:()=>(s(),!1)}),(0,u.intval)((0,r.domData)(e,"count"))>0?w.showLikes(e,n,{fast:!0}):e.tt&&e.tt.destroy&&e.tt.destroy()},_getReference:e=>cur.pvShown?"photo_viewer":e===cur.wallLayer?"wkview":window.mvcur&&window.mvcur.mvShown?"videoview":cur.wallType?"feed"===cur.wallType?"news"===cur.section?`feed_${cur.subsection?cur.subsection:cur.section}`:"recommended"===cur.section?"feed_recommended"+("recent"!==cur.subsection?"_"+cur.subsection:""):(0,i.inArray)(cur.section,["friends","groups","videos","photos"])?"feed_"+(cur.subsection?"_"+cur.subsection:""):`feed_${cur.section}`:"top"===cur.wallType?"wall_top":"wall_"+(cur.onepost?"one":(cur.wallType||"").indexOf("full_")?"page":"full"):cur.module,share(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(vk.widget&&!vk.id)return window.Widgets.oauth();if((0,u.isObject)(window.cur)&&(0,u.isFunction)(cur.viewAsBox))return cur.viewAsBox();var n=(0,_.parseLikeObjectId)(e),r=n.objectType,o=n.objectId;(vk.widget?window.showBox:c.showBox)("like.php",y({act:"publish_box",object:e,from_widget:vk.widget?1:0},t),{onDone:(e,t)=>{t.unauth_action_box&&(e.hide(),v.UnauthActionBox.show(t.unauth_action_box))},stat:["page.js","page.css","wide_dd.js","wide_dd.css",window.jsc("web/sharebox.js")]}),"wall"===r&&window.Wall&&window.Wall.triggerAdPostStat(o,"share_post"),cur.RpcMethods&&(cur.RpcMethods.likeFullUpdate=t=>w.update(e,window.cleanObj(t)))},clientUpdate(e,t,n,o){var a=this._getButtonsByType(e,t);if(a.length){var i=(0,u.intval)((0,r.domData)(a[0],"count"))+n;this._updateDom(e,t,i,o),this.updateExternalIndex(e,{type:t,count:i,isActive:o})}},update(e,t){if(!isNaN(parseInt(t.like_num))){var n=(0,u.isUndefined)(t.like_my)?void 0:!!(0,u.intval)(t.like_my);this._updateDom(e,p.LikeButtonTypes.like,t.like_num,n,t.like_title),this.updateExternalIndex(e,{type:p.LikeButtonTypes.like,count:t.like_num,isActive:n})}if(!isNaN(parseInt(t.share_num))){var r=(0,u.isUndefined)(t.share_my)?void 0:!!(0,u.intval)(t.share_my);this._updateDom(e,p.LikeButtonTypes.share,t.share_num,r,t.share_title),this.updateExternalIndex(e,{type:p.LikeButtonTypes.share,count:t.share_num})}if((0,i.isNumeric)(t.views_num)&&this._updateDom(e,p.LikeButtonTypes.views,t.views_num,void 0,t.views_title),(0,i.isNumeric)(t.comment_num)&&this._updateDom(e,p.LikeButtonTypes.comment,t.comment_num),t[h.REACTIONS_COUNTS_RESPONSE_FIELD]){var o=!!t.isQueueUpdate;(0,f.triggerReactionsUpdate)(e,t[h.REACTIONS_COUNTS_RESPONSE_FIELD],void 0,{isQueueUpdate:o,isUserAction:!1,previewVisibility:m.previewVisibilityUseCurrent})}},updateComments(e,t){this.update(e,{comment_num:t})},_updateDom(e,t,n,o,a){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},c=(null==l?void 0:l.els)?null==l?void 0:l.els:this._getButtonsByType(e,t),h=t===p.LikeButtonTypes.views;if(null==c?void 0:c.length){var m="";h?m=n:n>0&&(m=vk.widget?(0,i.formatCount)(n):(0,d.langNumeric)(n,"%s",!0)),h||(n=(0,u.intval)(n));for(var f=0;f<c.length;f++){var v=c[f];if(!(0,r.hasClass)(v,"no_counter")){var y=h?c[f]:(0,_.getElementLikeButtonCount)(c[f]);(0,s.animateCount)(y,m,{str:"auto",noWrapWidth:!h,noSpaceIfEmpty:!0}),(0,r.toggleClass)(v,"empty",n<=0),"boolean"==typeof o&&(0,r.toggleClass)(v,"active",o),(0,r.attr)(c[f],"data-count",n),(0,g.updateAriaLabelCounter)(v,n,t),h&&(0,r.attr)(c[f],"title",a||"");var w=c[f].tt;if(w){var b=(0,r.domByClass)(w.container,"_content"),E=(0,r.domByClass)(w.container,"_value"),C=(0,r.domByClass)(w.container,"_title"),D=(0,u.intval)((0,r.val)(E));(0,r.val)(E,n),a&&(0,r.val)(C,a),(0,u.isObject)(w)&&(w.likeInvalidated=!0),(D!==n&&D<7||!1===a)&&(t===p.LikeButtonTypes.like?v.needReinitLikesTT=!0:t===p.LikeButtonTypes.share&&(v.needReinitShareTT=!0)),t===p.LikeButtonTypes.like&&(0,r.toggleClass)(b,"me_hidden",!o),!1===a&&w.destroy&&w.destroy()}}}}},_getButtonsByType:(e,t)=>(0,r.domQuery)(`._like_${e} ._${t}, ._like_${e} [data-like-button-type="${t}"]`),showLikes(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e&&e instanceof HTMLElement&&!e.postDontShowLikes&&(!vk.widget||!vk.show_external_auth_box)){var o=n.views?{views:1}:n.share?{published:1}:{};n.listId&&(o.list=n.listId),n.like_stats_params&&Object.assign(o,n.like_stats_params);var s=!!(0,r.geByClass1)("share",(0,r.gpeByClass)("like_wrap",e)),l=document.body,c=!1,d=getComputedStyle(e),p=(0,u.intval)(d.getPropertyValue("padding-left").replace("px","")),h=(0,u.intval)(d.getPropertyValue("padding-top").replace("px","")),m=(0,_.getElementLikeButtonIcon)(e),f=40;"wpost"===n.from&&(f=24);var v,g,y=[f-(0,r.getSize)(m)[0]/2-p,10-h],b=n.cl||"";if(n.share)b+="likes_tt_share";else if(b+="likes_tt_like","widget_community"===n.from)y[0]=6;else if("wcomments"===n.from||"widget_comments"===cur.wallType){y[0]=(0,r.getSize)(e)[0]+16-(0,r.getSize)(m)[0]/2-10}else"photo_carousel"===n.from&&(y[1]=10);if(!!(null==n?void 0:n.isFromReactionsPreview)){var E=e.querySelector("._ReactionsPreview__itemsContainer");if(E){var C=E.querySelector(".ReactionsPreviewItem"),D=getXYRect(C,!1),k=(D.width||0)/2,P=k;l=E,D.left+D.width/2>window.innerWidth/2&&(c=!0,P=E.offsetWidth-k),y[0]=-P+f}}n.share?(v="needReinitLikesTT",g="resetLikesTTTimer"):(v="needReinitShareTT",g="resetShareTTTimer"),clearTimeout(e[g]),(0,a.showTooltip)(e,{url:"/like.php",params:(0,i.extend)({act:"a_get_stats",object:t,has_share:s?1:""},o),appendEl:l,slide:15,shift:y,ajaxdt:n.fast?0:100,showdt:n.fast?0:400,hidedt:200,dir:"auto",checkLeft:!0,needLeft:c,reverseOffset:80,noZIndex:!0,hasover:!0,tip:{over:()=>{w.showLikes(e,t,n)}},typeClass:"like_tt",className:b,onHide:()=>{clearTimeout(e[g]),e[v]&&(e[g]=setTimeout((()=>{delete e[v],e.tt&&e.tt.destroy&&e.tt.destroy()}),200))}})}},showShare:function(e,t,n){w.showLikes(e,t,(0,i.extend)(n,{share:1}))},updateViews:(e,t,n)=>{if(!vk.widget||!vk.show_external_auth_box){var o=t.currentTarget;window.ajax.post("like.php",{act:"a_get_stats",object:e,views:1},{cache:1,onDone(t,a){var i=(0,r.ce)("div",{innerHTML:a}),s=(null==n?void 0:n.updateTargetElOnly)?{els:[o]}:void 0;w._updateDom(e,p.LikeButtonTypes.views,t,void 0,i.innerText||i.textContent,s)}})}},makeTemplate(e,t){if(!e)return"";(t=(0,i.extend)({buttons_prepend:"",object_raw:"",likes_count:"",liked:!1,share_count:"",shared:"",views_count:"",share_opts:{},like_opts:{},class_name:"",like_cont_class:"",like_class_name:"",[h.REACTIONS_COUNTS_RESPONSE_FIELD]:"",reactions_class_name:""},t)).like_active=t.liked?"active":"",t.share_active=t.shared?"active":"",t.comment_active="",t.likes_formatted_count=t.likes_count>0?(0,d.langNumeric)(t.likes_count,"%s",!0):"",t.share_formatted_count=t.share_count>0?(0,d.langNumeric)(t.share_count,"%s",!0):"",t.share_opts=this._convertOptsToString(t.share_opts),t.like_opts=this._convertOptsToString(t.like_opts),t.like_class_name+=t.likes_count>0?"":" empty",t.share_class_name=t.share_count>0?"":"empty";var n=t[h.REACTIONS_COUNTS_RESPONSE_FIELD],o=!!n&&Object.values(n).some((e=>!!e));return t.reactions_class_name+=o?"":" PostBottomAction--empty",(0,r.rs)(e,t)},_convertOptsToString:e=>JSON.stringify(e).replace(/\"/g,"'"),updateExternalIndex(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,_.parseLikeObjectId)(e),r=n.objectType,o=n.objectId;switch(r){case"photo":if(!cur.pvShown||!cur.pvCurPhoto||cur.pvCurPhoto.id!==o)return;var a=cur.pvListId,i=cur.pvIndex,s=cur.pvData[a][i];t.type===p.LikeButtonTypes.like?(s.likes=t.count,s.liked=t.isActive,cur.pvCommsLikes[s.id][1]=t.count):t.type===p.LikeButtonTypes.share&&(s.shares=t.count);break;case"video":if(window.mvcur&&window.mvcur.mvShown&&window.mvcur.videoRaw===o&&t.type===p.LikeButtonTypes.like){var l=window.Videoview.getMvData();l.likes=t.count,void 0!==t.isActive&&(l.liked=t.isActive,window.Videoview.playerOnLiked(t.isActive),window.Videoview.recache())}}},showLikesList(e,t){cur.viewAsBox||(0,r.hasClass)((0,r.gpeByClass)("like_btn",e),"no_counter")||(0,l.showWiki)({w:"likes/"+(0,i.clean)(t)},!1,!1,{queue:1})},showSharesList(e,t){cur.viewAsBox||(0,r.hasClass)((0,r.gpeByClass)("like_btn",e),"no_counter")||(0,l.showWiki)({w:"shares/"+(0,i.clean)(t)},!1,!1,{queue:1})}}},5969:(e,t,n)=>{"use strict";n.d(t,{default:()=>f});n(3946),n(1466),n(9357),n(5115);var r=n(7294),o=n(5697),a=n(5456),i=n(1437),s=n(897),l=n(3558),u=n(5775),c=n(7273),d=n(9059),_=n(931),p=n(8434),h=n(1142),m=n(3024);class f extends r.Component{constructor(e){var t;super(e),t=this,this.componentDidMount=()=>{document.addEventListener("keydown",this.onDocumentKeyDown),this.setInitialState(),this.synchronizeStateWithBackend()},this.componentWillUnmount=()=>{document.removeEventListener("keydown",this.onDocumentKeyDown),this.removeResendCodeButtonTimer()},this.componentDidUpdate=(e,t)=>{this.state.initialLoading||this.state.delayedUnblockExplanation||this.state.delayedUnblockFinished||t.phone===this.state.phone&&t.code===this.state.code&&t.codeSent===this.state.codeSent||this.updateFocus()},this.sendCode=()=>{if(!this.isBusy()){this.resetMessage();var e={act:f.acts.sendCode,phone:this.getPhonePrefix()+this.state.newPhone,hash:this.state.processHash,sure:1};ajax.post(f.controller,e,{onDone:e=>{this.setStateByProcess(e),this.setResendCodeButtonTimer()},onFail:e=>(this.setErrorMessage(e),!0),showProgress:()=>this.setState({mainButtonLoading:!0}),hideProgress:()=>this.setState({mainButtonLoading:!1})})}},this.sendCodeToBoundPhone=()=>{if(!this.isBusy()){this.resetMessage();var e={act:f.acts.sendCodeToBoundPhone,hash:this.state.processHash};ajax.post(f.controller,e,{onDone:e=>{this.setStateByProcess(e),this.setResendCodeButtonTimer()},onFail:e=>(this.setErrorMessage(e),this.synchronizeStateWithBackend(),!0),showProgress:()=>this.setState({mainButtonLoading:!0}),hideProgress:()=>this.setState({mainButtonLoading:!1})})}},this.resetPhone=e=>{this.isBusy()||(this.removeResendCodeButtonTimer(),e&&this.resetMessage(),this.setState({phonePrefixIndex:f.constants.firstCountryIndex,backendCallResetsEnabled:null,phone:"",code:"",newPhone:"",newCode:"",phonePrefixInputNeeded:!0,codeSent:!1,checkCodeAttemptsAmount:void 0}))},this.resetUnblockForm=()=>{if(!this.isBusy()){var e={act:f.acts.resetUnblockForm,hash:this.state.processHash};ajax.post(f.controller,e,{onDone:e=>{this.setStateByProcess(e,{delayedUnblockExplanation:"",delayedUnblockFinished:!1})},onFail:e=>(this.setErrorMessage(e),this.synchronizeStateWithBackend(),!0),showProgress:()=>this.setState({resetUnblockDataButtonLoading:!0}),hideProgress:()=>this.setState({resetUnblockDataButtonLoading:!1})})}},this.checkCode=()=>{if(!this.isBusy())if(this.state.newCode.length<4)(0,a.notaBene)(this.references.validationCodeInput.element);else{this.resetMessage();var e={act:f.acts.checkCode,code:this.state.newCode,hash:this.state.processHash};ajax.post(f.controller,e,{onDone:e=>{this.setStateByProcess(e),this.references.passwordInput.element.focus(),this.setState({mainButtonLoading:!1})},onFail:e=>(this.synchronizeStateWithBackend((()=>{this.setErrorMessage(e),this.setState({mainButtonLoading:!1})})),!0),showProgress:()=>this.setState({mainButtonLoading:!0})})}},this.resendCode=()=>{if(!this.isBusy()){this.resetMessage();var e={act:f.acts.resendCode,hash:this.state.processHash};ajax.post(f.controller,e,{onDone:e=>{this.setStateByProcess(e,{newCode:""}),this.setInfoMessage(this.getResentInfoMessageText()),this.setResendCodeButtonTimer(),this.references.validationCodeInput.element.focus()},onFail:e=>(this.setErrorMessage(e),this.synchronizeStateWithBackend(),!0),showProgress:()=>this.setState({noCodeButtonLoading:!0}),hideProgress:()=>this.setState({noCodeButtonLoading:!1})})}},this.unblock=()=>{if(!this.isBusy())if(f.isBadPassword(this.state.newPassword))(0,a.notaBene)(this.references.passwordInput.element);else{this.resetMessage();var e={act:f.acts.unblock,pass:this.state.newPassword,hash:this.state.unblockHash};ajax.post(f.controller,e,{onDone:e=>{e.delayed_unblock_explanation?this.setState({delayedUnblockExplanation:e.delayed_unblock_explanation,mainButtonLoading:!1}):(this.setState({password:this.state.newPassword}),f.refreshAuthDataAndRedirectToFeed(e.login_hash,e.lg_domain_h,e.logout_hash,e.email,this.state.newPassword))},onFail:e=>(this.setErrorMessage(e),this.setState({mainButtonLoading:!1}),this.synchronizeStateWithBackend(),!0),showProgress:()=>this.setState({mainButtonLoading:!0})})}},this.redirectToAuth=()=>{this.setState({redirectToAuthButtonLoading:!0}),window.location.href=document.getElementById("top_logout_link").href},this.synchronizeStateWithBackend=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},n={act:f.acts.getStatus};ajax.post(f.controller,n,{onDone:n=>{e(),t.setStateByProcess(n)},onFail:e=>(t.setErrorMessage(e),t.synchronizeStateWithBackend(),!0)})},this.setStateByProcess=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.getStateByProcess(e);t.state.initialLoading&&(r.initialLoading=!1),n&&Object.assign(r,n),0!==t.state.unbanDataId&&void 0!==t.state.unbanDataId&&r.unbanDataId!==t.state.unbanDataId&&t.setErrorMessage(i.default.getLang("login_unban_data_expired")),t.setState(r),r.delayedUnblockExplanation||r.delayedUnblockFinished||(r.codeSent&&r.resendButtonSecondsLeft&&t.setResendCodeButtonTimer(),0===r.checkCodeAttemptsAmount&&t.resetPhone(!1))},this.getStateByProcess=e=>({phone:e.phone,code:e.code,password:e.password,phonePrefixInputNeeded:!e.phone,canEditPhone:e.can_edit_phone,codeSent:e.code_sent,checkCodeAttemptsAmount:Number(e.check_code_attempts_amount),backendCallResetsEnabled:e.call_resets_enabled,phonePrefixesCallResetsEnabledConfig:e.phone_prefixes_call_resets_enabled_config,phonePrefixesToCountryMapping:e.country_to_phone_prefixes_map,unbanDataId:e.unban_data_id,delayedUnblockExplanation:e.delayed_unblock_explanation,delayedUnblockFinished:e.delayed_unblock_finished,resendCodeTimer:f.constants.noResetCodeTimerEnabled,resendButtonSecondsLeft:e.sms_resend_delay_timer_left,resendAttemptsAmount:e.resend_attempts_amount,resendCodeDelay:e.sms_resend_delay,phonePrefixIndex:this.getInitialPhonePrefixIndex(e.country_to_phone_prefixes_map,e.phone_prefix),newPhone:e.phone,newCode:e.code,newPassword:"",processHash:e.process_hash,unblockHash:e.unblock_hash}),this.areCallResetsEnabled=()=>{if(null!==this.state.backendCallResetsEnabled)return this.state.backendCallResetsEnabled;var e=String(this.state.phonePrefixesToCountryMapping[this.state.phonePrefixIndex][0]),t=Number(e.replace("_",""));return!this.state.phonePrefixesCallResetsEnabledConfig.includes(t)},this.updateFocus=()=>{this.state.phone?this.state.phone&&!this.state.code&&this.state.codeSent?this.references.validationCodeInput.element.focus():this.state.phone&&this.state.code&&this.references.passwordInput.element.focus():this.references.phoneInput.element.focus()},this.setErrorMessage=e=>{this.setState({message:e,isError:!0})},this.setInfoMessage=e=>{this.setState({message:e,isError:!1})},this.resetMessage=()=>{this.setState({message:""})},this.isBusy=()=>this.state.mainButtonLoading||this.state.noCodeButtonLoading||this.state.resetUnblockDataButtonLoading,this.onDocumentKeyDown=e=>{switch(e.keyCode){case KEY.ENTER:this.references.mainButton.props.onClick();break;default:return}e.stopPropagation(),e.preventDefault()},this.setResendCodeButtonTimer=()=>{if(this.state.resendCodeTimer===f.constants.noResetCodeTimerEnabled){var e=this.state.resendButtonSecondsLeft||this.state.resendCodeDelay;this.setState({resendCodeTimer:setInterval(this.resendCodeButtonTimerTick,c.SECOND),resendButtonSecondsLeft:e})}},this.resendCodeButtonTimerTick=()=>{var e=this.state.resendButtonSecondsLeft-1;this.setState({resendButtonSecondsLeft:e}),0===e&&this.removeResendCodeButtonTimer()},this.removeResendCodeButtonTimer=()=>{clearInterval(this.state.resendCodeTimer),this.setState({resendCodeTimer:f.constants.noResetCodeTimerEnabled,resendButtonSecondsLeft:0})},this.noResendsWereMade=()=>this.state.resendAttemptsAmount===f.constants.noCodeResentAmount,this.isLastResendStep=()=>this.state.resendAttemptsAmount===f.constants.maxCodeResentAmount,this.shouldRenderCallResetsSteps=()=>this.areCallResetsEnabled()?this.noResendsWereMade():this.isLastResendStep(),this.getCodeBlockHeaderLabel=()=>this.shouldRenderCallResetsSteps()?i.default.getLang("login_authcheck_called_phone_label"):i.default.getLang("login_confirmation_code"),this.getCodeBlockTooltipLabel=()=>this.shouldRenderCallResetsSteps()?this.props.tooltips.codeCallReset:this.props.tooltips.code,this.getResentInfoMessageText=()=>this.shouldRenderCallResetsSteps()?i.default.getLang("login_authcheck_call_reset_sent"):i.default.getLang("login_authcheck_sms_resent"),this.getResendCodeWaitingLabel=()=>{var e;e=this.areCallResetsEnabled()?this.noResendsWereMade()?i.default.getLang("join_send_code_via_sms_time"):i.default.getLang("join_resend_code_time"):this.noResendsWereMade()?i.default.getLang("join_resend_code_time"):i.default.getLang("login_authcheck_send_call_reset_delay");var t=Math.floor(this.state.resendButtonSecondsLeft/60)+":"+(this.state.resendButtonSecondsLeft%60<10?"0":"")+this.state.resendButtonSecondsLeft%60;return e.replace("%s",t)},this.getResendCodeButtonLabel=()=>this.areCallResetsEnabled()?this.noResendsWereMade()?i.default.getLang("join_send_code_via_sms"):i.default.getLang("join_no_code"):this.noResendsWereMade()?i.default.getLang("join_no_code"):i.default.getLang("login_authcheck_send_call_reset_message"),this.getInitialPhonePrefixIndex=(e,t)=>{var n=e.findIndex((e=>e[3]==t));return-1===n&&(n=f.constants.firstCountryIndex),n},this.mapPhonePrefixesToOption=()=>this.state.phonePrefixesToCountryMapping.map(((e,t)=>({constant:t,name:e[1]}))),this.getPhonePrefix=()=>this.state.phonePrefixesToCountryMapping[this.state.phonePrefixIndex][3],this.renderResendCodeButton=()=>{var e;if(this.state.resendAttemptsAmount===f.constants.maxCodeResentAmount)e=r.createElement("div",{className:"resend_button resend_button--waiting"},i.default.getLang("reg_code_limit_exceeded"));else if(0===this.state.resendButtonSecondsLeft)e=r.createElement(l.default,{appearance:"link",loading:this.state.noCodeButtonLoading,className:"resend_button",onClick:this.resendCode},this.getResendCodeButtonLabel());else{var t=this.getResendCodeWaitingLabel();e=r.createElement("div",{className:"resend_button resend_button--waiting"},t)}return r.createElement("div",{className:"resend_button_wrap"},e)},this.renderPhonePrefixBlock=()=>{if(!this.state.phonePrefixInputNeeded)return"";var e=this.state.phone?f.constants.finishedClass:"";return r.createElement("div",{className:`input phone_number_prefix_input ${e}`},r.createElement("div",{className:"label"},i.default.getLang("join_country_label")),r.createElement(d.default,{className:`dark phone_number_prefix _phone_input_tooltip ${e}`,config:{id:"phone_number_prefix",placeholder:"",selected:[this.state.phonePrefixIndex],options:this.mapPhonePrefixesToOption()},singleSelectCrutch:!0,onFilterChange:(e,t)=>{this.setState({phonePrefixIndex:null===t?this.state.phonePrefixIndex:t})},readOnly:!!this.state.phone}))},this.renderPhoneBlock=()=>{var e=this.state.phone&&!this.state.code&&this.state.canEditPhone?r.createElement("a",{className:"_change_phone_button",onClick:()=>this.resetPhone(!0)},i.default.getLang("login_unblock_form_change_phone")):"",t=this.state.phonePrefixInputNeeded?this.getPhonePrefix():"",n=this.state.phone?f.constants.finishedClass:"",o=!this.state.phone&&!this.state.code&&this.state.phonePrefixInputNeeded,a=this.state.newPhone;return r.createElement("div",{className:"input phone_number_input"},r.createElement("div",{className:"label"},i.default.getLang("login_mobile_phone")),e,r.createElement(_.default,{text:this.getPhoneBlockTooltipLabel(),appearance:f.constants.tooltipAppearance,position:f.constants.tooltipPosition,width:f.constants.tooltipWidth,marginLeft:f.constants.tooltipMarginLeft,isShown:o},r.createElement("div",{id:"join_phone_prefixed",className:`prefix_input_wrap ${n}`},r.createElement("div",{id:"join_phone_prefix",className:"prefix_input_prefix"},r.createElement("nobr",null,t)),r.createElement("div",{className:"prefix_input_field"},r.createElement(u.default,{className:`prefix_input phone_number _phone_input_tooltip ${n}`,value:a,readOnly:!!this.state.phone,onChange:e=>this.setState({newPhone:e.target.value}),ref:e=>{this.references.phoneInput=e}}),r.createElement("div",{className:"prefix_input_border"})))))},this.renderCodeBlock=()=>{if(!this.state.phone)return"";if(!this.state.codeSent)return"";var e=this.getCodeBlockHeaderLabel(),t=this.state.code?f.constants.finishedClass:"",n=this.state.phone&&!this.state.code,o=!!this.state.code;return r.createElement("div",{className:"input verification_code_input"},r.createElement("div",{className:"label"},e),r.createElement(_.default,{text:this.getCodeBlockTooltipLabel(),appearance:f.constants.tooltipAppearance,position:f.constants.tooltipPosition,width:f.constants.tooltipWidth,marginLeft:f.constants.tooltipMarginLeft,isShown:n},r.createElement(u.default,{className:`verification_code _verification_code_input_tooltip dark ${t}`,ref:e=>{this.references.validationCodeInput=e},placeholder:i.default.getLang("login_authcheck_enter_code"),value:this.state.newCode,readOnly:o,onChange:e=>this.setState({newCode:e.target.value})})))},this.renderPasswordBlock=()=>{if(!this.state.phone||!this.state.code)return"";var e=f.checkPasswordStrength(this.state.newPassword),t=this.state.newPassword?r.createElement("div",{id:"blocked_about_pass",className:"blocked_pwd_level"+e}):"",n=this.state.newPassword?r.createElement("div",{className:"blocked_pass_strength blocked_about_login"},i.default.getLang(`join_pwd_level${e}`)):"",o=!this.state.password;return r.createElement("div",{className:"input new_password_input"},r.createElement("div",{className:"label"},i.default.getLang("login_new_password_label")),r.createElement(_.default,{text:this.props.tooltips.password,appearance:f.constants.tooltipAppearance,position:f.constants.tooltipPosition,width:f.constants.tooltipWidth,marginLeft:f.constants.tooltipMarginLeft,isShown:o},r.createElement(u.default,{className:"dark new_password _password_input_tooltip",ref:e=>{this.references.passwordInput=e},placeholder:i.default.getLang("login_enter_password"),value:this.state.newPassword,onChange:e=>this.setState({newPassword:e.target.value})})),t,n)},this.renderMainButton=()=>{var e,t,n,o=this.areCallResetsEnabled()?i.default.getLang("reg_validate_call_reset_button"):i.default.getLang("login_receive_code");if(this.state.phone||this.state.code)if(this.state.phone&&!this.state.code)this.state.codeSent?(e=this.checkCode,t=i.default.getLang("login_check_code"),n=this.renderResendCodeButton()):(e=this.sendCodeToBoundPhone,t=o,n="");else{if(!this.state.phone||!this.state.code)return"";e=this.unblock,t=i.default.getLang("login_blocked_unblock_page"),n=""}else e=this.sendCode,t=o,n="";return r.createElement("div",null,r.createElement(l.default,{className:"UnblockForm__mainButton",loading:this.state.mainButtonLoading,onClick:e,ref:e=>{this.references.mainButton=e}},t),n)},this.renderMessage=()=>{if(!this.state.message)return"";var e=this.state.isError?"error":"";return r.createElement("div",{id:"unblock_box_errors_block"},r.createElement("div",{className:"msg submit_error "+e,dangerouslySetInnerHTML:{__html:this.state.message}}))},this.renderContent=()=>this.state.initialLoading?f.renderInitialLoading():this.state.delayedUnblockExplanation?this.renderDelayedWaitExplanation():this.state.delayedUnblockFinished?this.renderDelayedUnblockFinishedScreen():r.createElement("div",{className:"UnblockForm__content__inputs"},this.renderPhonePrefixBlock(),this.renderPhoneBlock(),this.renderCodeBlock(),this.renderPasswordBlock(),this.renderMainButton()),this.renderDelayedWaitExplanation=()=>r.createElement("div",{className:"DelayedWaitExplanation"},r.createElement("div",{className:"DelayedWaitExplanation__message msg submit_error ",dangerouslySetInnerHTML:{__html:i.default.getLang("restore_change_phone_done_wait_banned").replace("{date}",this.state.delayedUnblockExplanation)}}),r.createElement("div",{className:"DelayedWaitExplanation__progressWrap"},r.createElement(l.default,{appearance:"tertiary",loading:this.state.resetUnblockDataButtonLoading,onClick:this.resetUnblockForm},i.default.getLang("login_delayed_its_not_me")))),this.renderDelayedUnblockFinishedScreen=()=>r.createElement("div",{id:"unblock_box_errors_block"},r.createElement("div",{className:"msg submit_error ",dangerouslySetInnerHTML:{__html:i.default.getLang("login_delayed_request_finished")}}),r.createElement("div",{className:"DelayedRequestFinished__button"},r.createElement(l.default,{loading:this.state.redirectToAuthButtonLoading,onClick:this.redirectToAuth},i.default.getLang("login_unblock_redirect_to_auth"))),r.createElement("div",{className:"DelayedRequestFinished__notMeButton"},r.createElement(l.default,{appearance:"tertiary",loading:this.state.resetUnblockDataButtonLoading,onClick:this.resetUnblockForm},i.default.getLang("login_delayed_its_not_me")))),this.render=()=>r.createElement("div",{className:"UnblockForm"},r.createElement("div",{className:"UnblockForm__header box_title_wrap"},r.createElement("div",{className:"box_x_button",role:"button",onClick:s.destroyComponentInBox},r.createElement(m.default,null)),r.createElement("div",{className:"box_title"},i.default.getLang("login_blocked_call_title"))),r.createElement("div",{className:"UnblockForm__content box_body clear_fix"},r.createElement("div",{className:"login_blocked_wrap"},r.createElement("div",{className:"unblock_form"},r.createElement("div",{className:"UnblockForm__content__header"},r.createElement("div",{className:"antispam_team_logo"}),r.createElement("div",{className:"reason"},i.default.getLang("login_unblock_form_explanation"))),this.renderMessage(),this.renderContent())))),this.state={initialLoading:!0},this.references={phoneInput:null,validationCodeInput:null,passwordInput:null,mainButton:null}}setInitialState(){this.setState({message:"",isError:!1,initialLoading:!0,mainButtonLoading:!1,noCodeButtonLoading:!1,resetUnblockDataButtonLoading:!1,redirectToAuthButtonLoading:!1})}getPhoneBlockTooltipLabel(){return this.areCallResetsEnabled()?this.props.tooltips.phoneCallReset:this.props.tooltips.phone}}f.controller="/al_login.php",f.acts={getStatus:"get_unblock_process_status",sendCode:"send_unblock_code",sendCodeToBoundPhone:"send_unblock_code_to_bound_phone",resendCode:"resend_unblock_code",checkCode:"check_unblock_code",unblock:"unblock",resetUnblockForm:"reset_unblock_form"},f.constants={finishedClass:"finished",maxCodeResentAmount:2,noCodeResentAmount:0,firstCountryIndex:0,noResetCodeTimerEnabled:0,tooltipWidth:250,tooltipMarginLeft:5,tooltipAppearance:"white",tooltipPosition:"r",passwordStrengths:{none:-1,incorrectTooShort:0,weakTypical:1,good:2,veryGood:3,excellent:4,incorrectHasSpaces:5}},f.refreshAuthDataAndRedirectToFeed=(e,t,n,r,o)=>{var a=utilsNode.appendChild(ce("div",{innerHTML:'\n      <form id="login_block_auth_form" target="login_block_auth_frame" action="" method="POST">\n        <input type="hidden" name="_origin" id="login_server_origin" />\n        <input type="hidden" name="email" id="login_block_email" />\n        <input type="hidden" name="pass" id="login_block_pass" />\n      </form>\n      <iframe name="login_block_auth_frame" id="login_block_auth_frame"></iframe>'})),i=window.onLoginDone,s=ge("login_block_auth_form");s.action=(0,h.getLoginDomain)()+"?act=login&ip_h="+n+"&lg_h="+e+"&lg_domain_h="+t+"&redirect=1&role=al_frame",val("login_block_email",winToUtf(r)),val("login_block_pass",winToUtf(o)),val("login_server_origin",cur.serverOrigin),s.submit(),cur.destroy.push((()=>{re(a),window.onLoginDone=i})),window.onLoginDone=()=>{re(a),nav.go("/feed",!0)}},f.isBadPassword=e=>{var t=[f.constants.passwordStrengths.incorrectHasSpaces,f.constants.passwordStrengths.incorrectTooShort],n=f.checkPasswordStrength(e);return t.includes(n)},f.checkPasswordStrength=e=>{var t=f.constants.passwordStrengths.none,n=["qwerty","йцукен","gfhjkm","пароль","password","abc123","fuckyou","123abc","baseball","football","soccer","monkey","liverpool","princess","jordan","slipknot","superman","iloveyou"];if(e.length<6)t=f.constants.passwordStrengths.incorrectTooShort;else if(/\s/.test(e))t=f.constants.passwordStrengths.incorrectHasSpaces;else if(e.match(/^\d+$/)||n.indexOf(e)>=0||e.substr(-1).match(/\d/)&&n.indexOf(e.substr(0,e.length-1))>=0)t=f.constants.passwordStrengths.weakTypical;else{for(var r=[/[^a-z]/g,/[^A-Z]/g,/[^а-яё]/g,/[^А-ЯЁ]/g,/[^0-9]/g,/[a-zA-Zа-яА-ЯёЁ0-9]/g],o=[],a=0,i=0,s=r.length;i<s;++i){var l=e.replace(r[i],"").length;l&&(l>1&&a++,o.push({group:i,cnt:l}))}if(o.length<3&&o[o.length-1].group!=r.length-1&&a<2&&(t=f.constants.passwordStrengths.good),(a>2||o.length>2&&o[o.length-1].group==r.length-1)&&(t=f.constants.passwordStrengths.excellent),t<0&&a>1){var u=e.replace(r[r.length-1],"");u.length>1&&u.replace(new RegExp(escapeRE(u.charAt(0)),"g"),"").length&&(t=f.constants.passwordStrengths.excellent)}t<0&&(t=f.constants.passwordStrengths.veryGood),t&&t<3&&e.length>13&&t++}return t},f.renderInitialLoading=()=>r.createElement("div",{className:"InitialLoading"},r.createElement(p.default,null)),f.propTypes={tooltips:o.shape({phone:o.string,phoneCallReset:o.string,code:o.string,codeCallReset:o.string,password:o.string})}},931:(e,t,n)=>{"use strict";n.d(t,{default:()=>l});n(5115);var r=n(7294),o=n(3935),a=n(5697),i=n(1265),s=n(3131);class l extends r.Component{constructor(e){super(e),this.addTooltip=e=>{if(this.el){var t=this.props,n=t.text,r=t.position,o=t.align,a=t.marginTop,i=t.marginLeft,l=(0,s.default)(this.el);this.update({text:n,position:r,align:o,rect:l,marginTop:a,marginLeft:i})}},this.removeTooltip=e=>{document.activeElement!==this.inputEl&&this.update({remove:!0})},this.renderTooltip=()=>{if(!this.state.tooltip)return null;var e=this.state.tooltip,t=e.x,n=e.y,o=e.position,a=e.align,s=e.text,l=e.removed,u=this.props,c=u.appearance,d=u.width,_=(0,i.classNames)("UnblockTooltip",`UnblockTooltip--${o}`,`UnblockTooltip--${c}`,{"UnblockTooltip--removed":!!l,[`UnblockTooltip--align-${a}`]:"t"===o||"b"===o}),p={top:n,left:t},h=d?{width:d}:{};return r.createElement("div",{className:_,style:p},r.createElement("div",{className:"UnblockTooltip__in",style:h,dangerouslySetInnerHTML:{__html:s}}))},this.state={}}componentDidMount(){this.el=o.findDOMNode(this),this.inputEl="INPUT"===this.el.tagName?this.el:this.el.getElementsByTagName("input")[0],this.backgroundElement=document.getElementById("box_layer_wrap"),this.el.addEventListener("mouseenter",this.addTooltip),this.el.addEventListener("mouseleave",this.removeTooltip),this.inputEl.addEventListener("focus",this.addTooltip),this.inputEl.addEventListener("blur",this.removeTooltip),this.backgroundElement.addEventListener("scroll",this.addTooltip),window.addEventListener("resize",this.addTooltip)}componentWillUnmount(){this.el.removeEventListener("mouseenter",this.addTooltip),this.el.removeEventListener("mouseleave",this.removeTooltip),this.inputEl.removeEventListener("focus",this.addTooltip),this.inputEl.removeEventListener("blur",this.removeTooltip),this.backgroundElement.addEventListener("scroll",this.addTooltip),window.removeEventListener("resize",this.addTooltip)}update(e){var t=e.position,n=e.align,r=e.text,o=e.rect,a=e.marginTop,i=e.marginLeft,s=!o||0===o.top&&0===o.left;if(!0!==e.remove&&this.props.isShown&&!s){var l=o.left,u=o.top;switch(t){case"t":l+=.5*o.width;break;case"r":l+=o.width,u+=.5*o.height;break;case"b":l+=.5*o.width,u+=o.height;break;case"l":u+=.5*o.height}l=Math.round(l+i),u=Math.round(u+a),this.setState({tooltip:{position:t,align:n,text:r,x:l,y:u}})}else this.setState({tooltip:Object.assign({},this.state.tooltip,{removed:!0})})}render(){var e=this.renderTooltip();return e?(this.defaultNode||"undefined"==typeof window||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),r.createElement(r.Fragment,null,this.props.children,o.createPortal(e,this.defaultNode))):this.props.children}}l.propTypes={appearance:a.oneOf(["black","white"]),text:a.string.isRequired,position:a.oneOf(["t","r","b","l"]),align:a.oneOf(["left","center","right"]),marginTop:a.number,marginLeft:a.number,width:a.number,isShown:a.bool,children:a.node},l.defaultProps={appearance:"black",position:"b",align:"center",marginTop:0,marginLeft:0}},3841:(e,t,n)=>{"use strict";n.d(t,{initLoginBoxForm:()=>c,initLoginCombinedBoxForm:()=>d,Login:()=>_});var r=n(1850),o=n(7294),a=n(5969),i=n(897),s=n(4914),l=n(2372),u=n(6905);function c(e){e&&new u.LoginBoxForm(e)}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.querySelector('.LoginRecentBox [name="ul"]'),r=e.querySelector(".LoginRecentBox__alternative"),o=e.querySelector(".LoginRecentBox .LoginBox__title");r.addEventListener("click",(t=>{t.preventDefault(),e.classList.add("LoginCombinedBox--standard")}));var a=new l.LoginRecentUsersGallery(e.querySelector(".LoginRecentBox__users"));a.onChange=e=>{var r=t.users[e];r&&(o.innerHTML=r.title,n&&(n.value=r.encrypted))},a.init(),e.querySelectorAll(".LoginRecentBox__user").forEach(((e,t)=>{e.addEventListener("click",(()=>{a.setIndex(t)}))}))}var _={init(){each(geByClass("big_text","login_form_wrap"),((e,t)=>{placeholderInit(t)})),setTimeout(s.elfocus.pbind(!isVisible("email")||val("email")?"pass":"email"),0);var e=ge("login_form"),t=ge("email"),n=ge("pass"),r=val("login_ul");return e.onsubmit=()=>{if(!window.submitQuickLoginForm)return!0;if(!r&&!trim(t.value))return notaBene(t),!1;if(!trim(n.value))return notaBene(n),!1;var e={expire_input:val("expire_input")};return r&&(e.ul=r),submitQuickLoginForm(t.value,n.value,{prg:"login_button",params:e}),!1},window.loginByCredential&&!r&&(t.onclick=loginByCredential,n.onclick=loginByCredential),!0},initBlockedPage(){r.FAQTutorial.tryInit()},initBox(){var e=curBox();e.changed=!0,e.setOptions({width:560,onClean:()=>{},hideButtons:!0,bodyStyle:"padding: 0"}),c(document.querySelector(".LoginBox"))},changeMail(e,t,n){var r=trim(val("login_new_mail")),o=1;return r?(e&&(n=cur.changeMailHash),-1==r.indexOf("@")?showMsg("login_change_mail_error",getLang("reg0_error_bad_email"),"error"):(e&&(o=0),void ajax.post("/login?act=a_change_mail",{newmail:r,hash:n,from_page:o},{onDone(t){var n="login_change_mail_form";e&&(n="login_change_mail_box",curBox().removeButtons(),curBox().addButton(getLang("global_cancel"),null,"no")),val(n,t)},onFail:e=>(showMsg("login_change_mail_error",e,"error"),!0),showProgress:lockButton.pbind(t),hideProgress:unlockButton.pbind(t)}))):notaBene("login_new_mail")},initChangeMailBox(){curBox().removeButtons(),curBox().addButton(getLang("global_cancel"),null,"no"),curBox().addButton(getLang("reg0_change_mail"),_.changeMail.pbind(1)),(0,s.elfocus)("change_mail_new")},isBanExpired:()=>cur.unblockDate<Date.now()/1e3,canUnblockFast:()=>!0===cur.canUnblockFast,showUnblockForm(){(0,i.showComponentInBox)(o.createElement(a.default,{tooltips:{phone:cur.phoneTooltip,phoneCallReset:cur.phoneCallResetTooltip,code:cur.verificationCodeTooltip,codeCallReset:cur.verificationCodeCallResetTooltip,password:cur.passwordTooltip}}))},fastUnblock:e=>{var t={act:"fast_unblock",hash:e},n=document.getElementsByClassName("unblock_button--fast")[0];n?ajax.post("/al_login.php",t,{onDone:function(){showDoneBox(getLang("login_fast_unblocked_wait_description"),{out:5e3}),nav.reload()},onFail:function(e){return unlockButton(n),showDoneBox(e),!0},showProgress:()=>lockButton(n)}):showFastBox(getLang("global_error"))},showDeletePageBox(){showFastBox(getLang("login_blocked_delete_page_header"),getLang("login_blocked_sure_delete_page_question"),getLang("box_yes"),(()=>{ajax.post("al_settings.php",{act:"a_deactivate",hash:cur.deactivate_hash},{onDone:e=>{showDoneBox(e),nav.go("/id"+vk.id)},onFail:e=>{showDoneBox(e),curBox().hideProgress()}})}),getLang("box_no"))}}},2808:(e,t,n)=>{"use strict";n.d(t,{AppOrderBox:()=>u});var r=n(4914),o=n(1260),a=n(5456),i=n(1563),s=n(7851),l=n(5528);class u{static instantSkipAppOrder(e,t){var n=gpeByClass("payments_instant_progress_wrap",e),r={act:"a_order",aid:cur.paymentsOrderAppId,order_id:cur.paymentsOrderId,votes:cur.paymentsPreferVotes,test_mode:cur.paymentsOrderTestMode,_skip_instant:t||1,hash:cur.paymentsOrderHash};void 0!==cur.checkedMaxVotes&&(r.checked_max_votes=cur.checkedMaxVotes),ajax.post("al_apps.php",r,{forceDone:1,onDone:()=>{cur.paymentsCheckOrderCnt=1,(0,o.curBox)().hide(),cur.paymentsCheckOrderCnt=0,cur.fromInstantPay=!0},showProgress:addClass.pbind(n,"loading"),hideProgress:removeClass.pbind(n,"loading")})}static processOrder(e,t){t||(t=(0,o.curBox)());var n=(0,r.isVisible)("payments_box")?2:0,c=!1;e||(e=n),n&&(c=t.btns.ok[0],(0,a.lockButton)(c));var d={act:"a_order",aid:cur.paymentsOrderAppId,order_id:cur.paymentsOrderId,votes:cur.paymentsPreferVotes,from:nav.objLoc[0],test_mode:cur.paymentsOrderTestMode,_votes_ok:e,hash:cur.paymentsOrderHash};1==e&&cur.paymentsOrderBillPeriod&&(d.payment_type=cur.votesType),!cur.paymentsOrderBillPeriod&&ge("payments_order_auto_confirm")&&(d.auto_confirm=(0,a.isChecked)("payments_order_auto_confirm")),cur.salesRef&&(d.sales_ref=cur.salesRef),ajax.post("al_apps.php",d,{forceDone:3==+e?1:0,onDone:(r,d,_,p,h)=>{if(p&&-1e3!==p&&(cur.votesBoxOptions=p),3==e&&-1e3==_)return l.Gifts.processBoxOptions((0,o.curBox)(),p),cur.paymentsCheckOrderCnt=1,t.hide(),void(cur.paymentsCheckOrderCnt=0);if(0===_||_>0)return cur.paymentsPreferVotes=1,n?cur.paymentsShowBoxError(d):(t.hide(),(0,i.showFastBox)(getLang("global_error"),d)),void((cur.paymentsOrderBillPeriod||h)&&cur.onSubscriptionFail?cur.onSubscriptionFail(_):cur.onAppOrderFail&&cur.onAppOrderFail(_));if(r.result){var m=(0,o.curBox)();return cur.isPaymentsAppOrder=!1,m&&m.hide(),(0,o.showDoneBox)(d),r.balance&&(0,s.updateMoney)(r.balance),void(cur.onSubscriptionDone&&r.subscriptionStatus&&(cur.onSubscriptionDone(r.subscriptionStatus),cur.onSubscriptionDone=!1))}var f=r.orderId;if(f){d&&(t=(0,i.showFastBox)("",d)).setOptions({title:!1,width:520,bodyStyle:"padding: 0;",hideButtons:!0}),c&&(0,a.unlockButton)(c),cur.isPaymentsAppOrder=!1,cur.paymentsOrderId=f,r.subscriptionId&&(cur.paymentsSubscriptionId=r.subscriptionId),cur.paymentsOrderCheckHash=r.checkHash;var v=getLang("payments_waiting_app_order_complete");ge("payments_box_progress_msg_wrap")?(val("payments_box_progress_msg_wrap",`<span id="payments_box_progress_msg">${v}</span>`),cur.paymentsShowProgress()):val("apps_paymentbox_progress_msg_wrap",v),cur.paymentsCheckOrderCnt=0,cur.paymentsCheckOrderInt=setInterval(u.checkOrder,2e3)}else cur.paymentGetOrderItemTO=setTimeout(u.processOrder.pbind(!1,t),1e3)},onFail:function(e){return!e||(cur.onSubscriptionFail?cur.onSubscriptionFail():cur.onAppOrderFail&&cur.onAppOrderFail(),(0,r.isVisible)("payments_box")?cur.paymentsShowBoxError(e):(t.hide(),(0,i.showFastBox)(getLang("global_error"),e)),!0)}})}static checkOrder(){if(15==cur.paymentsCheckOrderCnt)ge("payments_box_progress_msg").innerHTML=getLang("payments_waiting_payment_complete_still");else if(cur.paymentsCheckOrderCnt>30)return clearInterval(cur.paymentsCheckOrderInt),(0,o.curBox)().hide(),void(0,i.showFastBox)(getLang("payments_app_order_box_title"),getLang("payments_app_add_votes_delay"),getLang("global_close"),(()=>{cur.paymentsOrderBillPeriod&&cur.onSubscriptionCancel?cur.onSubscriptionCancel():cur.onAppOrderCancel&&cur.onAppOrderCancel(),(0,o.curBox)().hide()}));cur.paymentsCheckOrderCnt++,ajax.post("al_apps.php",{act:"a_check_order",aid:cur.paymentsOrderAppId,order_id:cur.paymentsOrderId,test_mode:cur.paymentsOrderTestMode,from:nav.objLoc[0],hash:cur.paymentsOrderCheckHash},{onDone:(e,t,n,r,a)=>{e&&((0,o.curBox)()&&(0,o.curBox)().hide(),clearInterval(cur.paymentsCheckOrderInt),cur.paymentsCheckOrderCnt=0,window.toggleFlash(!1),(0,o.showDoneBox)(t,{out:1e3,callback:()=>{window.toggleFlash(!0)}}),n&&(0,s.updateMoney)(n),1==e?(cur.paymentsOrderBillPeriod&&cur.onSubscriptionSuccess?(cur.onSubscriptionSuccess(cur.paymentsSubscriptionId),TopNotifier&&TopNotifier.invalidate()):cur.onAppOrderSuccess&&cur.onAppOrderSuccess(cur.paymentsOrderId),cur.onSubscriptionDone&&a&&(cur.onSubscriptionDone(a),cur.onSubscriptionDone=!1)):cur.paymentsOrderBillPeriod&&cur.onSubscriptionFail?cur.onSubscriptionFail(r):cur.onAppOrderFail&&cur.onAppOrderFail(r))},onFail:function(e){return clearInterval(cur.paymentsCheckOrderInt),cur.paymentsShowBoxError(e),!0}})}static initialize(e,t,n,r,o,a,i,s){extend(cur,{isPaymentsAppOrder:!0,paymentsAuthPayment:!1,paymentsOrderNotice:!1,paymentsOrderId:e,paymentsOrderAppId:t,paymentsOrderTestMode:n,paymentsOrderHash:r,paymentsPreferVotes:o,paymentsOrderDiscount:a,paymentsOrderBillPeriod:i,salesRef:s})}}},2481:(e,t,n)=>{"use strict";n.d(t,{MoneyTransfer:()=>k});n(5115),n(1181),n(9665),n(5767),n(522),n(6108),n(6253),n(9357),n(1466);var r=n(5456),o=n(1563),a=n(4914),i=n(139),s=n(7851),l=n(2699),u=n(9921),c=n(9847),d=n(6886),_=n(6624),p=n(2952),h=n(2872),m=n(8533),f=n(9016),v=n(9608);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=1,C=2,D=-1,k={initHandlers(){(0,m.tq)().setInteractiveHandler("MoneyTransfer/receive_method_change",(e=>{var t=e.payload.event.target;if(!hasClass(t,"disabled")){var n=e.payload.dataAttrs,r=n.value,o=n.name;k.onReceiveMethodChange(t,r,o)}})),(0,m.tq)().setInteractiveHandler("MoneyTransfer/in_chat_focus_amount",(()=>{(0,a.elfocus)("transfer_amount")})),(0,m.tq)().setInteractiveHandler("MoneyTransfer/check_user_message",(()=>{k.checkUserMessage()})),(0,m.tq)().setInteractiveHandler("MoneyTransfer/show_hint",(e=>{(0,f.showHint)(e.payload.event.target)})),(0,m.tq)().setInteractiveHandler("MoneyTransfer/send",(e=>{k.send(Boolean(e.payload.dataAttrs.newWindow))})),(0,m.tq)().setInteractiveHandler("MoneyTransfer/check_participate",(e=>{(0,r.checkbox)(e.payload.event.target),k.checkRequestParticipate()})),(0,m.tq)().setInteractiveHandler("MoneyTransfer/check",(e=>{(0,r.checkbox)(e.payload.event.target)})),(0,m.tq)().setInteractiveHandler("MoneyTransfer/check_auto_accept",(e=>{(0,r.checkbox)(e.payload.event.target),k.checkAutoAccept()})),(0,m.tq)().setInteractiveHandler("MoneyTransfer/about",(e=>{k.aboutBox(e.payload.dataAttrs.aboutKey)})),(0,m.tq)().setInteractiveHandler("MoneyTransfer/history",(()=>{k.historyBox()})),(0,m.tq)().setInteractiveHandler("MoneyTransfer/hide_pin_box",(()=>{k.hidePinBox()})),(0,m.tq)().setInteractiveHandler("MoneyTransfer/check_vk_pay_offer",(()=>{k.checkVkPayOfferBox()})),(0,m.tq)().setInteractiveHandler("MoneyTransfer/clean_amount",(e=>{k.cleanAmount(e.payload.event.target,e.payload.event,Boolean(e.payload.dataAttrs.onlyClean))})),(0,m.tq)().setInteractiveHandler("MoneyTransfer/send_amount_on_enter",(e=>{13===e.payload.event.keyCode&&k.send(),k.autosizeAmount()})),(0,m.tq)().setInteractiveHandler("MoneyTransfer/focus_from_to",(e=>{(0,a.elfocus)(e.payload.event,0,1e4)})),(0,m.tq)().setInteractiveHandler("MoneyTransfer/focus_and_hide_link",(e=>{(0,a.elfocus)(e.payload.event,0,1e4),k.hideLinkCopied()})),(0,m.tq)().setInteractiveHandler("MoneyTransfer/copy_link",(e=>{k.copyLinkToClipboard(ge(e.payload.dataAttrs.element))})),(0,m.tq)().setInteractiveHandler("MoneyTransfer/share_qr",(()=>{k.shareQRCode()})),(0,m.tq)().setInteractiveHandler("MoneyTransfer/download_qr",(()=>{k.downloadQRCode()})),(0,m.tq)().setInteractiveHandler("MoneyTransfer/switch_to_transfer_box",(e=>{k.switchBoxSection(e.payload.event.target,"transfer")})),(0,m.tq)().setInteractiveHandler("MoneyTransfer/switch_to_request_box",(e=>{k.switchBoxSection(e.payload.event.target,"request")})),(0,m.tq)().setInteractiveHandler("MoneyTransfer/switch_to_link_box",(e=>{k.switchBoxSection(e.payload.event.target,"link")})),(0,m.tq)().setInteractiveHandler("MoneyTransfer/init_accept",(()=>{k.initAccept(cur.paymentsOptions.chkData,cur.paymentsOptions.frame,!0)}))},init(){this.initHandlers();var e=curBox();if(ge("payments_box")!=geByClass1("payments_money_transfer_box",e.bodyNode)&&_message_boxes.length>1){var t=!0;_message_boxes.forEach((function(e,n){t&&ge("payments_box")==geByClass1("payments_money_transfer_box",e.bodyNode)&&(boxLayer.removeChild(gpeByClass("popup_box_container",e.bodyNode)),boxQueue._boxes.splice(n,1),delete _message_boxes[n],t=!1)}))}if(cur.moneyLinksTooltip&&(cur.moneyLinksTooltip.destroy(),delete cur.moneyLinksTooltip),e.setOptions({grey:!0}),cur.paymentsOptions.requestId&&!cur.paymentsOptions.vkpayAvailable&&(e.changed=!0,e.setOptions({width:510}),k.send()),placeholderInit("transfer_amount"),placeholderInit("transfer_comment"),cur.paymentsOptions.isChat){if(placeholderInit("transfer_chunk_amount"),cur.autoacceptCardDD=new InlineDropdown("transfer_autoaccept_card",{items:cur.paymentsOptions.cards,selected:cur.paymentsOptions.cardSeleceted,withArrow:!0,onShow:k.enableAutoaccept,onSelect:e=>{-1==e?k.sendBind():cur.paymentsOptions.vkpayAvailable&&k.checkAmount(val("transfer_amount"))}}),cur.autoacceptCardEl=ge("transfer_autoaccept_card"),(0,a.toggleClass)("transfer_autoaccept_card","disabled",!cur.paymentsOptions.autoAcceptEnabled),cur.paymentsOptions.autoAcceptEnabled&&(0,r.checkbox)("transfer_autoaccept",!0),cur.paymentsOptions.cards.length<2){var n=(0,a.ce)("a",{id:"payments_money_transfer_new_card_lnk",innerHTML:(0,d.getLang)("payments_money_transfer_new_card")});addEvent(n,"mousedown",k.sendBind),(0,a.hide)(cur.autoacceptCardEl),cur.autoacceptCardEl.parentNode.appendChild(n)}}else if(ge("transfer_to")){(0,a.hide)("payments_money_transfer_user");var o="transfer"===cur.paymentsOptions.boxTab;cur.uiTransferTo=new Dropdown(ge("transfer_to"),cur.paymentsOptions.friends.filter((function(e){return o||!0===e[7]})),{big:!0,introText:(0,d.getLang)("votes_transfer_start_typing_recipient"),noResult:"",placeholder:(0,d.getLang)("votes_transfer_choose_recipients"),placeholderColored:!0,multiselect:!1,enableCustom:!0,autocomplete:!0,imageId:"transfer_to_photo",indexkeys:[1,4],noImageSrc:"/images/blank.gif",onChange:e=>{if(e&&-1!=e){var t=cur.uiTransferTo.val_full();cur.paymentsOptions.toId=t[0],cur.paymentsOptions.hash=t[5],val("payments_money_transfer_summary",t[6]),setTimeout(a.elfocus.pbind("transfer_amount"),100),cur.paymentsOptions.vkpayAvailable&&k.updateMethods()}}})}else ge("transfer_method")&&k.initMethods();setTimeout(a.elfocus.pbind("transfer_amount"),100),shortCurrency(),"link"===cur.paymentsOptions.boxTab&&k.genQRCode();var i=val("transfer_amount");i&&k.checkAmount(i,!1,!0),k.autosizeAmount(),k.showMoneyLinksTooltip(),cur.transferPageLoaded=!1,cur.destroy.push(k.destroy)},destroy(){k.stopCheckFrameLoad(),cur.uiTransferTo&&cur.uiTransferTo.destroy(cur.uiTransferTo),cur.qrFrame&&(0,a.re)(cur.qrFrame)},initMethods(){cur.paymentsOptions.onlyCards=!(0,a.isVisible)("payments_money_transfer_receive_methods");var e=cur.paymentsOptions.cardSelected;if([C,E].includes(parseInt(cur.paymentsOptions.forceType))){var t,n=function(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=w(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,a=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}(cur.paymentsOptions.cards);try{for(n.s();!(t=n.n()).done;){y(t.value,1)[0]===D&&(e=D)}}catch(e){n.e(e)}finally{n.f()}}(cur.uiTransferCard=new Dropdown(ge("transfer_method"),cur.paymentsOptions.cards,{big:!0,selectedItems:e,onChange:(e,t)=>{if(-2===parseInt(e)){var n=(0,a.se)(t);return nav.go(n.getAttribute("data-url")),(0,r.lockButton)("payments_money_transfer_send"),!1}k.updateTransferType(),k.updateCardFee(!0),val("transfer_amount")||setTimeout(a.elfocus.pbind("transfer_amount"),100)}}),cur.paymentsOptions.onlyCards)||geByClass1("payments_money_transfer_receive_options","payments_money_transfer_receive_methods")&&(window.radioBtns.receiveOptions={els:Array.prototype.slice.apply((0,a.geByClass)("radiobtn")),val:e==D?"vkpay":"cards"});if(void 0!==cur.paymentsOptions.vkpayBalance&&((0,l.each)((0,a.geByClass)("_code","payments_money_transfer_code_wrap"),(function(){addEvent(this,"mousedown",k.onPinClick),addEvent(this,"keyup",k.onPinKeyUp),addEvent(this,"keypress",k.onPinEnter)})),k.isVKPayFillUpEnabled())){var o=k.getBindCards();o.length>0&&(cur.uiFillUpCard=new Dropdown(ge("fill_up_card"),o,{big:!0,selectedItems:cur.paymentsOptions.fillUpCardSelected}))}var i=!cur.paymentsOptions.transferType||cur.paymentsOptions.forceType;i&&k.updateTransferType(),k.updateCardFee(!i)},updateLocalStorageNewWindowSign(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()+20+20*Math.random());return localStorage.setItem("money_transfer_new_window",t.getTime()),t},getLocalStorageNewWindowSign(){var e,t=parseInt(null!==(e=localStorage.getItem("money_transfer_new_window"))&&void 0!==e?e:0);if(1===t)t=k.updateLocalStorageNewWindowSign().getTime();else if(0===t)return!1;return t>(new Date).getTime()},updateMethods(){var e=cur.paymentsOptions.toId;if(e&&cur.paymentsOptions.vkpayAvailable){var t=ge("payments_money_transfer_send");val("payments_box_error",""),cur.moneyTranferMethodsReq&&(cur.moneyTranferMethodsReq.abort(),cur.moneyTranferMethodsReq=null),cur.moneyTranferMethodsReq=ajax.post("al_payments.php?act=a_get_money_transfer_methods",{to_id:e},{onDone:(e,n)=>{(0,r.unlockButton)(t),val("payments_money_transfer_methods",e),cur.paymentsOptions=extend(cur.paymentsOptions,n),cur.paymentsOptions.transferType=n.transferType,k.initMethods()},onFail:e=>(e&&isString(e)&&((0,r.unlockButton)(t),k.showError(e)),!0),showProgress:r.lockButton.pbind(t)})}},send(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=curBox(),o=ge("payments_money_transfer_send");if(!(0,r.isButtonLocked)(o))if(cur.paymentsOptions.toId||!cur.uiTransferTo){var i=0;if(k.resetTransferWindow(),!(0,a.isVisible)("payments_money_transfer_no_amount_wrap")){if(!(i=val("transfer_amount"))||i<=0)return(0,a.addClass)("payments_money_transfer_amount_wrap","money_error"),setTimeout(a.removeClass.pbind("payments_money_transfer_amount_wrap","money_error"),500),void(0,a.elfocus)("transfer_amount");if(!k.checkAmount(i,!0))return;if((0,r.isChecked)("transfer_participate"))i-=k.getChunkAmount(i,!0)}if(k.hideMoneyLinksTooltip(),cur.paymentsOptions.onSendStart&&cur.paymentsOptions.onSendStart(),"request"!==cur.paymentsOptions.boxTab){k.createFrame();var s={act:"a_init_money_transfer",to_id:cur.paymentsOptions.toId,owner_id:cur.paymentsOptions.ownerId,amount:i,currency:cur.paymentsOptions.currency,comment:val("transfer_comment"),from:cur.paymentsOptions.from,hash:cur.paymentsOptions.hash,accept_vk_pay_offer:cur.paymentsOptions.shouldAcceptVkPayOffer};if(cur.paymentsOptions.vkpayAvailable&&(s.card_id=cur.uiTransferCard.val(),cur.paymentsOptions.onlyCards||(s.receive_method=radioval("receiveOptions")),"-1"===s.card_id)){if(!t)return void k.showPinBox();s.vkpay_pin=t}if(k.isVKPayTransfer()&&k.isVKPayFillUpEnabled()&&k.isFillUpCardSelectionVisible()&&(s.fill_up_card_id=cur.uiFillUpCard.val()),cur.paymentsOptions.requestId&&(s.request_id=cur.paymentsOptions.requestId),cur.paymentsOptions.statSessionId&&(s.stat_session_id=cur.paymentsOptions.statSessionId),val("payments_box_error",""),e||!localStorage||this.isVKPayTransfer()||"-1"===s.card_id||(e=k.getLocalStorageNewWindowSign()),e){cur.paymentsOptions.qid&&(s.act="a_continue_money_transfer",s.qid=cur.paymentsOptions.qid),cur.transferWindow=window.open("","Money Transfer");var l=p.PaymentsBox.popupHtml((0,d.getLang)("payments_cards_redirect"),"","");cur.transferWindow.document.write(l)}ajax.post("al_payments.php",s,{onDone:(t,o)=>{var i;o?(cur.paymentsOptions.qid=t.qid,e?cur.transferWindow?k.updateTransferWindow(o):k.showError((0,d.getLang)("payments_payment_cancelled"),"info_msg"):(cur._popup_text=o,cur._popup_callback=function(){(0,a.hide)("payments_money_transfer_wrap","payments_money_transfer_buttons","payments_box_error","payments_money_transfer_prg","payments_iframe_cookie_disabled_div"),show("payments_money_transfer_iframe","payments_iframe_container"),cur.uiTransferTo&&((0,a.hide)("payments_money_transfer_user_select"),show("payments_money_transfer_user")),ge("payments_iframe_container").scrollTop=0,window.addEventListener("message",k.frameMessage,!1),n.changed=!0,n.setOptions({width:510}),!cur.paymentsOptions.requestId&&(0,a.isVisible)(n.titleWrap)&&n.setBackTitle(k.resetSendBox),setStyle(i,{width:ge("payments_iframe_container").parentNode.offsetWidth-(0,r.sbWidth)()+"px"})},(i=ge("transfer_iframe")).contentWindow.document.open("text/html","replace"),i.contentWindow.document.write(o),i.contentWindow.document.close(),cur._popup_callback(),k.startCheckFrameLoad(+new Date))):(cur.paymentsOptions.receiptRedesign&&window.addEventListener("message",k.frameMessage,!1),(0,a.hide)("payments_money_transfer_wrap","payments_money_transfer_buttons","payments_box_error","payments_iframe_container",geByClass1("payments_money_transfer_mc_info_msg","payments_money_transfer_iframe")),cur.uiTransferTo&&((0,a.hide)("payments_money_transfer_user_select"),show("payments_money_transfer_user")),show("payments_money_transfer_iframe","payments_money_transfer_prg"));k.startCheckStatus(t,e)},onFail:e=>(k.resetTransferWindow(),k.showError(e),!0),showProgress:r.lockButton.pbind(o),hideProgress:r.unlockButton.pbind(o)})}else k.sendRequest(i)}else(0,r.notaBene)(cur.uiTransferTo.container)},sendRequest(e){var t=ge("payments_money_transfer_send"),n={to_id:cur.paymentsOptions.toId,owner_id:cur.paymentsOptions.ownerId,amount:e,currency:cur.paymentsOptions.currency,comment:val("transfer_comment"),from:cur.paymentsOptions.from,hash:cur.paymentsOptions.hash};if(cur.paymentsOptions.statSessionId&&(n.stat_session_id=cur.paymentsOptions.statSessionId),cur.paymentsOptions.isChat){if(n.total_amount=parseInt(e),n.amount=parseInt(val("transfer_chunk_amount")),n.pin_message=(0,r.isChecked)("transfer_pin_message")?1:0,(0,r.isChecked)("transfer_autoaccept")&&(cur.autoacceptCardDD&&(n.accept_card=cur.autoacceptCardDD.val()),!n.accept_card||-1==n.accept_card))return k.showError((0,d.getLang)("payments_money_request_error_no_accept_card")),!1;var o=!1,a=k.getTransferLimit("minAmount"),i=k.getTransferLimit("maxAmount");if(a&&n.amount<a?o=(0,d.getLang)("payments_money_request_error_min_chunk_amount_currency"):i&&n.amount>i?o=(0,d.getLang)("payments_money_request_error_max_chunk_amount_currency"):n.total_amount&&n.amount>n.total_amount&&(o=(0,d.getLang)("payments_money_request_error_chunk_amount_too_big")),o)return k.showError(o),(0,r.notaBene)("transfer_chunk_amount"),!1}val("payments_box_error",""),ajax.post("al_payments.php?act=a_send_money_request",n,{onDone:e=>{curBox().hide(),showDoneBox(e,{out:6e3})},onFail:e=>(k.showError(e),!0),showProgress:r.lockButton.pbind(t),hideProgress:r.unlockButton.pbind(t)})},sendBind(){var e=curBox();k.createFrame(),(0,a.hide)("payments_money_transfer_wrap","payments_money_transfer_buttons","payments_box_error","payments_money_transfer_summary_wrap","payments_iframe_container",geByClass1("msg","payments_money_transfer_iframe"),geByClass1("tb_tabs_wrap",e.bodyNode)),show("payments_money_transfer_iframe","payments_money_transfer_prg"),e.setBackTitle(k.resetSendBox),e.setOptions({width:510});var t={type:"card",only_auth:1,hash:cur.paymentsOptions.bindHash};val("payments_box_error",""),ajax.post("al_payments.php?act=a_getvotes_charge",t,{onDone:(t,n)=>{var o;cur._popup_text=n,cur._popup_callback=function(){(0,a.hide)("payments_money_transfer_prg"),show("payments_iframe_container"),ge("payments_iframe_container").scrollTop=0,window.addEventListener("message",k.frameMessage,!1),cur.autoacceptCardDD&&(0,a.isVisible)(cur.autoacceptCardEl)&&cur.autoacceptCardDD.select(cur.paymentsOptions.cards[0][0]),e.changed=!0,setStyle(o,{width:ge("payments_iframe_container").parentNode.offsetWidth-(0,r.sbWidth)()+"px"})},(o=ge("transfer_iframe")).contentWindow.document.open("text/html","replace"),o.contentWindow.document.write(n),o.contentWindow.document.close(),cur._popup_callback(),cur.isPaymentCanceled=cur.isPaymentFailed=!1,cur.moneyTranferCheckInt=setInterval((function(){k.checkBindStatus(t),(cur.isPaymentCanceled||cur.isPaymentFailed)&&(clearInterval(cur.moneyTranferCheckInt),cur.isPaymentFailed?k.showError((0,d.getLang)("payments_landing_cancelled")):k.showError((0,d.getLang)("payments_payment_cancelled"),"info_msg"))}),2e3)},onFail:e=>(k.showError(e),!0)})},createFrame(){var e=ge("payments_iframe_container"),t=(0,a.ce)("iframe",{id:"transfer_iframe",name:"transfer_iframe"},{border:0,height:"445px",width:510-(0,r.sbWidth)()+"px",overflowX:"hidden",overflowY:"hidden"});t.frameBorder=0,e.innerHTML="",e.appendChild(t)},popupWrite(e){if(e.document.innerHTML!==cur._popup_text){e.document.write(cur._popup_text),e.document.close();try{e.document.charset="windows-1251"}catch(e){}e.blur(),e.focus(),cur._popup_callback&&cur._popup_callback()}},resetSendBox(){var e=curBox();if(e){var t=geByClass1("tb_tabs_wrap",e.bodyNode);(0,a.hide)("payments_money_transfer_iframe"),show("payments_money_transfer_wrap","payments_money_transfer_buttons","payments_money_transfer_summary_wrap",t,geByClass1("payments_money_transfer_mc_info_msg","payments_money_transfer_iframe")),cur.uiTransferTo&&((0,a.hide)("payments_money_transfer_user"),show("payments_money_transfer_user_select")),t&&e.setOptions({title:""}),e.changed=!1,e.setOptions({width:510}),(0,a.isVisible)(e.titleWrap)&&e.setBackTitle(!1)}},resetTransferWindow(){cur.transferWindow&&(show("payments_money_transfer_wrap","payments_money_transfer_buttons"),(0,a.hide)("payments_money_transfer_prg","payments_money_transfer_iframe"),cur.transferWindow.location=window.location,cur.transferWindow.close()),cur.transferWindow=void 0},updateTransferWindow(e){var t=cur.transferWindow.document.getElementById("wait_text_container");t&&(t.innerHTML=""),cur.transferWindow.document.write(e),setTimeout((()=>{var e;null===(e=cur.transferWindow.document.getElementById("popup_payment_form"))||void 0===e||e.submit()}),1500),window.addEventListener("message",k.frameMessage,!1),(0,a.hide)("payments_money_transfer_wrap","payments_money_transfer_buttons","payments_box_error","payments_iframe_safari_trouble_div","payments_iframe_container"),val("payments_transfer_box_progress_msg",(0,d.getLang)("payments_waiting_transfer_complete")),show("payments_money_transfer_iframe","payments_money_transfer_prg")},startCheckStatus(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];cur.isPaymentCanceled=cur.isPaymentFailed=!1,cur.moneyTransferRedirected=!1,cur.moneyTranferCheckInt&&clearInterval(cur.moneyTranferCheckInt),cur.moneyTranferCheckInt=setInterval((function(){if(k.checkStatus(e,t),cur.isPaymentCanceled||cur.isPaymentFailed){var n=k.resetTransferWindow();if(n&&n(),clearInterval(cur.moneyTranferCheckInt),e.accept)return void curBox().hide();cur.isPaymentFailed?k.showError((0,d.getLang)("payments_landing_cancelled")):k.showError((0,d.getLang)("payments_payment_cancelled"),"info_msg")}}),2e3)},hideBoxQueue(){for(;boxQueue.count();)boxQueue.hideLast(!1)},stopListeningFrameMessages(){window.removeEventListener("message",k.frameMessage,!1)},checkStatus(e,t){var n={act:"a_check_money_transfer",qid:e.qid,hash:e.hash};e.accept&&(n.accept=e.accept),ajax.post("al_payments.php",n,{onDone:(n,i,s,l)=>{if(!n||4==n&&cur.moneyTransferRedirected){var u;t&&(null===(u=cur.transferWindow)||void 0===u?void 0:u.closed)&&(k.showError((0,d.getLang)("payments_payment_cancelled")),k.stopListeningFrameMessages(),k.resetTransferWindow(),cur.isPaymentFailed=!1,cur.isPaymentCanceled=!1)}else{if(1==n||3==n){if(t)0===cur.paymentsOptions.transferType||cur.paymentsOptions.transferType===E?cur.transferWindow&&!cur.transferWindow.closed&&(k.resetTransferWindow(),k.hideBoxQueue()):(k.resetTransferWindow(),k.hideBoxQueue());else cur.paymentsOptions.transferType===C?(k.resetTransferWindow(),k.hideBoxQueue()):cur.paymentsOptions.receiptRedesign&&((0,a.hide)(document.querySelector(".payments_money_transfer_footer")),(null==l?void 0:l.receipt_link)&&k.setIframeByLink(l.receipt_link));l||showDoneBox(i,{out:6e3});var c=nav.objLoc;e.accept||"settings"!==c[0]||"payments"!==c.act||"transfer"!==c.section||(cur.historyOffset||(cur.historyOffset={}),cur.historyOffset.transfer=0,(0,v.showNextPaymentsHistory)(!1,c.section)),3==n&&(l&&l.title&&(0,o.showFastBox)({title:l.title},i,(0,d.getLang)("payments_remember_card_btn"),k.rememberAcceptCard.pbind(l),(0,d.getLang)("payments_dont_remember_card_btn")),TopNotifier.invalidate(),cur.acceptMoneyBtn&&hasClass((0,a.domPN)(cur.acceptMoneyBtn),"feedback_buttons")?((0,a.re)((0,a.domPN)(cur.acceptMoneyBtn)),cur.acceptMoneyBtn=!1):cur.acceptMoneyBtn&&((0,a.re)(geByClass1("_decline_btn",(0,a.domPN)(cur.acceptMoneyBtn))),domReplaceEl(cur.acceptMoneyBtn,s),cur.acceptMoneyBtn=!1))}else if(2==n||5==n)k.showError(i),k.stopListeningFrameMessages(),cur.isPaymentFailed=!1,cur.isPaymentCanceled=!1;else{if(4==n){var _;if(cur.moneyTransferRedirected=!0,cur._popup_text=s,t&&cur.transferWindow)k.updateTransferWindow(s);else cur._popup_callback=function(){(0,a.hide)("payments_money_transfer_prg"),show("payments_iframe_container"),ge("payments_iframe_container").scrollTop=0,window.addEventListener("message",k.frameMessage,!1),curBox().changed=!0,setStyle(_,{width:ge("payments_iframe_container").parentNode.offsetWidth-(0,r.sbWidth)()+"px"})},(_=ge("transfer_iframe")).contentWindow.document.open("text/html","replace"),_.contentWindow.document.write(s),_.contentWindow.document.close(),cur._popup_callback();return}if(6==n)return void((0,a.isVisible)("payments_money_transfer_prg")||((0,a.hide)("payments_iframe_container"),show("payments_money_transfer_iframe","payments_money_transfer_prg")))}clearInterval(cur.moneyTranferCheckInt)}},onFail:e=>(clearInterval(cur.moneyTranferCheckInt),k.resetTransferWindow()(),k.showError(e),!0)})},checkBindStatus(e){var t={act:"a_getvotes_check",type:"card"};e&&(e.oid||e.qid)&&(t.oid=e.oid,t.qid=e.qid,t.hash=e.hash),ajax.post("al_payments.php",t,{onDone:(e,t,n)=>{e&&(1==e?(k.resetSendBox(),k.enableAutoaccept(),n&&cur.autoacceptCardDD&&((0,a.isVisible)(cur.autoacceptCardEl)||((0,a.hide)(geByTag("A",cur.autoacceptCardEl.parentNode)[0]),show(cur.autoacceptCardEl)),cur.paymentsOptions.cards.unshift([n.bindingId,n.bin]),cur.autoacceptCardDD.setItems(cur.paymentsOptions.cards),cur.autoacceptCardDD.select(n.bindingId))):2!=e&&10!=e||k.showError(t),clearInterval(cur.moneyTranferCheckInt))},onFail:e=>(clearInterval(cur.moneyTranferCheckInt),k.showError(e),!0)})},paymentCanceled(e){e?cur.isPaymentFailed=!0:cur.isPaymentCanceled=!0,k.frameHeight()},frameHeight(e,t){var n=ge("transfer_iframe");e?(e=Math.max(e,250),cur.prevFrameHeight=n.style.height,n.style.height=e+"px"):(n.style.height=cur.prevFrameHeight,(0,a.removeClass)("payments_iframe_container","payments_threeds_frame")),t||(ge("payments_iframe_container").style.height=(e||cur.prevFrameHeight)+15+"px"),ge("payments_iframe_container").scrollTop=0},frameMessage(e){if(curBox()||!cur.paymentsOptions.receiptRedesign){if(!(e.origin.match(/^https?:\/\/([a-zA-Z0-9\-\.]+\.)?money\.mail\.ru$/)||e.origin.match(/^https?:\/\/([a-zA-Z0-9\-\.]+\.)?vk\.com$/)&&cur.paymentsOptions.receiptRedesign))return!1;var t={};if(!e.data||"{"!==e.data.substr(0,1)||"billing"===(t=(0,s.parseJSON)(e.data)).type){vk.dev&&(0,u.debugLog)(t);var n=geByClass1("payments_iframe_container",curBox().bodyNode)||ge("payments_iframe_container");if(cur.transferPageLoaded=!0,"resizeFrame"===t.action?setTimeout(k.frameHeight.pbind(t.action_params.height),200):"submit"===e.data||"3dsPage"===t.action?(setTimeout(k.frameHeight.pbind(600,!0),200),(0,a.addClass)(n,"payments_threeds_frame")):"3dsFinish"===t.action?(k.frameHeight(),(0,a.removeClass)(n,"payments_threeds_frame")):"session_fail"===t.action?((0,a.hide)(n),k.resetTransferWindow(),show("payments_iframe_safari_trouble_div"),k.updateLocalStorageNewWindowSign()):"putPixel"===t.action&&"page_load"===t.action_params.alias?(p.PaymentsBox.finishFormMeasure("dmr_transfer"),(0,c.statlogsValueEvent)("money_transfers",0,"iframe_loaded")):"paySuccess"===t.action&&setTimeout(k.frameHeight.pbind(500),300),cur.paymentsOptions.receiptRedesign){if("make_one_more_transfer"===t.action||"close_window"===t.action)switch(clearInterval(cur.moneyTranferCheckInt),k.resetTransferWindow(),k.stopListeningFrameMessages(),t.action){case"make_one_more_transfer":k.resetSendBox();break;case"close_window":k.hideBoxQueue()}if("get_transfer_source"===t.action){var r=vk.dev?"*":window.location.origin;cur.transferWindow&&cur.transferWindow.postMessage(JSON.stringify({from:cur.paymentsOptions.from}),r);var o=ge("transfer_iframe");o&&o.contentWindow.postMessage(JSON.stringify({action:"set_transfer_source",source:cur.paymentsOptions.from}),r)}}}}else k.stopListeningFrameMessages()},setIframeByLink(e){var t=geByClass1("payments_iframe_container",curBox().bodyNode)||ge("payments_iframe_container"),n=(0,a.ce)("iframe",{id:"transfer_iframe",name:"transfer_iframe"},{border:0,height:"445px",width:"510px",overflowX:"hidden",overflowY:"hidden"});n.frameBorder=0,t.innerHTML="",t.appendChild(n),(0,a.hide)(ge("payments_money_transfer_prg")),show(t),n.src=e},startCheckFrameLoad(e){cur.frameLoadChecker=setInterval((function(){cur.transferPageLoaded?k.stopCheckFrameLoad():+new Date-e>5e3&&(k.stopCheckFrameLoad(),k.resetTransferWindow(),(0,a.hide)("payments_iframe_container"),show("payments_iframe_safari_trouble_div"),k.updateLocalStorageNewWindowSign())}),1e3)},stopCheckFrameLoad(){clearInterval(cur.frameLoadChecker)},initAccept(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n)cur.transferWindow=window.open("/","Money transfer"),cur.transferWindow.document.write(t),(0,a.hide)("payments_box_error","payments_iframe_container","payments_iframe_safari_trouble_div","payments_iframe_container"),val("payments_transfer_box_progress_msg",(0,d.getLang)("payments_waiting_transfer_complete")),show("payments_money_transfer_iframe","payments_money_transfer_prg");else{var r=geByClass1("payments_iframe_container",curBox().bodyNode)||ge("payments_iframe_container");show(r);var o=(0,a.ce)("iframe",{id:"transfer_iframe",name:"transfer_iframe"},{border:0,height:"445px",width:"510px",overflowX:"hidden",overflowY:"hidden"});o.frameBorder=0,r.innerHTML="",r.appendChild(o),o.contentWindow.document.open("text/html","replace"),o.contentWindow.document.write(t),o.contentWindow.document.close(),k.startCheckFrameLoad(+new Date)}window.addEventListener("message",k.frameMessage,!1),k.startCheckStatus(e,n)},rememberAcceptCard(e){var t=curBox()||{},n=t.btns.ok[0];ajax.post("al_payments.php?act=a_remember_money_transfer_accept_card",{card_id:e.card_id,hash:e.hash},{onDone:t.hide,showProgress:r.lockButton.pbind(n),hideProgress:r.unlockButton.pbind(n)})},cleanAmount(e,t,n){if(13!==t.keyCode){var r=e.value.replace(/[^0-9]/g,"");r=r.replace(/^0+/,""),e.value!=r&&(e.value=r),n||(k.checkAmount(r),k.autosizeAmount(),cur.paymentsOptions.cardsFee&&k.updateCardFee(!0))}},getTransferLimit(e){var t="request"===cur.paymentsOptions.boxTab?0:cur.paymentsOptions.transferType;return"balance"===e&&parseInt(t)===C?cur.paymentsOptions.vkpayBalance:(cur.paymentsOptions.isChat&&"request"===cur.paymentsOptions.boxTab&&"maxAmount"===e&&cur.autoacceptCardDD&&-2===cur.autoacceptCardDD.val()&&(t=2),cur.paymentsOptions.limits[t][e])},checkAmount(e,t,n){var i,s=!1,l=hasClass("payments_money_transfer_amount_wrap","money_error"),u=parseInt(null===(i=cur.uiTransferCard)||void 0===i?void 0:i.val())===D,c=k.isVKPayTransfer(),_=k.isVKPayFillUpEnabled();if(t&&l)return c&&e>k.getTransferLimit("balance")&&!_&&(0,o.showFastBox)({title:(0,d.getLang)("payments_vkpay_low_balance_title"),width:420},(0,d.getLang)("payments_vkpay_low_balance_text"),(0,d.getLang)("payments_vkpay_topup_button"),nav.go.pbind("/vkpay#action=refill"),(0,d.getLang)("global_close")),!1;var p=cur.paymentsOptions.isChat&&"request"===cur.paymentsOptions.boxTab,h=p&&(0,r.isChecked)("transfer_participate"),m=k.getTransferLimit("minAmount")*(h?2:1),f=k.getTransferLimit("maxAmount"),v=k.getTransferLimit("balance"),g=langNumeric(m,cur.paymentsOptions.currencyStr,!0),y=(0,d.getLang)("payments_money_transfer_amount_limits").replace("{min_amount}",g),w=!p;if(p&&cur.autoacceptCardDD&&-2===cur.autoacceptCardDD.val()&&(w=!0),u&&c&&_&&!(void 0!==v&&e<=v)||k.hideFillUpCardSelection(),t&&m&&e<m)s=(0,d.getLang)("payments_money_transfer_error_min_amount_currency").replace("{min_amount}",g);else if(f&&w&&e>f){var b=langNumeric(f,cur.paymentsOptions.currencyStr,!0);s=(0,d.getLang)("payments_money_transfer_error_max_amount_currency").replace("{max_amount}",b)}else if(u&&void 0!==v&&e>v){if(c&&_)k.getBindCards().length>0?k.showFillUpCardSelection():s=(0,d.getLang)("payments_money_transfer_low_balance");else s=(0,d.getLang)("payments_money_transfer_low_balance")}var E=ge("payments_money_transfer_notice");if(0!=s)return val(E,s),(0,a.addClass)("payments_money_transfer_amount_wrap","money_error"),!1;if((l||n||e<m)&&((e<m||"request"===cur.paymentsOptions.boxTab)&&val(E,y),(0,a.removeClass)("payments_money_transfer_amount_wrap","money_error")),!t&&p){var C=k.getChunkAmount(e,h);if(val("transfer_chunk_amount",C),m&&e<m)val(E,y);else{var P=langNumeric(h?e-C:e,cur.paymentsOptions.currencyStr,!0);val(E,(0,d.getLang)("payments_money_transfer_will_be_requested").replace("{amount}",P))}}return!0},getChunkAmount(e,t){var n=k.getTransferLimit("minAmount"),r=k.getTransferLimit("maxAmount"),o=Math.max(n||100,Math.ceil(e/Math.max(1,cur.paymentsOptions.chatCount-(t?0:1))));return r&&(o=Math.min(o,r)),o},autosizeAmount(){var e=ge("transfer_amount"),t=(0,a.ce)("span",{innerHTML:e.value||"0"},{fontFamily:getStyle(e,"fontFamily"),fontSize:getStyle(e,"fontSize"),fontWeight:getStyle(e,"fontWeight")});ge("utils").appendChild(t);var n=Math.floor(getSize(t)[0])+50;(0,a.re)(t),cur.amountMinSize||(cur.amountMinSize=80),n<cur.amountMinSize&&(n=cur.amountMinSize),setStyle(e,{width:n})},checkUserMessage(){checkTextLength(cur.paymentsOptions.maxTextLength,ge("transfer_comment"),ge("transfer_comment_limit_message"),!1,!0),(val("transfer_comment_limit_message")&&(0,a.isVisible)("transfer_comment_limit_message")?a.hide:show)("payments_money_transfer_fee_link")},checkRequestParticipate(){k.checkAmount(val("transfer_amount"))},checkRequestNoAmount(e,t){e&&uiTabs.switchTab(e),t?((0,a.hide)("payments_money_transfer_amount_wrap","transfer_participate"),show("payments_money_transfer_no_amount_wrap")):((0,a.hide)("payments_money_transfer_no_amount_wrap"),show("payments_money_transfer_amount_wrap","transfer_participate"),(0,a.elfocus)("transfer_amount"))},checkAutoAccept(){(0,a.toggleClass)("transfer_autoaccept_card","disabled",!(0,r.isChecked)("transfer_autoaccept"))},enableAutoaccept(){(0,r.isChecked)("transfer_autoaccept")||((0,r.checkbox)("transfer_autoaccept",!0),(0,a.removeClass)("transfer_autoaccept_card","disabled"))},showMoneyTransferBox(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return showBox("al_payments.php",g({},e,{act:"money_transfer_box"}),g({},t,{onDone(e,t){null==r||r(),cur.paymentsOptions=t,e.setOptions({width:510,bodyStyle:"padding: 0;",hideButtons:!0,onClean(){cur.moneyTranferCheckInt&&clearInterval(cur.moneyTranferCheckInt),nav.objLoc.z&&"moneysend"===nav.objLoc.z.substr(0,9)&&(delete nav.objLoc.z,nav.setLoc(nav.objLoc))}}),k.init()},onFail:n}))},aboutBox:e=>!(0,o.showFastBox)({title:(0,d.getLang)("payments_money_transfer_about_title"),width:560},(0,d.getLang)(e)),showError(e,t){e&&(ge("payments_box_error").innerHTML="",(0,i.showMsg)("payments_box_error",e,t||"error"),show("payments_box_error")),ge("payments_money_transfer_wrap")&&(k.resetSendBox(),cur.moneyTranferCheckInt&&(clearInterval(cur.moneyTranferCheckInt),cur.moneyTranferCheckInt=!1))},switchBoxSection(e,t){cur.paymentsOptions.boxTab!==t&&(e&&uiTabs.switchTab(e),"transfer"===cur.paymentsOptions.boxTab&&(0,a.isVisible)("payments_money_transfer_iframe")&&(k.resetSendBox(),cur.moneyTranferCheckInt&&(clearInterval(cur.moneyTranferCheckInt),cur.moneyTranferCheckInt=!1)),"transfer"===cur.paymentsOptions.boxTab&&cur.paymentsMoneyBoxTTHide&&cur.paymentsMoneyBoxTTHide(),"link"===cur.paymentsOptions.boxTab&&((0,a.hide)("payments_money_link_box"),show("payments_money_transfer_request_box"),k.hideMoneyLinksTooltip()),cur.paymentsOptions.boxTab=t,"link"===t?((0,a.hide)("payments_money_transfer_request_box"),show("payments_money_link_box"),k.hideMoneyLinksTooltip(),k.genQRCode(),k.showMoneyLinksTooltip()):(val("payments_money_transfer_summary",cur.paymentsOptions.boxSections[t].summary),val("payments_money_transfer_send",cur.paymentsOptions.boxSections[t].btn),val("payments_money_transfer_user_select_label",cur.paymentsOptions.boxSections[t].user_select_label),k.checkAmount(val("transfer_amount"),!1,!0),"transfer"===t&&k.updateCardFee(!0)),toggle("payments_money_transfer_nf_warning","transfer"===t),toggle("payments_money_transfer_methods","transfer"===t),toggle("payments_money_transfer_vk_pay_offer","transfer"===t),k.renderSelectBox(),setTimeout(a.elfocus.pbind("transfer_amount"),100))},genQRCode(){var e=ge("payments_money_transfer_qr");if(!e.childNodes.length){val(e,_.createQR(cur.paymentsOptions.transferLink,115,"qr-code",{isShowLogo:!0,isShowBackground:!1}))}},shareQRCode(){k.hideMoneyLinksTooltip(!0),showBox("like.php",{act:"publish_box",object:"moneysend"+vk.id+"_0",list:""})},downloadQRCode(){if(!cur.paymentsOptions.qrUrl)return!1;var e=(0,a.ce)("iframe",{src:cur.paymentsOptions.qrUrl});return utilsNode.appendChild(e),cur.qrFrame&&(0,a.re)(cur.qrFrame),cur.qrFrame=e,!1},hideLinkCopied(){(0,l.each)((0,a.geByClass)("_link_copied","payments_money_link_box"),a.hide.pbind(this))},copyLinkToClipboard(e){k.hideLinkCopied(),k.hideMoneyLinksTooltip(!0),e.select(),document.execCommand("copy");var t=geByClass1("_link_copied",gpeByClass("_link_wrap",e));show(t)},renderSelectBox(){if(cur.uiTransferTo){var e="transfer"===cur.paymentsOptions.boxTab;cur.uiTransferTo.setData([]),cur.uiTransferTo.setOptions({autocomplete:!1}),cur.uiTransferTo.setData(cur.paymentsOptions.friends.filter((function(t){return e||!0===t[7]}))),cur.uiTransferTo.setOptions({autocomplete:!0}),cur.paymentsOptions.toId=null,cur.paymentsOptions.hash=null,cur.uiTransferTo.clear(),cur.uiTransferTo.deselectTokens(),val("payments_money_transfer_methods","")}},updateImHistory(e,t,n){var r=geByClass1("_money_transfer"+t,e);if(r){var o=geByClass1("_accept_btn",r);o&&((0,a.re)(geByClass1("_decline_btn",(0,a.domPN)(o))),domReplaceEl(o,n))}},initHistoryBox(e,t,n,o){var i=ge("ui_money_transfer_load_more");if(i){var s=ge("settings_transfer_history").tBodies[0];cur.userAutoScroll=new h.default(s,{offset:n,onNoMore:a.re.pbind(i),onNeedRows:(n,r)=>{var a={act:"money_transfer_history_box",offset:r,owner_id:e};t&&(a.request_id=t),o&&(a.hash=o),ajax.post("al_payments.php",a,{onDone:n})},drawRows:(e,t)=>{if(browser.msie){var n=(0,a.se)("<table>"+t+"</table>");for(var r in t=geByTag("tr",n))1==t[r].nodeType&&e.appendChild(t[r])}else e.insertAdjacentHTML("beforeEnd",t)},showProgress:r.lockButton.pbind(i),hideProgress:r.unlockButton.pbind(i),rowClass:"settings_history_row"})}},historyBox(){showBox("al_payments.php?act=money_transfer_history_box")},showMoneyLinksTooltip(){var e,t,n;cur.paymentsOptions.moneylinks_feature_tooltip&&!cur.moneyLinksTooltip&&((0,a.isVisible)("payments_money_link_box")?(e=geByClass1("payments_money_transfer_link_copy_btn","payments_money_link_box"),t=(0,d.getLang)("payments_money_link_btn_feature_text"),n={forceSide:"right",width:320,offset:[6,0]}):(e=geByClass1("ui_tab",geByClass1("_moneylink_tab","box_layer")))&&(t=(0,d.getLang)("payments_money_link_tab_feature_text"),n={forceSide:"bottom",width:250,offset:[0,4]}),e&&setTimeout((function(){cur.moneyLinksTooltip=new ElementTooltip(e,extend({content:'<div class="feature_tooltip__close" onclick="cur.moneyLinksTooltip.hide();"></div>'+t,cls:"feature_intro_tt feature_info_tooltip moneylinks_feature_tooltip",autoShow:!1,noHideOnClick:!0,noAutoHideOnWindowClick:!0,appendTo:geByClass1("ui_tabs","box_layer"),onHide:k.hideMoneyLinksTooltip.pbind(!0)},n)),cur.moneyLinksTooltip.show(),cur.destroy.push(k.hideMoneyLinksTooltip)}),500))},hideMoneyLinksTooltip(e){e&&ajax.post("al_index.php",{act:"hide_feature_tt",hash:cur.paymentsOptions.moneylinks_feature_tooltip_hash,type:"moneylinks"}),cur.moneyLinksTooltip&&(cur.moneyLinksTooltip.destroy(),delete cur.moneyLinksTooltip)},showPinBox(){(0,a.addClass)(curBox().bodyNode,"payments_box_code_showed"),show("payments_money_transfer_layer_bg","payments_money_transfer_code_box"),(0,l.each)((0,a.geByClass)("_code","payments_money_transfer_code_wrap"),(function(){val(this,"")})),(0,a.elfocus)("payments_code1"),curBox().changed=!0;var e=document.getElementById("payments_money_transfer_send");e&&(e.style.pointerEvents="none",setTimeout((()=>{e.style.pointerEvents="auto"}),0))},hidePinBox(){(0,a.hide)("payments_money_transfer_layer_bg","payments_money_transfer_code_box"),(0,a.removeClass)(curBox().bodyNode,"payments_box_code_showed"),curBox().changed=!1},checkVkPayOfferBox(){var e="payments_money_transfer_vk_pay_offer_box",t=!(0,r.isChecked)(e);(0,r.disableButton)("payments_money_transfer_send",!t),(0,r.checkbox)(e)},onPinKeyUp(e){var t=e.target;if(8==e.keyCode){var n=domPS(t);if(n){var r=n.getAttribute("data-index");val(n,""),cur.paymentsOptions.vkpcode[r]="",cur.paymentsOptions.vkpcode[r-1]="",(0,a.elfocus)(n)}}},onPinEnter(e){var t=e.target;if(!(e.keyCode>=47&&e.keyCode<=57))return cancelEvent(e);var n=t.getAttribute("data-index");cur.paymentsOptions.vkpcode||(cur.paymentsOptions.vkpcode=[]),cur.paymentsOptions.vkpcode[n-1]=e.key,val(t,String.fromCharCode(9679));var r=domNS(t);r?setTimeout(a.elfocus.pbind(r),10):setTimeout((function(){t.blur(),k.checkPin()}),10)},onPinClick(e){var t=e.target,n=domPS(t);if(n&&!val(n))return cancelEvent(e)},checkPin(){var e=cur.paymentsOptions.vkpcode.join("");delete cur.paymentsOptions.vkpcode,val("payments_money_transfer_code_error",""),ajax.post("al_payments.php?act=a_check_vkpay_pin",{code:e,hash:cur.paymentsOptions.pinHash},{onDone:t=>{if(1==t)return(0,a.hide)(geByClass1("_code_enter","payments_money_transfer_code_box")),void show(geByClass1("_code_recover","payments_money_transfer_code_box"));k.hidePinBox(),k.send(!1,e)},onFail:e=>(e&&val("payments_money_transfer_code_error",e),(0,l.each)((0,a.geByClass)("_code","payments_money_transfer_code_wrap"),(function(){val(this,""),(0,r.notaBene)(this)})),(0,a.elfocus)("payments_code1"),!0),showProgress:function(){(0,a.hide)("payments_money_transfer_code_wrap"),show("payments_money_transfer_spinner")},hideProgress:function(){(0,a.hide)("payments_money_transfer_spinner"),show("payments_money_transfer_code_wrap")}})},onReceiveMethodChange(e,t,n){(0,r.radiobtn)(e,t,n),k.updateTransferType(e),k.updateCardFee(!0)},updateTransferType(e){void 0!==cur.paymentsOptions.forceType?cur.paymentsOptions.transferType=cur.paymentsOptions.forceType:parseInt(cur.uiTransferCard.val())===D?cur.paymentsOptions.transferType=C:cur.paymentsOptions.onlyCards?cur.paymentsOptions.transferType=0:(void 0===e&&(0,l.each)(radioBtns.receiveOptions.els,(function(){hasClass(this,"on")&&(e=this)})),void 0!==e&&(cur.paymentsOptions.transferType=intval(attr(e,"data-type")))),k.checkAmount(val("transfer_amount"),!1,!0)},updateCardFee(e){if(cur.uiTransferCard&&"request"!==cur.paymentsOptions.boxTab){var t=intval(val("transfer_amount")),n=k.getTransferLimit("minAmount"),r=ge("payments_money_transfer_to_card"),o=cur.uiTransferCard.val(),i=cur.paymentsOptions.cardsFee[o],s=0===cur.paymentsOptions.transferType,l=parseInt(o)===D||cur.paymentsOptions.forceType===E||cur.paymentsOptions.forceType===C,u=parseInt(o)!==D&&!cur.paymentsOptions.receiverVkpay||0===cur.paymentsOptions.forceType,c=(0,d.getLang)("payments_transfer_without_fee"),_=(0,d.getLang)("payments_money_transfer_btn"),p=l?"payments_money_transfer_to_vkpay":"payments_money_transfer_to_card",h=u,m=0;if((0,a.toggleClass)(r,"disabled",l),(0,a.toggleClass)("payments_money_transfer_to_vkpay","disabled",u),0===parseInt(o))s&&(c=cur.paymentsOptions.mastercardPromoEnabled?(0,d.getLang)("payments_transfer_method_without_fee_for_mastercard"):(0,d.getLang)("payments_money_transfer_commission_undefined"));else if(parseInt(o)===D)h=!0;else if(s&&i&&(i.percent||i.vkPay&&i.vkPay.percent)){var f=i.free_amount_rest||0,v=i.free_amount_min||0;if(!f||t>f||v&&t<v){var g=t;t>f&&(g=t-f);var y=i.percent||0,w=i.min||0,b=i.add||0;(m=g*y)<w?m=w:m+=b,m=+(Math.round(m+"e+3")+"e-3"),m=+(Math.round(m+"e+2")+"e-2"),c=langNumeric(m,cur.paymentsOptions.cardsFeeStr,!0)}if(i.vkPay){var P=t+m,x=i.vkPay.percent||0,T=i.vkPay.min||0,S=i.vkPay.add||0,B=P*x;B<T?B=T:B+=S,m=+(Math.round(m+B+"e+2")+"e-2"),B=+(Math.round(B+"e+2")+"e-2"),c=langNumeric(m,cur.paymentsOptions.cardsFeeStr,!0),c+=langNumeric(B,cur.paymentsOptions.cardsFeeVkPayStr,!0)}}!p||e&&!h||ge(p).classList.contains("on")||ge(p).click(),t>=n&&!hasClass("payments_money_transfer_amount_wrap","money_error")&&(val("payments_money_transfer_notice",c),0===parseInt(o)&&s||(_=langNumeric(+(Math.round(t+m+"e+2")+"e-2"),cur.paymentsOptions.buttonAmountStr,!0))),val("payments_money_transfer_send",_)}},isVKPayFillUpEnabled:()=>1==cur.paymentsOptions.vkpayFillUpEnabled,isVKPayTransfer:()=>parseInt(cur.paymentsOptions.transferType)===C,getBindCards:()=>cur.paymentsOptions.cards.filter((e=>{var t=parseInt(e[0]);return 0!==t&&t!==D})),hideFillUpCardSelection(){(0,a.hide)("payments_money_transfer_fill_up_cards")},showFillUpCardSelection(){show("payments_money_transfer_fill_up_cards")},isFillUpCardSelectionVisible:()=>(0,a.isVisible)("payments_money_transfer_fill_up_cards")}},2952:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{PaymentsBox:()=>PaymentsBox});var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6108),core_js_modules_es6_object_to_string__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6253),core_js_modules_es6_regexp_match__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1466),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9357),_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4914),_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1260),_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5456),_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2699),_web_lib_message_box__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1563),_web_lib_tooltip_utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(9016),_web_lib_lang__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(6886),_web_lib_browser__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(6566),_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(6900),_web_lib_feature_entries__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(9433),_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(9921),_web_lib_ui_util__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(139),_web_lib_accessibility__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(3439),_web_lib_utils__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(7851),_web_payments_app_order_box__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(2808),_shared_evbus__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(8533),_icons_desktop_getIcon24BrowserBack__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(7770);class PaymentsBox{static initHandlers(){(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.tq)().setInteractiveHandler("PaymentsBox/ps_promo_banner_click",(e=>{(0,_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_12__.statlogsValueEvent)("payments_ps_promo_banner_event","","votes_buypage","relocate"),PaymentsBox.getVotesAmounts(!1,"spasibo",e.payload.target)})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.tq)().setInteractiveHandler("PaymentsBox/save_phone_prefix_click",(e=>{(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.elfocus)(geByTag1("input",e.payload.target.parentNode),0,0)})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.tq)().setInteractiveHandler("PaymentsBox/save_phone_input",(e=>{13===e.payload.event.keyCode&&PaymentsBox.saveSmsPhone()})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.tq)().setInteractiveHandler("PaymentsBox/get_votes_amounts",(e=>{PaymentsBox.getVotesAmounts(!1,e.payload.dataAttrs.name,e.payload.target)})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.tq)().setInteractiveHandler("PaymentsBox/phone_code_input",(e=>{13===e.payload.event.keyCode&&PaymentsBox.smsSendCode()})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.tq)().setInteractiveHandler("PaymentsBox/show_confirm_on_enter",(e=>{13===e.payload.event.keyCode&&PaymentsBox.showConfirm()})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.tq)().setInteractiveHandler("PaymentsBox/show_confirm",(()=>{PaymentsBox.showConfirm()})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.tq)().setInteractiveHandler("PaymentsBox/show_types",(()=>{PaymentsBox.showTypes()})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.tq)().setInteractiveHandler("PaymentsBox/show_terminal_tt",(e=>{PaymentsBox.paymentsShowTerminalTT(e.payload.target,e.payload.dataAttrs.name)})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.tq)().setInteractiveHandler("PaymentsBox/show_phone_form",(()=>{PaymentsBox.showPhoneForm(2)})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.tq)().setInteractiveHandler("PaymentsBox/show_phone_form_1",(()=>{PaymentsBox.showPhoneForm(1)})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.tq)().setInteractiveHandler("PaymentsBox/show_all_prices",(e=>{PaymentsBox.showAllPrices(e.payload.target)})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.tq)().setInteractiveHandler("PaymentsBox/change_option",(e=>{var t=e.payload.dataAttrs,n=t.index,r=t.name;PaymentsBox.onChangeOption(e.payload.target,n,r)})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.tq)().setInteractiveHandler("PaymentsBox/focus_votes",(()=>{PaymentsBox.onChangeOption(geByClass1("last","payments_getvotes_amounts"),4,"payments_getvotes_amounts")})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.tq)().setInteractiveHandler("PaymentsBox/update_pay_amount",(e=>{PaymentsBox.updatePayAmount(e.payload.target)})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.tq)().setInteractiveHandler("PaymentsBox/make_checkbox",(e=>{(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.checkbox)(e.payload.target)})),(0,_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.tq)().setInteractiveHandler("PaymentsBox/toggle_email",(e=>{PaymentsBox.toggleEmail(e.payload.target)}))}static initialize(e){PaymentsBox.initHandlers(),window.curNotifier&&curNotifier.idle_manager&&curNotifier.idle_manager.started&&(isArray(cur.onUnidle)||(cur.onUnidle=[]),isArray(cur.onIdle)||(cur.onIdle=[]),cur.onUnidle.push((()=>{cur.getVotesDoneHide=!0})),cur.onIdle.push((()=>{cur.getVotesDoneHide=!1})));var t={bodyStyle:"padding: 0;",hideButtons:!0};if(cur.paymentsWideBox){var n={width:cur.checkoutEnabled?800:780,height:390};cur.checkoutEnabled||(n.title=!1),t=extend(t,n)}else t=extend(t,{width:480});if(e.setOptions(extend(t,{onClean:()=>{var t="sms"===cur.votesType&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_box_progress");for(var n in cur.smsChkStatInt&&clearInterval(cur.smsChkStatInt),cur.paymentsWaitingCache)cur.paymentsWaitingCache[n][2]&&clearInterval(cur.paymentsWaitingCache[n][2]);cur.smsAmountsInt&&clearTimeout(cur.smsAmountsInt),cur.isPaymentsAppOrder&&(cur.isPaymentComplete||cur.isPaymentAttemted)?e.onDone?e.onDone():(e.hide(),_web_payments_app_order_box__WEBPACK_IMPORTED_MODULE_18__.AppOrderBox.processOrder(1,e)):cur.isPaymentsAppOrder&&!cur.paymentsCheckOrderCnt&&cur.paymentsOrderBillPeriod&&cur.onSubscriptionCancel?cur.onSubscriptionCancel():cur.isPaymentsAppOrder&&!cur.paymentsCheckOrderCnt&&cur.onAppOrderCancel?cur.onAppOrderCancel():cur.paymentsTryCompleteOrder&&(cur.isPaymentComplete||cur.isPaymentAttemted)&&e.onDone&&e.onDone(),PaymentsBox.removeCheckOffersEvent(),window.removeEventListener("message",PaymentsBox.frameMessage,!1),window.removeEventListener("message",PaymentsBox.handlePaymentCompleteMessage,!1),t&&(0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_5__.showDoneBox)(getLang("payments_get_votes_box_close_notice"),{out:6e3})}})),(cur.fromInstantPay||cur.paymentsAuthPayment)&&(e.onDone=!1),cur.votesBox=e,cur.destroy.push((()=>{for(;boxQueue.count();)boxQueue.hideLast(!1)})),cur.checkoutEnabled)if(cur.paymentsWideBox){PaymentsBox.showProgress(""),PaymentsBox.submitDmrCheckout(cur.paymentsPreferVotes,!0);var r=ge("payments_wide_box_close_btn");r&&(r.onclick=cur.votesBox.hide)}else show("payments_getvotes_cont"),window.radioBtns.payments_getvotes_amounts={els:Array.prototype.slice.apply((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.geByClass)("radiobtn",ge("payments_getvotes_amounts")))},PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.showConfirm);else cur.votesTypeInit&&(PaymentsBox.getVotesAmounts(!1,cur.votesTypeInit),cur.votesTypeInit=!1)}static initPhoneCountry(e,t){cur.countries=e,cur.defCountry=t,cur.uiPhoneCountry=new Dropdown(ge("phone_country"),cur.countries,{selectedItems:t,big:!0,autocomplete:!0,multiselect:!1,onChange:e=>{var t=ge("phone"),n=ge("payments_phone_prefix"),r=cur.uiPhoneCountry.val_full()[3];if(0===e||"0"===e||""===e||!1===e||void 0===e){var o=val(n);if(r==o)return;for(var a=0,i=cur.countries.length;a<i;++a)if(cur.countries[a][3]==o)return cur.uiPhoneCountry.val(cur.countries[a]);return cur.uiPhoneCountry.val(cur.defCountry,!0)}val(n,r),setTimeout(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.elfocus.pbind(t),0)}}),cur.destroy.push(cur.uiPhoneCountry.destroy.bind(cur.uiPhoneCountry))}static initPhoneNumber(e){e&&["input","keydown","keyup","mousedown","mouseup","select","contextmenu","drop"].forEach((function(t){e.addEventListener(t,(e=>{var t=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.domClosestByTag)("input",e.target);t&&(t.value=t.value.replace(/\D/g,""))}))}))}static validateEmail(e){return e.length<64&&e.match(/^.{1,40}@.{1,40}$/)&&e.match(/^([a-z0-9_\-]{0,40}\.){0,10}[a-z0-9_\-*]{1,40}@(([a-z0-9][a-z0-9_\-]{0,40})?[a-z0-9]\.){1,6}[a-z]{2,7}$/i)}static getEmail(){var e=!1;if(cur.paymentsEmailCheckbox)if((0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.isChecked)(cur.paymentsEmailCheckbox)){if(!(e=(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_7__.trim)(val(cur.paymentsEmailInput))))return(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.notaBene)(cur.paymentsEmailInput),""}else e="false";return e}static toggleEmail(e){"INPUT"===e.tagName&&(e=geByClass1("checkbox",(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.domPN)(e)),(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.isChecked)(e))||((0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.checkbox)(e),(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.isChecked)(e)&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.elfocus)(cur.paymentsEmailInput))}static unbind(e,t,n,r){if(!(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.isButtonLocked)("payments_getvotes_submit")){var o=cur.paymentsPreferVotes;if(n){var a={act:"a_del_instant_method",type:e,prefer_votes:r?-1:o,hash:t};cur.isPaymentsAppOrder&&cur.paymentsOrderAppId&&(a.aid=cur.paymentsOrderAppId),ajax.post("al_payments.php",a,{onDone:PaymentsBox.getVotesAmountsOnDone,onFail:function(e){return PaymentsBox.showBoxError(e),!0},showProgress:()=>{cur.confirmBox?cur.confirmBox.showProgress():(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.lockButton)("payments_getvotes_submit")},hideProgress:()=>{cur.confirmBox?cur.confirmBox.hide():(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.unlockButton)("payments_getvotes_submit")}})}else{var i="card"==e?getLang("payments_unbind_card_confirm"):getLang("payments_revoke_token_confirm");cur.confirmBox=(0,_web_lib_message_box__WEBPACK_IMPORTED_MODULE_8__.showFastBox)({title:getLang("global_action_confirmation"),dark:1,forceNoBtn:1,bodyStyle:"padding: 20px; line-height: 160%;"},i,getLang("payments_unbind_card_btn"),(()=>{PaymentsBox.unbind(e,t,!0)}),getLang("global_cancel"))}}}static instantPay(){if(!(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.isButtonLocked)("payments_getvotes_submit")){var e=(0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_5__.curBox)();if(cur.isPaymentAttemted=!0,cur.paymentsAuthPayment)e.hide();else{var t,n,r;if(ge("payments_getvotes_amounts")&&(cur.votesAmountsVal=(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.radioval)("payments_getvotes_amounts")),void 0===cur.votesAmountsData[cur.votesAmountsVal]){var o=ge("votes_num")?parseInt(ge("votes_num").value,10):0;if(!(o>0))return;cur._otherVotes=o,t=cur._otherAmount,n=cur._otherAmount,r=cur.votesAmountCustomTimeHash}else t=cur.votesAmountsData[cur.votesAmountsVal][2],n=cur.votesAmountsData[cur.votesAmountsVal][3],r=cur.votesAmountsData[cur.votesAmountsVal][4];var a={act:"a_getvotes_charge",type:cur.votesType,instant_pay:1,amount:t,order_amount:n,hash:r};cur.statSessionId&&(a.stat_session_id=cur.statSessionId),cur.isPaymentsAppOrder&&cur.paymentsOrderId&&(a.order_id=cur.paymentsOrderId,a.order_app_id=cur.paymentsOrderAppId,a.order_bill_period=cur.paymentsOrderBillPeriod,a.order_hash=cur.paymentsOrderHash),PaymentsBox.disablePaymentTypesRows(),ajax.post("al_payments.php",a,{onDone:(e,t)=>{cur.smsChkStatCnt=0,cur.smsChkStatInt=setInterval((()=>{PaymentsBox.checkStatus(cur.votesType,e)}),2e3),PaymentsBox.showProgress&&PaymentsBox.showProgress()},onFail:e=>(PaymentsBox.showBoxError(e),!0),showProgress:_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.lockButton.pbind("payments_getvotes_submit"),hideProgress:_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.unlockButton.pbind("payments_getvotes_submit")})}}}static showAllPrices(e){return each((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.geByClass)("radiobtn",ge("payments_getvotes_amounts")),((e,t)=>{show(t)})),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.re)(e),!1}static paymentsShowTerminalTT(e,t){var n="";cur.paymentsTooltips[t]&&(n+=cur.paymentsTooltips[t]),n&&(0,_web_lib_tooltip_utils__WEBPACK_IMPORTED_MODULE_9__.showTooltip)(e,{text:n,dir:"auto",slide:15,className:"payments_terminal_tt",shift:[-3,3],hasover:1})}static updatePayAmount(o){var v=o.value.replace(/[^0-9]/g,""),i=(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_7__.intval)(parseInt(v,10));v=i<1e4?i:parseInt(i.toString().substr(0,4),10),o.value!=v&&(o.value=v);var amount=0;if(cur.votesAmountsData.calcPayAmount){-1==cur.votesAmountsData.calcPayAmount.indexOf("return")&&(cur.votesAmountsData.calcPayAmount="return "+cur.votesAmountsData.calcPayAmount);var calcFunc="(function(votes){"+cur.votesAmountsData.calcPayAmount+";})("+v+")";try{amount=eval(calcFunc)}catch(e){(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_14__.logEvalError)(e,calcFunc)}amount=amount?Math.ceil(100*amount)/100:0,amount=parseInt(amount,10)==amount?amount.toFixed(0):amount.toFixed(2),cur._otherAmount=amount,cur._otherVotes=v}var bonusElement=ge("payments_other_votes_bonus");if(bonusElement&&(cur.votesAmountsData.bonusesTable||cur.votesAmountsData.calcBonusVotes)){var bonus=0;if(cur.votesAmountsData.calcBonusVotes){var _calcFunc="(function(votes){"+cur.votesAmountsData.calcBonusVotes+";})("+v+")";try{bonus=eval(_calcFunc)}catch(e){(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_14__.logEvalError)(e,_calcFunc)}}else for(var j in cur.votesAmountsData.bonusesTable)if(v>=j){var _bonus=Math.floor(v*cur.votesAmountsData.bonusesTable[j]/j);_bonus>bonus&&(bonus=_bonus)}bonus?(bonusElement.innerHTML=getLang("payments_bonus_votes",bonus),show(bonusElement)):hide(bonusElement)}cur.votesAmountsData.currency_str?ge("votes_amount").innerHTML=amount>0?(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_10__.langNumeric)(amount,cur.votesAmountsData.currency_str):"":ge("votes_amount").innerHTML=amount>0?getLang("payments_votes_cost_in_rubles",amount):""}static onChangeOption(e,t,n){var r;if((0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.radiobtn)(e,t,n),"payments_getvotes_amounts"===n){var o=cur.votesAmountsData[t];o?(cur.votesAmountsVal=t,r=getLang("payments_get_votes_for_X").replace("{amount}",o[1]),val("votes_num",""),val("votes_amount",""),cur.paymentsEmailCheckbox&&(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.isChecked)(cur.paymentsEmailCheckbox)&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.elfocus)(cur.paymentsEmailInput)):(r=cur.payments_get_votes,(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.elfocus)("votes_num")),cur.checkoutEnabled?PaymentsBox.setButtons(r,PaymentsBox.showConfirm):PaymentsBox.setButtons(r,cur.votesAmountIsInstant||o&&o.length>=5?PaymentsBox.instantPay:PaymentsBox.showConfirm,cur.paymentsChangeType,PaymentsBox.showTypes)}}static setConfirmButtons(){if("card"!=cur.votesType&&cur.psList[cur.votesType]){var e=cur.forcedPaymentMethod?void 0:cur.paymentsWideBox?getLang("payments_back_to_ps_list"):getLang("payments_go_ps_list"),t=!cur.psList[cur.votesType].in_menu;cur.paymentsInstantPayType==cur.votesType?t?PaymentsBox.setButtons(getLang("payments_pay_order_btn"),PaymentsBox.instantPay,e,PaymentsBox.showPaySystemsList):PaymentsBox.setButtons(getLang("payments_pay_order_btn"),PaymentsBox.instantPay):t?PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.showConfirm,e,PaymentsBox.showPaySystemsList):PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.showConfirm)}else cur.checkoutEnabled?PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.showConfirm):PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.showConfirm,cur.paymentsChangeType,PaymentsBox.showTypes)}static popupWrite(e){return!(e.document.innerHTML==cur._popup_text||!cur._popup_text)&&(e.document.write(cur._popup_text),e.document.close(),e.blur(),e.focus(),cur._popup_callback&&cur._popup_callback(),!0)}static show3DsFrame(e,t){if(cur.threeds_submitted)return!0;cur.threeds_submitted=!0;var n=ge("payments_iframe_container"),r=ge("cards_iframe");r||((r=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.ce)("iframe",{id:"card_iframe",name:"card_iframe"},{border:0,height:"435px",width:n.parentNode.offsetWidth+"px",overflowX:"hidden",overflowY:"hidden"})).frameBorder=0,n.innerHTML="",n.appendChild(r));var o=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.ce)("form",{target:"card_iframe",method:"POST",action:e});for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&o.appendChild((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.ce)("input",{type:"hidden",name:a,value:t[a]}));n.appendChild(o),addClass("payments_iframe_container",cur.checkoutEnabled?"payments_threeds_checkout_frame":"payments_threeds_frame"),show("payments_iframe_container"),hide("payments_box_progress"),o.submit()}static submitDmrCheckout(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_box_progress")||t){(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.lockButton)("payments_getvotes_submit");var n=cur.psList.dmr_checkout,r=!1,o=(e*n.vote_cost).toFixed(2);if(!e||e<=0?r=getLang("payments_web_no_sum"):n.min_amount&&e<n.min_amount?r=getLang("payments_min_amount_limit_votes").replace("%s",n.min_amount):n.max_amount&&e>n.max_amount?r=getLang("payments_max_amount_limit_votes").replace("%s",n.max_amount):void 0!==n.rest_amount_day&&e>n.rest_amount_day?r=getLang("payments_rest_amount_day_votes").replace("%s",n.rest_amount_day):void 0!==n.rest_amount_week&&e>n.rest_amount_week&&(r=getLang("payments_rest_amount_week_votes").replace("%s",n.rest_amount_week)),r)return PaymentsBox.showBoxError(r),!1;var a=PaymentsBox.getEmail();if(""===a)return(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.unlockButton)("payments_getvotes_submit"),!1;if(a&&"false"!==a&&!PaymentsBox.validateEmail(a))return(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.notaBene)(cur.paymentsEmailInput),PaymentsBox.showBoxError(getLang("payments_error_invalid_email")),!1;removeClass("payments_iframe_container","payments_threeds_checkout_frame");var i=ge("payments_iframe_container"),s=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.ce)("iframe",{id:"card_iframe",name:"card_iframe"},{border:0,height:"435px",width:i.parentNode.offsetWidth+"px",overflowX:"hidden",overflowY:"hidden",display:"block",borderRadius:"0 0 4px 4px"});s.frameBorder=0,i.innerHTML="",i.style.height=s.style.height,i.appendChild(s),window.addEventListener("message",PaymentsBox.frameMessage,!1);var l=cur.votesType;!l&&cur.votesTypeInit&&(l=cur.votesTypeInit);var u={act:"a_getvotes_charge",type:"dmr_checkout",hash:cur.paymentsHash,amount:o,stat_session_id:cur.statSessionId,votes:e};l&&(u.pay_method=l),cur.paymentsAuthPayment&&(u.only_auth=1),a&&(u.email=a),cur.votesAmountsData.appoveCode&&(u.approve_code=cur.votesAmountsData.appoveCode),cur.isPaymentsAppOrder&&cur.paymentsOrderId&&(u.order_id=cur.paymentsOrderId,u.order_app_id=cur.paymentsOrderAppId,u.order_bill_period=cur.paymentsOrderBillPeriod,u.order_hash=cur.paymentsOrderHash),cur.votesAmountsData.purchaseDescr&&(u.purchase_descr=cur.votesAmountsData.purchaseDescr),PaymentsBox.trackingProtectionEnabled((function(){(0,_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_12__.statlogsValueEvent)("payments",0,"votes","dmr_checkout","iframe_track_protection_enabled")}),(function(){(0,_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_12__.statlogsValueEvent)("payments",0,"votes","dmr_checkout","iframe_track_protection_disabled")})),ajax.post("al_payments.php",u,{onDone:function(t,r,a){if(t){if(-2==t){var i=getLang("global_money_amount_rub",Math.floor(o));return val("payments_getvotes_confirm_msg",r),val("payments_box_votes_num",e),val("payments_box_amount",i),val("payments_box_votes_money",getLang("payments_money_for_votes",e).replace("{money}",i)),cur.votesAmountsData.resend_msg&&val("payments_getvotes_sms_resend",cur.votesAmountsData.resend_msg),cur.votesAmountsData.confirm_hash=a,val("confcode",""),show("payments_box_confcode_wrap"),PaymentsBox.enablePaymentTypesRows(),void PaymentsBox.approveGetCode()}if((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_confirm")&&PaymentsBox.showVotesAmounts(),!cur.paymentsWideBox){var s=ge("payments_getvotes_submit");PaymentsBox.setButtons(s.innerHTML,PaymentsBox.showConfirm,getLang("global_back"),PaymentsBox.showVotesAmounts)}cur._popup_text=r,cur._popup_callback=!1,cur._popup_callback=function(){(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.unlockButton)("payments_getvotes_submit"),hide("payments_getvotes_wrap","payments_getvotes_buttons","payments_box_progress","payments_box_error"),show("payments_iframe_container"),ge("payments_iframe_container").scrollTop=0};var l=ge("card_iframe");l.contentWindow.document.open("text/html","replace"),l.contentWindow.document.write(r),l.contentWindow.document.close(),cur._popup_callback(),cur.smsChkData=t,cur.isPaymentComplete=cur.isPaymentCanceled=cur.isPaymentFailed=!1,cur.smsChkStatCnt=0,cur.smsChkStatInt=setInterval((function(){PaymentsBox.checkStatus("dmr_checkout",t),n.use_iframe&&(cur.isPaymentCanceled||cur.isPaymentFailed)?(clearInterval(cur.smsChkStatInt),PaymentsBox.showVotesAmounts(),cur.isPaymentFailed?PaymentsBox.showBoxError(getLang("payments_landing_cancelled")):PaymentsBox.showBoxError(getLang("payments_payment_cancelled")),window.removeEventListener("message",PaymentsBox.frameMessage,!1)):cur.isPaymentComplete&&"dmr_checkout"!=n.name&&PaymentsBox.showTypes()}),2e3)}},onFail:e=>((0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.isButtonLocked)("payments_getvotes_submit")||PaymentsBox.setConfirmButtons(),PaymentsBox.showBoxError(e),!0),frame:_web_lib_browser__WEBPACK_IMPORTED_MODULE_11__.browser.safari_mobile})}}static submitCard(e){if(!(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_box_progress")){(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.lockButton)("payments_getvotes_submit");var t=cur.psList.card,n=!1,r=(e*t.vote_cost).toFixed(2);if(!e||e<=0?n=getLang("payments_web_no_sum"):t.min_amount&&e<t.min_amount?n=getLang("payments_min_amount_limit_votes").replace("%s",t.min_amount):t.max_amount&&e>t.max_amount?n=getLang("payments_max_amount_limit_votes").replace("%s",t.max_amount):null!=t.rest_amount_day&&e>t.rest_amount_day?n=getLang("payments_rest_amount_day_votes").replace("%s",t.rest_amount_day):null!=t.rest_amount_week&&e>t.rest_amount_week&&(n=getLang("payments_rest_amount_week_votes").replace("%s",t.rest_amount_week)),n)return PaymentsBox.showBoxError(n),!1;var o,a=PaymentsBox.getEmail();if(""===a)return(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.unlockButton)("payments_getvotes_submit"),!1;if(a&&"false"!==a&&!PaymentsBox.validateEmail(a))return(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.notaBene)(cur.paymentsEmailInput),PaymentsBox.showBoxError(getLang("payments_error_invalid_email")),!1;if(cur.votesAmountsData.needApprove){var i=getLang("global_money_amount_rub",Math.floor(r));return val("payments_getvotes_confirm_msg",cur.votesAmountsData.needApprove),val("payments_box_votes_num",e),val("payments_box_amount",i),val("payments_box_votes_money",getLang("payments_money_for_votes",e).replace("{money}",i)),cur.votesAmountsData.resend_msg&&val("payments_getvotes_sms_resend",cur.votesAmountsData.resend_msg),val("confcode",""),delete cur.votesAmountsData.needApprove,show("payments_box_confcode_wrap"),void PaymentsBox.approveGetCode()}if(PaymentsBox.disablePaymentTypesRows(),t.use_iframe){var s=ge("payments_iframe_container"),l=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.ce)("iframe",{id:"card_iframe",name:"card_iframe"},{border:0,height:"435px",width:s.parentNode.offsetWidth+"px",overflowX:"hidden",overflowY:"hidden"});l.frameBorder=0,s.innerHTML="",s.appendChild(l),window.addEventListener("message",PaymentsBox.frameMessage,!1)}else{o=window.open("","_blank","scrollbars=1, resizable=1, menubar=1, left=0, top=0, toolbar=1, status=1"),cur._popup_text=PaymentsBox.popupHtml(getLang("payments_cards_redirect"),"",""),PaymentsBox.popupWrite(o)}var u={act:"a_getvotes_charge",type:"card",hash:cur.paymentsHash,amount:r,stat_session_id:cur.statSessionId};cur.paymentsAuthPayment&&(u.only_auth=1),a&&(u.email=a),cur.votesAmountsData.appoveCode&&(u.approve_code=cur.votesAmountsData.appoveCode),cur.isPaymentsAppOrder&&cur.paymentsOrderId&&(u.order_id=cur.paymentsOrderId,u.order_app_id=cur.paymentsOrderAppId,u.order_bill_period=cur.paymentsOrderBillPeriod,u.order_hash=cur.paymentsOrderHash),PaymentsBox.trackingProtectionEnabled((function(){(0,_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_12__.statlogsValueEvent)("payments",0,"votes","dmr","iframe_track_protection_enabled")}),(function(){(0,_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_12__.statlogsValueEvent)("payments",0,"votes","dmr","iframe_track_protection_disabled")})),ajax.post("al_payments.php",u,{onDone:function(n,a,i){if(n){if(-2==n){t.use_iframe||o.close();var s=getLang("global_money_amount_rub",Math.floor(r));return val("payments_getvotes_confirm_msg",a),val("payments_box_votes_num",e),val("payments_box_amount",s),val("payments_box_votes_money",getLang("payments_money_for_votes",e).replace("{money}",s)),cur.votesAmountsData.resend_msg&&val("payments_getvotes_sms_resend",cur.votesAmountsData.resend_msg),cur.votesAmountsData.confirm_hash=i,val("confcode",""),show("payments_box_confcode_wrap"),PaymentsBox.enablePaymentTypesRows(),void PaymentsBox.approveGetCode()}if((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_confirm")&&PaymentsBox.showVotesAmounts(),t.use_iframe||((0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.unlockButton)("payments_getvotes_submit"),PaymentsBox.showProgress()),cur._popup_text=a,cur._popup_callback=!1,t.use_iframe){cur._popup_callback=function(){(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.unlockButton)("payments_getvotes_submit"),hide("payments_getvotes_wrap","payments_getvotes_buttons","payments_box_progress","payments_box_error"),show("payments_iframe_container"),ge("payments_iframe_container").scrollTop=0};var l=ge("card_iframe");l.contentWindow.document.open("text/html","replace"),l.contentWindow.document.write(a),l.contentWindow.document.close(),cur._popup_callback()}else o.document.open("text/html","replace"),o.document.write(a),o.document.close(),o.blur(),o.focus();cur.smsChkData=n,cur.isPaymentComplete=cur.isPaymentCanceled=cur.isPaymentFailed=!1,cur.smsChkStatCnt=0,cur.smsChkStatInt=setInterval((function(){PaymentsBox.checkStatus("card",n),!t.use_iframe&&o.closed?setTimeout((function(){cur.isPaymentComplete||(clearInterval(cur.smsChkStatInt),PaymentsBox.showBoxError(getLang("payments_payment_cancelled"),"info_msg"),PaymentsBox.setConfirmButtons())}),500):t.use_iframe&&(cur.isPaymentCanceled||cur.isPaymentFailed)?(clearInterval(cur.smsChkStatInt),PaymentsBox.showVotesAmounts(),cur.isPaymentFailed?PaymentsBox.showBoxError(getLang("payments_landing_cancelled")):PaymentsBox.showBoxError(getLang("payments_payment_cancelled")),window.removeEventListener("message",PaymentsBox.frameMessage,!1)):cur.isPaymentComplete&&"alfabank"!=t.name&&"dmr"!=t.name&&PaymentsBox.showTypes()}),2e3)}},onFail:function(e){return t.use_iframe||o.close(),(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.isButtonLocked)("payments_getvotes_submit")||PaymentsBox.setConfirmButtons(),PaymentsBox.showBoxError(e),!0},frame:_web_lib_browser__WEBPACK_IMPORTED_MODULE_11__.browser.safari_mobile})}}static trackingProtectionEnabled(e,t){var n=new XMLHttpRequest;n.open("GET","https://top-fwz1.mail.ru/counter2?id=1",!0),n.onreadystatechange=function(){200!==n.status?e():t(),n.onreadystatechange=null},n.send()}static submitPaymentSystem(e){if(!(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_box_progress")){var t=cur.votesType,n=cur.psList[t],r=!1,o=0,a=0,i=0,s=0;if(!n.simple_redirect){if(!e)return;o=(e*n.vote_cost).toFixed(2),a=(e*n.vote_cost/cur.usdRate).toFixed(2),i=Math.floor(o),s=100*(o-i),!e||e<=0?r=getLang("payments_web_no_sum"):n.min_amount&&e<n.min_amount?r=getLang("payments_min_amount_limit_votes").replace("%s",n.min_amount):n.max_amount&&e>n.max_amount?r=getLang("payments_max_amount_limit_votes").replace("%s",n.max_amount):null!=n.rest_amount_day&&e>n.rest_amount_day?r=getLang("payments_rest_amount_day_votes").replace("%s",n.rest_amount_day):null!=n.rest_amount_week&&e>n.rest_amount_week&&(r=getLang("payments_rest_amount_week_votes").replace("%s",n.rest_amount_week))}if(r)return PaymentsBox.showBoxError(r),!1;var l=PaymentsBox.getEmail();if(""!==l)if(!l||"false"===l||PaymentsBox.validateEmail(l)){if(PaymentsBox.showProgress(),PaymentsBox.disablePaymentTypesRows(),"mailmoney_vkpay"===t){var u={act:"a_getvotes_charge",type:t,hash:cur.paymentsHash,amount:o,random_auth:0,stat_session_id:cur.statSessionId};ajax.post("al_payments.php",u,{onDone:e=>{var t=(0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_5__.curBox)(),n={noLocChange:1,skipBoxesHide:1,noClickHide:1};cur.isPaymentsAppOrder?cur.app.openAppInLayer(e,!1,!0,n):(0,_web_lib_feature_entries__WEBPACK_IMPORTED_MODULE_13__.showWiki)({w:e},!1,!1,n),t._hide(!1,!0),cur.onExternalAppDone=e=>{t._show(),e.status||(PaymentsBox.showBoxError(getLang("payments_payment_cancelled"),"info_msg"),PaymentsBox.setConfirmButtons(),clearInterval(cur.smsChkStatInt)),cur.onExternalAppDone=null,window.WkView&&WkView.hide(!1,!0)},cur.smsChkStatCnt=0,cur.smsChkStatInt=setInterval((function(){PaymentsBox.checkStatus(cur.votesType,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.data,null,t)}),2e3)},onFail:e=>(PaymentsBox.showBoxError(e),PaymentsBox.setConfirmButtons(),!0)})}else{if(cur.votesAmountsData.oauth_url&&(!ge("payments_remember_wallet")||(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.isChecked)("payments_remember_wallet"))){var c=cur.votesAmountsData.oauth_params,d="";for(var _ in c){if(Object.prototype.hasOwnProperty.call(c,_))d+=`<input type="hidden" autocomplete="off" name="${_}" value="${c[_]}"/>`}var p=ge("paymentSystemsForm");p.action=cur.votesAmountsData.oauth_url,p.method="post",p.innerHTML=d;var h=cur.votesAmountsData.popup_params||{},m=h.width||700,f=h.height||600,v=`scrollbars=1, resizable=1, menubar=0, left=${Math.floor(window.screen.width/2)-m/2}, top=${Math.floor(window.screen.height/2)-f/2}, width=${m}, height=${f}`,g=getLang("payment_redirect").replace("%s",n.title),y=`<form action="${p.action}" method="${p.method}" id="popup_payment_form" accept-charset="UTF-8">${p.innerHTML}</form>`;cur._popup_text=PaymentsBox.popupHtml(g,y,"document.getElementById('popup_payment_form').submit()"),cur._popup_callback=!1,window.addEventListener("message",PaymentsBox.handlePaymentCompleteMessage,!1);var w=window.open("","_blank",v);cur.smsChkStatCnt=0,cur.oauthState=0;var b=0;return cur.smsChkStatInt=setInterval((function(){if(2==cur.oauthState)PaymentsBox.checkStatus(cur.votesType,cur.smsChkData);else if(0==cur.oauthState&&(b=cur.isPaymentComplete&&cur.paymentCompleteParams&&cur.paymentCompleteParams.code?cur.paymentCompleteParams.code:0)){cur.oauthState=1;var e={act:"a_getvotes_charge",type:t,oauth_code:b,hash:cur.paymentsHash,amount:o,stat_session_id:cur.statSessionId};return cur.paymentsAuthPayment&&(e.only_auth=1),l&&(e.email=l),void ajax.post("al_payments.php",e,{onDone:e=>{cur.oauthState=2,cur.smsChkData=e},onFail:e=>(clearInterval(cur.smsChkStatInt),PaymentsBox.showBoxError(e),PaymentsBox.setConfirmButtons(),!0)})}(w.closed&&!cur.isPaymentComplete||cur.isPaymentComplete&&!b)&&(clearInterval(cur.smsChkStatInt),cur.isPaymentComplete?PaymentsBox.showBoxError(getLang("payments_sms_money_fail")):PaymentsBox.showBoxError(getLang("payments_payment_cancelled"),"info_msg"),PaymentsBox.setConfirmButtons())}),2e3),void PaymentsBox.popupWrite(w)}if(cur.votesAmountsData.provider&&-1!==["dmr","paypal","yandexmoney","api_provider"].indexOf(cur.votesAmountsData.provider)){var E,C=getLang("payment_redirect").replace("%s",n.title),D={act:"a_getvotes_charge",type:t,hash:cur.paymentsHash,amount:o,random_auth:0,stat_session_id:cur.statSessionId};if(l&&(D.email=l),"paypal"===cur.votesAmountsData.provider||"yandexmoney"===cur.votesAmountsData.provider){var k;if(ge("payments_remember_wallet")?(D.remember_wallet=(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.isChecked)("payments_remember_wallet")||cur.forceRebind,cur.forceRebind&&(cur.forceRebind=!1)):D.remember_wallet=1,D.remember_wallet){var P=cur.votesAmountsData.popup_params||{},x=P.width||700,T=P.height||600;k=`scrollbars=1, resizable=1, menubar=0, left=${Math.floor(window.screen.width/2)-x/2}, top=${Math.floor(window.screen.height/2)-T/2}, width=${x}, height=${T}`}else{k="scrollbars=1, resizable=1, menubar=1, left=0, top=0, toolbar=1, status=1"}E=D.remember_wallet?window.open("","",k):window.open("","_blank",k);var S=getLang("payment_redirect").replace("%s",n.title);cur._popup_text=PaymentsBox.popupHtml(S,"",""),PaymentsBox.popupWrite(E)}ajax.post("al_payments.php",D,{onDone:function(e,t,n){if(e){var r="api_provider"!==cur.votesAmountsData.provider;cur.canOpenPopup=r;var o=!r;PaymentsBox.checkStatusCallback=e=>{if("paypal"===cur.votesAmountsData.provider||"yandexmoney"===cur.votesAmountsData.provider){if(E&&!E.closed&&!o){o=!0;var t=ge("paymentSystemsForm");t.action=e.action,t.method="get";var n="";for(var r in e.params){if(Object.prototype.hasOwnProperty.call(e.params,r))n+=`<input type="hidden" autocomplete="off" name="${r}" value="${e.params[r]}"/>`}t.innerHTML=n;var a=`<form action="${t.action}" method="${t.method}" id="popup_payment_form" accept-charset="UTF-8">${t.innerHTML}</form>`;cur._popup_text=PaymentsBox.popupHtml(C,a,"document.getElementById('popup_payment_form').submit()"),PaymentsBox.popupWrite(E)}(E.closed&&!cur.isPaymentComplete||cur.isPaymentComplete)&&(clearInterval(cur.smsChkStatInt),PaymentsBox.showBoxError(cur.isPaymentComplete?getLang("payments_sms_money_fail"):getLang("payments_payment_cancelled")),PaymentsBox.setConfirmButtons())}else cur._popup||(cur._popup=window.open("","_blank"))},cur.smsChkData=e,cur.smsChkStatCnt=0,cur.smsChkStatInt=setInterval((()=>{PaymentsBox.checkStatus(cur.votesType,e)}),2e3)}},onFail:function(e){return(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.isButtonLocked)("payments_getvotes_submit")||PaymentsBox.setConfirmButtons(),PaymentsBox.showBoxError(e),!0}})}else{if(!cur.isAdsPayment){var B={act:"a_getvotes_invoice",type:cur.votesType,amount:o,votes:e,invoice_hash:cur.votesAmountsData.invoice_hash,stat_session_id:cur.statSessionId};ajax.post("al_payments.php",B)}var O=n.gate_params,M="",L=ge("paymentSystemsForm"),I=(new Date).getTime();for(var A in O)if(Object.prototype.hasOwnProperty.call(O,A)){var N=O[A];M+=`<input type="hidden" autocomplete="off" name="${A}" value="${N=(N=(N=(N=(N=(N=N.replace("{amount_votes}",e)).replace("{amount_rub}",o)).replace("{amount_usd}",a)).replace("{amount_rub_int}",i)).replace("{amount_rub_frac}",s)).replace("{time}",I)}"/>`}var R=n.gate_url;R=(R=(R=(R=(R=(R=R.replace("{time}",I)).replace("{amount_votes}",e)).replace("{amount_rub}",o)).replace("{amount_usd}",a)).replace("{amount_rub_int}",i)).replace("{amount_rub_frac}",s),L.action=R,L.method=n.gate_method,L.innerHTML=M;var F=!1;try{var W=getLang("payment_redirect").replace("%s",n.title),U=`<form action="${L.action}" method="${L.method}" id="popup_payment_form" accept-charset="${n.gate_charset}">${L.innerHTML}</form>`;cur._popup_text=PaymentsBox.popupHtml(W,U,`Payments.submitPopupForm("${t}", "${e}", "${o}", "${a}")`),cur._popup_callback=!1,F=window.open("","_blank","scrollbars=1, resizable=1, menubar=1, left=0, top=0, toolbar=1, status=1"),(0,_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_12__.statlogsValueEvent)("payments","","votes",t,"start"),cur.smsChkData=!1,cur.isPaymentComplete=!1,cur.smsChkStatCnt=0,cur.smsChkStatInt=setInterval((function(){PaymentsBox.checkStatus(cur.votesType,!1),F.closed&&!cur.isPaymentComplete&&(clearInterval(cur.smsChkStatInt),PaymentsBox.showBoxError(getLang("payments_payment_cancelled"),"info_msg"),n.simple_redirect?PaymentsBox.setButtons(!1,!1,cur.paymentsChangeType,PaymentsBox.showTypes):PaymentsBox.setConfirmButtons())}),2e3),PaymentsBox.popupWrite(F)}catch(e){L.submit()}l&&ajax.post("al_payments.php",{act:"a_set_receipt_email",email:l,hash:cur.paymentsHash},{onFail:e=>!0})}}}else PaymentsBox.showBoxError(getLang("payments_error_invalid_email"))}}static approveSendCode(){var e=ge("confcode").value;if(e.length){hide("payments_box_error");for(var t=0,n=0;n<e.length;n++)t+=parseInt(e[n]);if((t%=10)!=cur.votesAmountsData.approveCodeChk)return PaymentsBox.showBoxError(getLang("payments_invalid_code")),void(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.notaBene)("confcode");cur.votesAmountsData.appoveCode=e,PaymentsBox.showConfirm()}else(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.notaBene)("confcode")}static approveGetCode(e){(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.lockButton)("payments_getvotes_submit");var t={act:"a_getvotes_approve_code",hash:cur.votesAmountsData.confirm_hash};return e&&(t.resend=1),ajax.post("al_payments.php",t,{onDone:function(t,n){(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.unlockButton)("payments_getvotes_submit"),1==t?PaymentsBox.showBoxError(n):e||(cur.votesAmountsData.approveCodeChk=n,PaymentsBox.refreshBox(),show("payments_getvotes_confirm"),PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.approveSendCode,cur.paymentsChangeType,cur.checkoutEnabled?PaymentsBox.showVotesAmounts:PaymentsBox.showTypes))},onFail:function(e){return PaymentsBox.showBoxError(e),PaymentsBox.setConfirmButtons(),!0}}),!1}static smsSendPin(){if(null==cur.votesAmountsVal)return!1;var e=cur.votesAmountsData[cur.votesAmountsVal][3],t=cur.votesAmountsData[cur.votesAmountsVal][2];if(4!=e&&8!=t&&(2!=e||5!=t))return!1;var n=ge("confcode").value;n.length&&((0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.lockButton)("payments_getvotes_submit"),ajax.post("al_payments.php",{act:"a_getvotes_validate",code:n,oid:cur.votesAmountsData[cur.votesAmountsVal][3],qid:cur.smsChkData.qid,hash:cur.smsChkData.hash},{onDone:function(){(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.unlockButton)("payments_getvotes_submit"),PaymentsBox.showProgress(),cur.smsChkStatCnt=0,cur.smsChkStatInt=setInterval(PaymentsBox.checkStatus.pbind("sms",cur.smsChkData),2e3)},onFail:function(e){return PaymentsBox.showBoxError(e),!0}}))}static smsSendCode(){if("card"===cur.votesType)return!1;if(null!=cur.votesAmountsVal){var e=cur.votesAmountsData[cur.votesAmountsVal][3],t=cur.votesAmountsData[cur.votesAmountsVal][2];if(4==e||8==t||2==e&&5==t)return PaymentsBox.smsSendPin()}var n=ge("confcode").value;n.length?((0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.lockButton)("payments_getvotes_submit"),ajax.post("al_payments.php",{act:"a_getvotes_validate",pid:cur.votesAmountsVal,code:n,hash:cur.votesAmountsData[cur.votesAmountsVal].hash},{onDone:function(e){(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.unlockButton)("payments_getvotes_submit"),e&&3==cur.votesAmountsData[cur.votesAmountsVal][2]?PaymentsBox.getVotesCharge(!1,!0):e&&PaymentsBox.getVotesCharge()},onFail:function(e){return PaymentsBox.showBoxError(e),!0}})):(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.notaBene)("confcode")}static smsGetCode(e){(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.lockButton)("payments_getvotes_submit");var t={act:"a_getvotes_validate",hash:cur.votesAmountsData[cur.votesAmountsVal].hash,pid:cur.votesAmountsVal};e&&(t.resend=1),ajax.post("al_payments.php",t,{onDone:function(e,t){(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.unlockButton)("payments_getvotes_submit"),2==e?(PaymentsBox.showBoxError(t,"ok_msg"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.elfocus)("confcode")):e&&3==cur.votesAmountsData[cur.votesAmountsVal][2]?PaymentsBox.getVotesCharge(!1,!0):e?PaymentsBox.getVotesCharge():(PaymentsBox.refreshBox(),show("payments_getvotes_confirm"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.elfocus)("confcode"),cur.paymentsWideBox?PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.smsSendCode,getLang("payments_change_phone_number"),PaymentsBox.showPhoneForm):PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.smsSendCode,cur.paymentsChangeType,PaymentsBox.showTypes))},onFail:function(e){return PaymentsBox.showBoxError(e),PaymentsBox.setConfirmButtons(),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.elfocus)("confcode"),!0}})}static confirmPinCode(){var e=(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_7__.trim)(ge("confcode").value);if(e.length){var t={act:"a_getvotes_confirm_pin",hash:cur.updateTnxHash,ps:cur.votesType,qid:cur.smsChkData.qid,pin:e};PaymentsBox.showProgress(),ajax.post("al_payments.php",t,{onDone:function(){cur.smsChkStatInt=setInterval((()=>{PaymentsBox.checkStatus(cur.votesType,cur.smsChkData)}),2e3)},onFail:function(e){PaymentsBox.refreshBox(),PaymentsBox.showBoxError(e)}})}else(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.notaBene)("confcode")}static checkPinKeyPress(e){if(!((e=e||window.event).ctrlKey||e.altKey||e.metaKey)){var t=null;if(null===e.which&&e.keyCode>=32?t=String.fromCharCode(e.keyCode):0!==e.which&&0!==e.charCode&&e.which>=32&&(t=String.fromCharCode(e.which)),null!==t)return!(t<"0"||t>"9")&&void 0}}static fillBDay(){var params={act:"a_getvotes_fill_bday"};ajax.post("al_payments.php",params,{onDone:function onDone(js){if(js)try{eval(js)}catch(e){(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_14__.logEvalError)(e,js)}}})}static showOffer(e){var t={act:"a_getvotes_offer",offer_id:e,offer_aid:cur.paymentsOfferApp||0,app_currency:cur.offersAppCurrency||0};cur.app&&cur.app.options&&(t.aid=cur.app.options.aid),cur.paymentsOfferPreview&&(t.offer_view=cur.paymentsOfferPreview),ajax.post("al_payments.php",t,{onDone:PaymentsBox.offerOnLoad,onFail:e=>(e&&(PaymentsBox.showBoxError(e),hide("payments_getvotes_wrap")),!0)})}static showNextOffers(e){var t={act:"a_getvotes_amounts",type:"offers",offset:cur.offersOffset,app_currency:cur.offersAppCurrency,hash:cur.paymentsHash};cur.app&&cur.app.options&&(t.isAppOrder=cur.paymentsOfferApp?1:0,t.aid=cur.app.options.aid),ajax.post("al_payments.php",t,{onDone:function(t,n){n&&(t||(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.re)(e),cur.offersOffset+=20,ge("payments_offers_wrap").innerHTML+=n,PaymentsBox.checkOffers())},showProgress:_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.lockButton.pbind(e),hideProgress:_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.unlockButton.pbind(e)})}static showConfirm(){cur.votesAmountsVal=ge("payments_getvotes_amounts")?(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.radioval)("payments_getvotes_amounts"):0;var e=ge("votes_num")?parseInt(ge("votes_num").value,10):0;if(void 0!==cur.votesAmountsVal){cur.votesAmountsVal&&null==cur.votesAmountsData[cur.votesAmountsVal]&&ge("votes_num")&&!e&&(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.notaBene)("votes_num");var t=ge("payments_spasibo_rules_accept");if(t&&!(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.isChecked)(t)){var n={text:getLang("payments_spasibo_rules_not_accepted"),dir:"auto",className:"payments_terminal_tt",hasover:1};return cur.paymentsWideBox&&(n=extend(n,{shift:[-30,10]})),void(0,_web_lib_tooltip_utils__WEBPACK_IMPORTED_MODULE_9__.showTooltip)(t,n)}if((0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_5__.curBox)().changed=!0,"sms"===cur.votesType){cur.isResetCheckedMaxSmsVotesValue&&(ge("payments_getvotes_confirm_msg").innerHTML=cur.votesAmountsData.confirm_msg_again,cur.isResetCheckedMaxSmsVotesValue=!1);var r=cur.votesAmountsData.confirm_type;if(2==r&&null!=cur.votesAmountsData.checked_max_sms_votes_val&&(cur.votesAmountsVal=cur.votesAmountsData.checked_max_sms_votes_val,cur.votesAmountsData.checked_max_sms_votes_val=0,cur.isResetCheckedMaxSmsVotesValue=!0),null==cur.votesAmountsData[cur.votesAmountsVal]&&e){if(!r)return void PaymentsBox.getVotesCharge(e,!0);cur.votesAmountsData[-1]=[e,getLang("global_money_amount_rub",cur._otherAmount),cur.votesAmountsData[0][2],0],cur.votesAmountsVal=-1}void 0===cur.votesAmountsData[cur.votesAmountsVal]&&(cur.votesAmountsVal=0);var o=cur.votesAmountsData[cur.votesAmountsVal][0],a=cur.votesAmountsData[cur.votesAmountsVal][1],i=cur.votesAmountsData[cur.votesAmountsVal][2],s=cur.votesAmountsData[cur.votesAmountsVal][3],l=cur.votesAmountsData[cur.votesAmountsVal][6];if(0==i){cur.smsChkData={oid:s,qid:0,hash:cur.votesAmountsData.check_hash};var u=getLang("payments_to_get_send_sms",o);cur.paymentsWideBox||(u+=`<br/>${getLang("payments_service_cost")}`);var c=cur.votesAmountsData[cur.votesAmountsVal];if(u=(u=(u=u.replace("{number}",cur.votesAmountsData[cur.votesAmountsVal][4])).replace("{text}",`<nobr>${cur.votesAmountsData[cur.votesAmountsVal][5]}${vk.id}</nobr>`)).replace("{amount}",cur.votesAmountsData[cur.votesAmountsVal][1]),c.invoice_hash&&cur.statSessionId){PaymentsBox.showWaiting("");var d={act:"a_getvotes_invoice",type:cur.votesType,oid:s,votes:o,invoice_hash:c.invoice_hash,stat_session_id:cur.statSessionId};ajax.post("al_payments.php",d,{onDone:function(){ge("payments_getvotes_waiting_msg").innerHTML=u},onFail:function(e){return clearInterval(cur.smsChkStatInt),PaymentsBox.needContinue=0,(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_waiting")||(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_confirm")?PaymentsBox.showVotesAmounts():PaymentsBox.setButtons(cur.payments_get_votes,(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_confirm")?PaymentsBox.getVotesCharge:PaymentsBox.showConfirm,cur.paymentsChangeType,PaymentsBox.showTypes),PaymentsBox.showBoxError(e),!0}})}else PaymentsBox.showWaiting(u)}else if(5==i||6==i||8==i)PaymentsBox.getVotesCharge();else if(7==i){PaymentsBox.getVotesCharge(),cur._popup_text=PaymentsBox.popupHtml(getLang("payments_cards_redirect"),"",""),cur._popup_callback=!1,cur._popup_href=!1;var _="/payments?act=go_gate&type=sms",p=Math.floor(window.screen.width/2)-350,h=Math.floor(window.screen.height/2)-300;(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_14__.debugLog)(_),cur._popup=window.open(_,"_blank",`scrollbars=1, resizable=1, menubar=0, left=${p}, top=${h}, width=700, height=600`)}else if(1!=i&&4!=i&&1!=r)PaymentsBox.getVotesCharge(!1,!0);else{if(val("payments_box_votes_num",o),val("payments_box_amount",a),val("payments_box_votes_money",l),3==s&&(PaymentsBox.checkStatusCallback=function(e){cur.isResetCheckedMaxSmsVotesValue=!1,cur.checkedMaxVotes=e,PaymentsBox.getVotesAmounts(!0)}),2==r&&o<=cur.votesAmountsData.confirm_max_votes){if(cur.paymentsWideBox)return void PaymentsBox.getVotesCharge();hide("payments_box_confcode_wrap"),PaymentsBox.refreshBox(),show("payments_getvotes_confirm"),PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.getVotesCharge,getLang("global_back"),PaymentsBox.showVotesAmounts)}else show("payments_box_confcode_wrap"),PaymentsBox.smsGetCode();cur.votesAmountsData.resend_msg&&val("payments_getvotes_sms_resend",cur.votesAmountsData.resend_msg),cur.votesAmountsData.confirm_wait_comment&&cur.votesAmountsData.confirm_wait_comment[s]?(val("payments_getvotes_confirm_comm",cur.votesAmountsData.confirm_wait_comment[s]),show("payments_getvotes_confirm_comm_wrap")):(ge("payments_getvotes_confirm_comm").innerHTML="",hide("payments_getvotes_confirm_comm_wrap"))}}else{var m;m=cur.votesAmountsData[cur.votesAmountsVal]?cur.votesAmountsData[cur.votesAmountsVal][0]:e,cur.checkoutEnabled?PaymentsBox.submitDmrCheckout(m):"card"===cur.votesType?PaymentsBox.submitCard(m):PaymentsBox.submitPaymentSystem(m)}}}static offerOnLoad(html,js){(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.unlockButton)("payments_getvotes_submit"),hide("payments_offers_list");var offerView=ge("payments_offer_view");if(offerView){offerView.innerHTML=html,show(offerView);try{eval(js)}catch(e){(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_14__.logEvalError)(e,js)}}}static showWaiting(e){var t=cur.votesAmountsData[cur.votesAmountsVal]?cur.votesAmountsData[cur.votesAmountsVal][3]:0;ge("payments_getvotes_waiting_msg").innerHTML=e,t&&cur.votesAmountsData.confirm_wait_comment&&cur.votesAmountsData.confirm_wait_comment[t]?(ge("payments_getvotes_waiting_comm").innerHTML=cur.votesAmountsData.confirm_wait_comment[t],show("payments_getvotes_waiting_comm")):(ge("payments_getvotes_waiting_comm").innerHTML="",hide("payments_getvotes_waiting_comm")),PaymentsBox.refreshBox(),show("payments_getvotes_waiting"),hide("payments_getvotes_buttons"),cur.paymentsWideBox&&cur.votesAmountsData[cur.votesAmountsVal]&&cur.votesAmountsData[cur.votesAmountsVal][7]?(ge("payments_getvotes_waiting_amount").innerHTML=cur.votesAmountsData[cur.votesAmountsVal][6],ge("payments_getvotes_waiting_phone").innerHTML=cur.votesAmountsData[cur.votesAmountsVal][7],show("payments_getvotes_waiting_mo")):hide("payments_getvotes_waiting_mo"),delete cur.paymentsWaitingCache[cur.votesType],cur.smsChkStatInt&&clearInterval(cur.smsChkStatInt),cur.smsChkStatCnt=0,cur.smsChkStatInt=setInterval(PaymentsBox.checkStatus.pbind(cur.votesType,cur.smsChkData),2e3)}static showPhoneForm(e,t){geByClass1("_msg","payments_getvotes_phone").innerHTML=t||getLang("payments_get_votes_input_phone"),ge("phone").value="",PaymentsBox.refreshBox(),t&&cur.paymentsWideBox?PaymentsBox.setButtons(getLang("payments_save_phone"),PaymentsBox.saveSmsPhone):PaymentsBox.setButtons(getLang("payments_save_phone"),PaymentsBox.saveSmsPhone,getLang("global_back"),2==e?PaymentsBox.getVotesAmounts:e?PaymentsBox.showVotesAmounts:PaymentsBox.showTypes),show("payments_getvotes_phone");var n=cur.uiPhoneCountry.container;if("spasibo"===cur.votesType)hide(n),val("payments_phone_prefix","+79");else{var r=cur.uiPhoneCountry.selectedItems();if(r.length>0)val("payments_phone_prefix",r[0][3]);else for(var o=0,a=cur.countries.length;o<a;++o)cur.countries[o][0]==cur.defCountry&&val("payments_phone_prefix",cur.countries[o][3]);show(n)}return cur.paymentsBoxClass=ge("payments_box").className,addClass("payments_box","payments_phone_form"),!1}static showPaySystemsList(){return PaymentsBox.refreshBox(),hide("payments_getvotes_title"),show("payments_getvotes_ps","payments_votes_vkpay_promo_banner"),cur.votesType=!1,PaymentsBox.setButtons(!1,!1,cur.paymentsChangeType,PaymentsBox.showTypes),!1}static showVotesAmounts(){return PaymentsBox.refreshBox(),cur.checkoutEnabled?PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.showConfirm):"card"!==cur.votesType&&cur.psList[cur.votesType]&&!cur.psList[cur.votesType].in_menu?PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.showConfirm,getLang("payments_go_ps_list"),PaymentsBox.showPaySystemsList):PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.showConfirm,cur.paymentsChangeType,PaymentsBox.showTypes),show("payments_getvotes_cont","payments_getvotes_wrap","payments_getvotes_buttons"),cur.paymentsWideBox&&cur.paymentsOrderNotice&&((0,_web_lib_ui_util__WEBPACK_IMPORTED_MODULE_15__.showMsg)("payments_box_error",cur.paymentsOrderNotice,"info_msg",null),show("payments_box_error")),(0,_web_lib_accessibility__WEBPACK_IMPORTED_MODULE_16__.updateAriaElements)(),delete cur.votesAmountsData.appoveCode,!1}static showTypes(){if(cur.paymentsWideBox)return PaymentsBox.showVotesAmounts(),!1;(PaymentsBox.refreshBox(),cur.votesAmountsVal=void 0,cur.votesAmountsData=[],hide("payments_getvotes_buttons"),show("payments_getvotes_method","payments_votes_vkpay_promo_banner"),cur.paymentBoxTitle)&&(0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_5__.curBox)().setOptions({title:cur.paymentBoxTitle});return!1}static setButtons(e,t,n,r){if(!cur.paymentsWideBox||e){if(e){var o=ge("payments_getvotes_submit");o&&(o.innerHTML=e,o.onclick=t,o.dataset.taskClick="",show(o,"payments_getvotes_buttons"))}else hide("payments_getvotes_buttons");if(cur.paymentsWideBox){var a=ge("payments_getvotes_back");a&&(a.innerHTML="",n&&a.appendChild((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.ce)("div",{className:"button",innerHTML:n,onclick:r,"data-task-click":""})))}else{var i=(0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_5__.curBox)();i&&(cur.paymentBoxTitle||(cur.paymentBoxTitle=i.getOptions().title),n?(geByClass1("box_title",i.titleWrap).innerHTML=`<div class="back"><span class="back__icon">${(0,_icons_desktop_getIcon24BrowserBack__WEBPACK_IMPORTED_MODULE_20__.getIcon24BrowserBack)().icon}</span>${getLang("global_box_title_back")}</div>`,geByClass1("back",i.titleWrap).onclick=r,geByClass1("back",i.titleWrap).dataset.taskClick=""):geByClass1("box_title",i.titleWrap).innerHTML=cur.paymentBoxTitle)}}else hide("payments_getvotes_buttons")}static showBoxError(e,t){if("object"==typeof e&&(e=getLang("global_error_occured")),e&&cur.paymentsWideBox&&cur.checkoutEnabled){var n=new MessageBox({title:getLang("global_error"),hideButtons:!0});(0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_5__.curBox)().hide(),n.content(e).show()}else{if(e){var r=ge("payments_box_error");r&&(val(r,""),(0,_web_lib_ui_util__WEBPACK_IMPORTED_MODULE_15__.showMsg)(r,e,t||"error"),show(r))}hide("payments_box_progress","payments_iframe_container"),show("payments_getvotes_wrap"),(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.unlockButton)("payments_getvotes_submit"),PaymentsBox.hideRowProgress(),PaymentsBox.enablePaymentTypesRows()}}static showProgress(e){val("payments_box_progress_msg","string"==typeof e?e:getLang("payments_waiting_payment_complete")),hide("payments_box_error","payments_getvotes_wrap","payments_getvotes_buttons"),cur.paymentsWideBox&&e?show("payments_box_progress_link"):e||hide("payments_box_progress_link"),show("payments_box_progress")}static hideRowProgress(){["payments_getvotes_ps",cur.paymentsWideBox?"payments_box_menu":"payments_getvotes_method"].forEach((e=>{(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)(e)&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.geByClass)("payments_getvotes_active_row",ge(e)).forEach((t=>{"payments_box_menu"!==e?removeClass(t,"payments_getvotes_active_row"):removeClass(t,"payments_progress")}))}))}static refreshBox(){hide("payments_box_progress","payments_box_error","payments_getvotes_method","payments_getvotes_cont","payments_getvotes_phone","payments_getvotes_confirm","payments_getvotes_waiting","payments_getvotes_other","payments_getvotes_terminals","payments_getvotes_ps","payments_iframe_container"),show("payments_getvotes_wrap"),cur.smsChkStatInt&&!cur.paymentsWideBox&&clearInterval(cur.smsChkStatInt),cur.paymentsBoxClass&&(ge("payments_box").className=cur.paymentsBoxClass,cur.paymentsBoxClass=""),PaymentsBox.enablePaymentTypesRows()}static saveSmsPhone(){var e=(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_7__.trim)(val("phone")),t=(0,_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_7__.trim)(val(ge("payments_phone_prefix")||{})||"");e&&(cur.paymentsWaitingCache.sms&&(clearInterval(cur.paymentsWaitingCache.sms[2]),delete cur.paymentsWaitingCache.sms),cur.newSmsPhone=t+e,PaymentsBox.getVotesAmounts())}static startFormMeasure(){cur.formMeasureTime=Date.now(),vk.dev&&(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_14__.debugLog)(cur.formMeasureTime)}static finishFormMeasure(e){if(cur.formMeasureTime){var t=Date.now()-cur.formMeasureTime;vk.dev&&(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_14__.debugLog)(t),delete cur.formMeasureTime,(0,_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_12__.statlogsValueEvent)("payments_frame_load_time",t,e)}}static frameMessage(e){if(!e.origin.match(/^https?:\/\/([a-zA-Z0-9\-\.]+\.)?paymentgate\.ru$/)&&!e.origin.match(/^https?:\/\/([a-zA-Z0-9\-\.]+\.)?money\.mail\.ru$/))return!1;var t={};if(!e.data||"{"!==e.data.substr(0,1)||"billing"===(t=(0,_web_lib_utils__WEBPACK_IMPORTED_MODULE_17__.parseJSON)(e.data)).type)if("pageLoad"===t.action)cur.paymentsIgnoreResize=!1;else if("paySuccess"===t.action)cur.paymentsIgnoreResize=!0,cur.checkoutEnabled&&(PaymentsBox.showProgress(),hide("payments_iframe_container"));else if("submit"===e.data||"3dsPage"===t.action)setTimeout(PaymentsBox.frameHeight.pbind(600,!0),200),addClass("payments_iframe_container",cur.checkoutEnabled?"payments_threeds_checkout_frame":"payments_threeds_frame");else if("3dsFinish"===t.action)PaymentsBox.frameHeight(),removeClass("payments_iframe_container",cur.checkoutEnabled?"payments_threeds_checkout_frame":"payments_threeds_frame");else if("resizeFrame"===t.action)if(t.action_params.height<10&&cur.paymentsIgnoreResize)cur.paymentsIgnoreResize=!1;else{var n=ge("payments_iframe_container");n&&!hasClass(n,"payments_threeds_checkout_frame")&&setTimeout(PaymentsBox.frameHeight.pbind(t.action_params.height),200)}else"putPixel"===t.action&&"page_load"===t.action_params.alias?(PaymentsBox.finishFormMeasure("dmr"),(0,_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_12__.statlogsValueEvent)("payments",0,"votes","dmr","iframe_loaded")):"session_fail"===t.action?(0,_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_12__.statlogsValueEvent)("payments",0,"votes","dmr","iframe_session_fail"):"payError"===t.action&&cur.checkoutEnabled?PaymentsBox.checkoutDecline(t.action_params):"typePaymentMethod"===t.action&&cur.checkoutEnabled&&(removeClass("payments_iframe_container","payments_threeds_checkout_frame"),t.action_params&&t.action_params.system&&PaymentsBox.checkoutPayMethodChanged(t.action_params.system))}static frameHeight(e,t){var n=ge("card_iframe");n&&(e?(cur.prevFrameHeight=n.style.height,n.style.height=e+"px"):(n.style.height=cur.prevFrameHeight,removeClass("payments_iframe_container",cur.checkoutEnabled?"payments_threeds_checkout_frame":"payments_threeds_frame")));var r=ge("payments_iframe_container");r&&(cur.paymentsWideBox&&!cur.checkoutEnabled||t||(r.style.height=(e||cur.prevFrameHeight)+(cur.checkoutEnabled?0:10)+"px"),r.scrollTop=0)}static paymentCanceled(e){e?cur.isPaymentFailed=!0:cur.isPaymentCanceled=!0,PaymentsBox.frameHeight()}static checkoutDecline(e){var t=e||{};t.act="checkout_decline",t.qid=cur.smsChkData.qid,t.hash=cur.smsChkData.declineHash,ajax.post("payments",t,{onDone:function(e){return PaymentsBox.stopCheckAndShowError(e),!0},onFail:function(e){return PaymentsBox.stopCheckAndShowError(e),!0}})}static checkoutPayMethodChanged(e){e&&ajax.post("payments",{act:"checkout_ps_choose",qid:cur.smsChkData.qid,pay_method:e})}static stopCheckAndShowError(e){clearInterval(cur.smsChkStatInt),PaymentsBox.needContinue=0,(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_waiting")||(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_confirm")?PaymentsBox.showVotesAmounts():cur.checkoutEnabled?PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.showConfirm):PaymentsBox.setButtons(cur.payments_get_votes,(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_confirm")?PaymentsBox.getVotesCharge:PaymentsBox.showConfirm,cur.paymentsChangeType,PaymentsBox.showTypes),PaymentsBox.showBoxError(e)}static complete(e,t){cur.paymentCompleteParams=t,cur.isPaymentComplete=!0}static checkStatus(e,t,n,r){if("sms"===e&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_box_progress")&&!cur.paymentsWideBox&&7!=cur.votesAmountsData[cur.votesAmountsVal][2])if(15==cur.smsChkStatCnt)ge("payments_box_progress_msg").innerHTML=getLang("payments_waiting_payment_complete_still");else if(cur.smsChkStatCnt>30){return clearInterval(cur.smsChkStatInt),cur.isPaymentAttemted=!0,(0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_5__.curBox)().hide(),void(0,_web_lib_message_box__WEBPACK_IMPORTED_MODULE_8__.showFastBox)(getLang("payments_internet_getting_votes"),getLang("payments_get_votes_delay"))}var o={act:"a_getvotes_check",type:e,votes_purchase:cur.isPaymentsAppOrder||cur.paymentsWideBox||cur.paymentsInstantPayType?0:1};t&&(t.oid||t.qid)?(o.oid=t.oid,o.qid=t.qid,o.hash=t.hash):o.hash=cur.psList[e].check_hash,0==cur.smsChkStatCnt&&(o.start=1),cur.statSessionId&&(o.stat_session_id=cur.statSessionId),t.test&&(o.test=1);var a=r||(0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_5__.curBox)();ajax.post("al_payments.php",o,{onDone:function(n,r,o){if("sms"===e&&cur._popup&&cur._popup.closed)return clearInterval(cur.smsChkStatInt),cur.smsChkStatCnt=0,PaymentsBox.showBoxError(getLang("payments_payment_cancelled"),"info_msg"),void PaymentsBox.setConfirmButtons();if(n){if(1==n){for("mailmoney_vkpay"===e&&WkView&&(a._show(),cur.onExternalAppDone=null,WkView.hide(!1,!0)),cur.isPaymentAttemted=!0,PaymentsBox.needContinue&&(cur.needContinue=1,PaymentsBox.needContinue=0);boxQueue.count();)boxQueue.hideLast(!1);if((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.re)("left_block10_0"),r&&!cur.isPaymentsAppOrder&&(!cur.paymentsTryCompleteOrder||!a.onDone)){var i=new MessageBox({width:400,hideButtons:!0,bodyStyle:"padding: 0; border-radius: 8px;"});i.content(r),i.show()}o&&(0,_web_lib_utils__WEBPACK_IMPORTED_MODULE_17__.updateMoney)(o)}else if(2==n||10==n)(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_waiting")||(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_confirm")||(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_iframe_container")?PaymentsBox.showVotesAmounts():PaymentsBox.setButtons(cur.payments_get_votes,(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_confirm")?PaymentsBox.getVotesCharge:PaymentsBox.showConfirm,cur.paymentsChangeType,PaymentsBox.showTypes),PaymentsBox.showBoxError(r);else if(3==n){var s="sms"===e;cur.votesAmountsData[cur.votesAmountsVal]?(val("payments_box_votes_num",cur.votesAmountsData[cur.votesAmountsVal][0]),val("payments_box_amount",cur.votesAmountsData[cur.votesAmountsVal][1]),val("payments_box_votes_money",s?cur.votesAmountsData[cur.votesAmountsVal][6]:cur.votesAmountsData[cur.votesAmountsVal][1])):(val("payments_box_votes_num",cur._otherVotes),val("payments_box_amount",cur._otherAmount+" "+(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_10__.langNumeric)(cur._otherAmount,cur.votesAmountsData.currency_price_str)),val("payments_box_votes_money",cur._otherAmount+" "+(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_10__.langNumeric)(cur._otherAmount,cur.votesAmountsData.currency_price_str))),s||(val("payments_getvotes_confirm_msg",getLang("payments_get_votes_ps_enter_code")),hide("payments_getvotes_confirm_amount")),cur.votesAmountsData.confirm_wait_comment&&cur.votesAmountsData.confirm_wait_comment[t.oid]?(ge("payments_getvotes_confirm_comm").innerHTML=cur.votesAmountsData.confirm_wait_comment[t.oid],show("payments_getvotes_confirm_comm_wrap")):s&&(ge("payments_getvotes_confirm_comm").innerHTML="",hide("payments_getvotes_confirm_comm_wrap")),"spasibo"===e&&(cur.updateTnxHash=r),PaymentsBox.refreshBox(),show("payments_box_confcode_wrap","payments_getvotes_confirm"),s&&r&&PaymentsBox.showBoxError(r),ge("confcode").onkeypress=s?"":PaymentsBox.checkPinKeyPress,PaymentsBox.setButtons(cur.payments_get_votes,s?PaymentsBox.smsSendCode:PaymentsBox.confirmPinCode,cur.paymentsChangeType,PaymentsBox.showTypes)}else{if(4==n){if(!(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_waiting")&&!cur.paymentsWaitingCache.sms){var l=getLang("payments_to_get_send_sms",cur.votesAmountsData[cur.votesAmountsVal][0]);cur.paymentsWideBox||(l+=`<br/>${getLang("payments_service_cost")}`),l=(l=(l=l.replace("{number}",r.service_number)).replace("{text}",`<nobr>${r.message_text}</nobr>`)).replace("{amount}",cur.votesAmountsData[cur.votesAmountsVal][1]),PaymentsBox.showWaiting(l)}return}if(5==n)PaymentsBox.refreshBox(),PaymentsBox.showConfirm();else if(6==n)delete cur.votesAmountsData.oauth_url,delete cur.paymentsInstantPayType,PaymentsBox.showVotesAmounts(),PaymentsBox.showBoxError(getLang("payments_instant_pay_amount_limit_error")),PaymentsBox.setConfirmButtons(),hide("payments_remember_wallet",geByClass1("payments_getvotes_confirm_descr","payments_getvotes_cont"));else{if(7==n)return void(cur._popup&&!cur._popup_href&&(cur._popup_href=r,cur._popup.location.href=r));if(8==n)return void PaymentsBox.checkStatusCallback(r);if(9==n)return void PaymentsBox.show3DsFrame(r,o)}}clearInterval(cur.smsChkStatInt),cur.smsChkStatCnt=0}},onFail:function(e){return PaymentsBox.stopCheckAndShowError(e),!0}}),cur.smsChkStatCnt++}static checkStatusCallback(e){}static getVotesCharge(e,t){if(!(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.isButtonLocked)("payments_getvotes_submit")&&!(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_box_progress")&&((e=parseInt(e,10))||null!=cur.votesAmountsVal&&cur.votesAmountsData[cur.votesAmountsVal])){var n={act:"a_getvotes_charge",type:cur.votesType,hash:cur.paymentsHash,stat_session_id:cur.statSessionId},r=PaymentsBox.getEmail();""!==r&&(r&&(n.email=r),t?(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.lockButton)("payments_getvotes_submit"):PaymentsBox.showProgress(),e?(n.pid=-1,n.votes=e):(n.pid=cur.votesAmountsVal,-1==cur.votesAmountsVal&&(n.votes=cur.votesAmountsData[cur.votesAmountsVal][0])),cur.isResetCheckedMaxSmsVotesValue&&(n.pay_by_repay_status=1),PaymentsBox.disablePaymentTypesRows(),ajax.post("al_payments.php",n,{onDone:n=>{PaymentsBox.votesChargeOnDone(n,e,t)},onFail:e=>((0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.unlockButton)("payments_getvotes_submit"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_box_progress")&&PaymentsBox.setButtons(cur.payments_get_votes,(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_confirm")?PaymentsBox.getVotesCharge:PaymentsBox.showConfirm,cur.paymentsChangeType,PaymentsBox.showTypes),PaymentsBox.showBoxError(e),!0)}))}}static votesChargeOnDone(e,t,n){if(e)if((0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.unlockButton)("payments_getvotes_submit"),-1==e)PaymentsBox.getVotesAmounts(!0);else if(e.qid)if(cur.smsChkData=e,n){var r=getLang("payments_for_get_n_votes",t||cur.votesAmountsData[cur.votesAmountsVal][0]),o=cur.votesAmountsData.confirm_wait_msg.replace("{amount}",r);if(o+=t?`<br/>${getLang("payments_service_cost_rubles",cur._otherAmount)}`:`<br/>${getLang("payments_service_cost").replace("{amount}",cur.votesAmountsData[cur.votesAmountsVal][1])}`,cur.paymentsWideBox)o+=`<br><br/><a onclick="return PaymentsBox.showPhoneForm(1);">${getLang("payments_change_phone_number")}</a>`;PaymentsBox.showWaiting(o)}else cur.smsChkStatCnt=0,cur.smsChkStatInt=setInterval(PaymentsBox.checkStatus.pbind(cur.votesType,e),2e3)}static getVotesAmounts(e,t,n){if(null!=t&&cur.paymentsWideBox){if(cur.votesType==t&&cur.votesTypeInit!=t&&((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_cont")||(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_terminals")||(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_ps")))return;if((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_waiting")?cur.paymentsWaitingCache[cur.votesType]=[ge("payments_getvotes_title").innerHTML,ge("payments_getvotes_waiting").innerHTML,cur.smsChkStatInt]:cur.smsChkStatInt&&!cur.paymentsWaitingCache[t]&&clearInterval(cur.smsChkStatInt),"ps"===t&&cur.forcedPaymentMethod)return;cur.votesType=t}else null!=t&&(cur.votesType=t);if(cur.votesType){if(cur.paymentsWideBox&&!n&&(n=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.domPN)(geByClass1("payments_method_"+cur.votesType,ge("payments_box_menu")))),cur.paymentsWideBox&&cur.paymentsTypesSum&&cur.paymentsTypesSum[t]){var r=ge("payments_summary_bill");r?r.innerHTML=cur.paymentsTypesSum[t]:val("payments_order_sum",cur.paymentsTypesSum[t]),each((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.geByClass)("payments_tt"),((e,t)=>{(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.re)(t)}))}var o="term"===cur.votesType||"ps"===cur.votesType;if(!o||(PaymentsBox.refreshBox(),hide("payments_getvotes_method","payments_getvotes_title"),"term"===cur.votesType?(show("payments_getvotes_terminals"),hide("payments_votes_vkpay_promo_banner")):show("payments_getvotes_ps"),PaymentsBox.setButtons(!1,!1,cur.paymentsChangeType,PaymentsBox.showTypes),cur.paymentsWideBox)){for(var a=["payments_getvotes_ps",cur.paymentsWideBox?"payments_box_menu":"payments_getvotes_method"],i=0;i<a.length;i++){var s=a[i];if(!(!(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)(s)||cur.paymentsWideBox&&!n||"payments_box_menu"===s&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_ps")&&n&&hasClass(n.parentNode,"payments_getvotes_ps_list"))){var l=ge(s),u=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.geByClass)("payments_getvotes_active_row",l);if(!e&&u.length&&!cur.paymentsWideBox)return;u.forEach((e=>{removeClass(e,"payments_getvotes_active_row"),cur.paymentsWideBox&&!o&&removeClass(e,"payments_progress")}))}}if(n&&(!cur.paymentsWideBox||"payments_box_menu"!==n.parentNode.id||o||e||addClass(n,"payments_progress"),addClass(n,"payments_getvotes_active_row")),cur.paymentsWideBox&&cur.paymentsWaitingCache[t])return ge("payments_getvotes_title").innerHTML=cur.paymentsWaitingCache[t][0],ge("payments_getvotes_waiting").innerHTML=cur.paymentsWaitingCache[t][1],PaymentsBox.refreshBox(),show("payments_getvotes_waiting","payments_getvotes_title"),hide("payments_getvotes_buttons"),void PaymentsBox.hideRowProgress();if(!o){(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.isVisible)("payments_getvotes_buttons")&&!cur.paymentsWideBox&&(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.lockButton)("payments_getvotes_submit");var c={act:"a_getvotes_amounts",type:cur.votesType,prefer_votes:cur.paymentsPreferVotes,hash:cur.paymentsHash};if(cur.statSessionId&&(c.stat_session_id=cur.statSessionId),cur.isPaymentsAppOrder&&cur.paymentsOrderAppId&&(c.aid=cur.paymentsOrderAppId,cur.paymentsOrderBillPeriod&&(c.bill_period=cur.paymentsOrderBillPeriod),cur.paymentsOrderDiscount&&(c.discount=cur.paymentsOrderDiscount)),"sms"===c.type)cur.checkedMaxVotes&&(c.checked_max_votes=cur.checkedMaxVotes,cur.checkedMaxVotes=0),cur.newSmsPhone&&(c.phone=cur.newSmsPhone,cur.newSmsPhone=!1),cur.isCorpPhone&&(c.corp=cur.isCorpPhone,cur.isCorpPhone=!1);else if("offers"===c.type){if(cur.app&&cur.app.options&&(c.isAppOrder=cur.paymentsOfferApp?1:0,c.aid=cur.app.options.aid,c.orderBox=cur.isPaymentsAppOrder?1:0),cur.paymentsPreload)return PaymentsBox.getVotesAmountsOnDone.apply(this,cur.paymentsPreload),cur.paymentsPreload=!1,void(cur.paymentsOfferPreload&&(PaymentsBox.offerOnLoad.apply(this,cur.paymentsOfferPreload),cur.paymentsOfferPreload=!1,cur.paymentsOneOffer=!0))}else if("spasibo"===c.type)cur.newSmsPhone&&(c.phone=cur.newSmsPhone,cur.newSmsPhone=!1),cur.needContinue&&(c.continue=1,cur.needContinue=0);else if(cur.psList[c.type]&&cur.psList[c.type].simple_redirect)return PaymentsBox.hideRowProgress(),void PaymentsBox.submitPaymentSystem();ajax.post("al_payments.php",c,{onDone:PaymentsBox.getVotesAmountsOnDone,onFail:e=>(PaymentsBox.showBoxError(e),!0)})}}}}static getVotesAmountsOnDone(result,html,data,js,title){if(PaymentsBox.hideRowProgress(),(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.unlockButton)("payments_getvotes_submit"),cur.paymentsWideBox&&(title&&(val("payments_getvotes_title",title),show("payments_getvotes_title")),data&&data.menu_money)){var sumWrap=ge("payments_summary_bill");sumWrap?sumWrap.innerHTML=data.menu_money:val(`payments_method_${cur.votesType}_descr`,data.menu_money)}if(hide("payments_votes_vkpay_promo_banner"),-1!=result)if(-2!=result)if(-3!=result){if(!result)return PaymentsBox.showProgress(""),void(cur.smsAmountsInt=setTimeout((()=>{PaymentsBox.getVotesAmounts(!0)}),1e3));if(html){var other;if(2==result?(other=ge("payments_getvotes_other"),val(other,html)):val("payments_getvotes_cont",html),cur.votesAmountsData=data,(cur.fromInstantPay&&2==cur.votesAmountsData.confirm_type||2!=cur.votesAmountsData.confirm_type||!cur.votesAmountsData.checked_max_sms_votes_val)&&PaymentsBox.showVotesAmounts(),cur.paymentsPreload&&"offers"===cur.votesType?PaymentsBox.setButtons(!1):"offers"===cur.votesType?PaymentsBox.setButtons(!1,!1,cur.paymentsChangeType,PaymentsBox.showTypes):cur.paymentsPreload&&PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.showConfirm),window.radioBtns.payments_getvotes_amounts={els:Array.prototype.slice.apply((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.geByClass)("radiobtn",ge("payments_getvotes_amounts")))},data.confirm_msg&&data.confirm_type&&val("payments_getvotes_confirm_msg",data.confirm_msg),2==result&&(hide("payments_getvotes_wrap"),show(other)),js)try{eval(js)}catch(e){(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_14__.logEvalError)(e,js)}cur.instantNeedCVV&&(PaymentsBox.showConfirm(),cur.instantNeedCVV=!1),cur.paymentsEmailInput=ge("payments_receipt_email"),cur.paymentsEmailCheckbox=!!cur.paymentsEmailInput&&geByClass1("_checkbox",(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.domPN)(cur.paymentsEmailInput))}}else{var rows=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.geByClass)("payments_getvotes_method_opt","payments_box_menu");hide(geByClass1("payments_getvotes_active_row","payments_box_menu"));for(var i=0;i<rows.length;i++){var row=rows[i];if(!hasClass(row,"payments_getvotes_active_row")){row.onclick();break}}}else PaymentsBox.showPhoneForm(!1,html);else PaymentsBox.showPhoneForm()}static popupHtml(e,t,n){return`<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">\n<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">\n<head>\n    <meta http-equiv="content-type" content="text/html; charset=windows-1251" />\n    <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n    <style>\n        body {font-family:tahoma,verdana,arial,sans-serif,Lucida Sans; font-size:11px;}\n        .text {position:relative; top:40%; text-align:center; line-height:24px;}\n        .text img {margin-bottom:8px;}\n        .text_container {position:absolute; top:0; left:0; right:0; bottom:0; line-height:150%; height: 100%;}\n    </style>\n    <script type="text/javascript">\n      if (!window.vk) window.vk = {loginscheme: '${vk.loginscheme}', ip_h: '${vk.ip_h}'};\n    <\/script>\n    <script type="text/javascript" src="/dist/workers/payments.js"><\/script>\n</head>\n<body>\n${t}\n<div id="wait_text_container" class="text_container">\n    <div class="text">\n        <img src="/images/progress.gif" /><br/>${e}\n    </div>\n</div>\n<script type="text/javascript">\n  var st = setTimeout(function() {try {${n}; clearTimeout(st)} catch(e) {}}, 100)\n<\/script>\n</body>\n</html>`}static viewOffer(e){this.setButtons(e,(()=>{ge("start_offer").submit(),PaymentsBox.setButtons(getLang("payments_back_to_offers_list"),PaymentsBox.backToOffersList,getLang("global_cancel"),PaymentsBox.backToOffersList)}),getLang("global_cancel"),PaymentsBox.backToOffersList)}static backToOffersList(){if(cur.paymentsOneOffer)return(0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_5__.curBox)().hide();hide("payments_offer_view"),show("payments_offers_list"),cur.votesTypeInit||!1===cur.votesTypeInit?PaymentsBox.setButtons(!1):PaymentsBox.setButtons(!1,!1,cur.paymentsChangeType,PaymentsBox.showTypes)}static initializeOfferChecker(e,t,n,r){cur.offersOffset=e,cur.offersAppCurrency=t,PaymentsBox.checkOffersList=[],PaymentsBox.checkOffersDo=()=>{if(!n){var e=PaymentsBox.checkOffersList.join(",");PaymentsBox.checkOffersList=[],ajax.post("al_payments.php",{act:"a_offers_stat",offers:e,hash:r}),PaymentsBox.checkOffersTO=!1}},PaymentsBox.checkOffers(),addEvent(ge("box_layer_wrap"),"scroll",PaymentsBox.checkOffers)}static removeCheckOffersEvent(){removeEvent(ge("box_layer_wrap"),"scroll",PaymentsBox.checkOffers)}static checkOffers(){var e=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.geByClass)("payments_offer",ge("payments_offers_wrap")),t=ge("box_layer_wrap").scrollTop,n=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.getSize)("box_layer_wrap")[1];e.forEach((e=>{var r=e,o=r.offsetTop;o+30<t+n&&o+(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.getSize)(r)[1]-20>t&&!r.getAttribute("checked")&&(r.setAttribute("checked",1),PaymentsBox.checkOffersList.push(r.id.substr(15)),PaymentsBox.checkOffersTO||(PaymentsBox.checkOffersTO=setTimeout(PaymentsBox.checkOffersDo,1e3)))}))}static offersRemoveButtons(){cur.votesTypeInit?PaymentsBox.setButtons(!1):PaymentsBox.setButtons(cur.paymentsChangeType,PaymentsBox.showTypes,getLang("global_close"),(0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_5__.curBox)().hide)}static disablePaymentTypesRows(){var e=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.geByClass)("payments_getvotes_method_opt");if(e&&e.length>0)for(var t=0;t<e.length;t++){var n=e[t];n.classList.contains("payments_getvotes_active_row")?n.classList.add("payments_getvotes_noevents_row"):n.classList.add("payments_getvotes_disabled_row","payments_getvotes_noevents_row")}}static enablePaymentTypesRows(){var e=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.geByClass)("payments_getvotes_method_opt");if(e&&e.length>0)for(var t=0;t<e.length;t++)e[t].classList.remove("payments_getvotes_disabled_row","payments_getvotes_noevents_row")}static handlePaymentCompleteMessage(e){e.origin==window.origin&&e.data.type&&"paymentCompleteMessage"===e.data.type&&window.PaymentsBox.complete(e.data.newUrl,e.data.params)}}},242:(e,t,n)=>{"use strict";n.d(t,{isImgBlurred:()=>r});n(1876);function r(e){if(!e)return!1;var t=e.photoRaw?e.photoRaw.split("_")[0]:"";return!(!e.restrictionBlur||cur.unblurredPhotos&&cur.unblurredPhotos.indexOf(e.photoRaw)>-1||cur.unblurredOwners&&cur.unblurredOwners.indexOf(t)>-1)}},9608:(e,t,n)=>{"use strict";n.d(t,{showNextPaymentsHistory:()=>a});n(522);var r=n(5456),o=n(4914),a=(e,t)=>{var n,a;if(!(0,r.isButtonLocked)(e))return(0,r.lockButton)(e),t||(t="votes"),void 0===cur.historyOffset[t]&&(cur.historyOffset[t]=5),"transfer"===t?(n={act:"a_transfer_history"},a=(0,o.ge)("settings_transfer_history")):"subscriptions"===t?(n={act:"a_payments_subsciptions"},a=(0,o.ge)("settings_payments_subscriptions")):"games"===t?(n={act:"a_payments_games"},a=(0,o.ge)("settings_payments_games")):(n={act:"a_votes_history"},a=(0,o.ge)("settings_votes_history")),n.offset=a.rows.length,"subscriptions"===t&&(n.extra_items_count=cur.historyExtraItemsSubscriptions),ajax.post("al_settings.php",n,{onDone:function(n,i,s){var l=a.tBodies[0];if(n){if((0,r.unlockButton)(e),browser.msie){var u=(0,o.se)("<table>"+n+"</table>");Array.from((0,o.geByTag)("tr",u)).forEach((e=>{1===e.nodeType&&l.appendChild(e)}))}else l.insertAdjacentHTML("beforeEnd",n);"subscriptions"===t&&s&&(cur.historyExtraItemsSubscriptions=s)}n&&!i||((0,o.addClass)(l.lastChild,"settings_votes_history_last"),(0,o.hide)(e))}}),!1}},1850:(e,t,n)=>{"use strict";n.d(t,{FAQTutorial:()=>u});var r=n(4914),o=n(3841),a=n(5456),i="tutorial_step",s="finished";function l(){var e=geByClass(i).slice(-1)[0],t=geByClass1("content",e);t.innerHTML=getTemplate("login_tutorial_finish_appeal")+t.innerHTML}var u={tryInit(){geByClass1(i)&&l()},select(e,t,n){var u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!cur.tutorialProcessing&&!isChecked(e)){var c=gpeByClass(i,e);hasClass(c,s)||(removeClass(geByClass1("on",c),"on"),addClass(e,"on"),ajax.post("support?act=a_select_tutorial",{name:t,id:n,load:1,ban:nav.objLoc.ban||0},{onDone(e,t){u||addClass(c,s);var n,a=!0,i=ge("page_body").offsetHeight+(vk.staticheader?0:(0,r.getH)(ge("page_header_cont")));if(u)do{(n=domNS(c))&&(re(n),a=!1)}while(n);if(ge("login_blocked_wrap").innerHTML+=e,l(),"login"===nav.objLoc[0]&&t){var d=document.querySelectorAll(".tutorial_step"),_=d[d.length-1];if(o.Login.isBanExpired()){o.Login.canUnblockFast()?_.innerHTML+=getTemplate("login_unblock_by_phone_fast"):_.innerHTML+=getTemplate("login_unblock_by_phone");var p=d[d.length-1].querySelector(".help_table_question__m");p&&hide(p)}else _.innerHTML+=getTemplate("login_wait_for_ban_expiration_message")}a&&scrollToY(i)},onFail:e=>(showDoneBox(e),!1),showProgress(){cur.tutorialProcessing=!0,(0,a.lockButton)(e)},hideProgress(){cur.tutorialProcessing=!1,(0,a.unlockButton)(e)}}))}},home:()=>{nav.go("/support?act=home")},back:e=>{var t=geByClass("tutorial_step"),n=t[t.length-1];2===t.length&&hide(e),hide(n),removeClass(geByClass1("on",t[t.length-2]),"on")}}},2214:(e,t,n)=>{"use strict";n.d(t,{PLAYING:()=>r});var r="playing"},8671:(e,t,n)=>{"use strict";n.d(t,{default:()=>l});var r=n(7294),o=n(3935),a=n(5697),i=n(9397);class s extends r.Component{constructor(){super(...arguments),this.getScrollbarWidth=()=>{var e=document.createElement("div");e.classList.add(this._scrollbarMeasureClass),document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},this.hideScrollBar=()=>{var e=document.body.getBoundingClientRect(),t=e.left+e.right<window.innerWidth,n=this.getScrollbarWidth();this.calculatedPadding=window.getComputedStyle(document.body)["padding-right"],t&&(document.body.style.paddingRight=`${parseFloat(this.calculatedPadding)+n}px`),document.body.classList.add(this._bodyHiddenOverflowClass)},this.showScrollBar=()=>{document.body.style.paddingRight=this.calculatedPadding,document.body.classList.remove(this._bodyHiddenOverflowClass)},this.onDocumentKeyDown=e=>{var t=this.props.onClose;"Escape"===e.key&&t()},this.onBackdropClick=()=>{var e=this.props,t=e.onClose,n=e.onBackdropClick;e.disableBackdropClick||(n?n():t())}}componentDidMount(){var e=this.props,t=e.disableEscapeClose,n=e.disableBodyScroll;t||document.body.addEventListener("keydown",this.onDocumentKeyDown),n&&(this._scrollbarMeasureClass=r.createElement("div",{className:"BaseModal__scrollbarMeasure"}).props.className,this._bodyHiddenOverflowClass=r.createElement("div",{className:"BaseModal__bodyHiddenOverflow"}).props.className,this.hideScrollBar())}componentWillUnmount(){var e=this.props,t=e.disableEscapeClose,n=e.disableBodyScroll;t||document.body.removeEventListener("keydown",this.onDocumentKeyDown),n&&this.showScrollBar()}renderModal(){var e=this.props.className,t=(0,i.classNames)("BaseModal",e);return r.createElement("div",{className:t,"aria-modal":"true"},r.createElement("div",{className:"BaseModal__backdrop",onClick:this.onBackdropClick}),r.createElement("div",{className:"BaseModal__content"},this.props.children))}render(){return o.createPortal(this.renderModal(),document.body)}}s.defaultProps={className:"",children:null,disableBackdropClick:!1,disableEscapeClose:!1,disableBodyScroll:!1},s.propTypes={onClose:a.func.isRequired,onBackdropClick:a.func,children:a.oneOfType([a.arrayOf(a.node),a.node]),className:a.string,disableBackdropClick:a.bool,disableBodyScroll:a.bool,disableEscapeClose:a.bool};const l=s},9739:(e,t,n)=>{"use strict";n.d(t,{default:()=>s});n(5115),n(1181),n(6253);var r=n(7294),o=n(3935),a=n(5697),i=n(9397);class s extends r.Component{constructor(e){super(e),this.onClick=()=>{if(!this.state.dropdown||this.state.dropdown.removed){var e=this.props,t=e.text,n=e.position,r=e.align,o=e.marginTop,a=e.marginLeft,s=e.horizontalPosition,l=(0,i.getOffsetRect)(this.el);this.update({text:t,position:n,horizontalPosition:s,align:r,rect:l,marginTop:o,marginLeft:a})}else this.update()},this.onMouseEnter=()=>{this.callerHovered=!0,this.timeouts.appear=setTimeout((()=>{if(this.el&&this.callerHovered){var e=this.props,t=e.position,n=e.align,r=e.marginTop,o=e.marginLeft,a=e.horizontalPosition,s=(0,i.getOffsetRect)(this.el);this.update({position:t,align:n,horizontalPosition:a,rect:s,marginTop:r,marginLeft:o})}}),80)},this.onMouseLeave=()=>{this.callerHovered=!1,this.timeouts.callerDisappear=setTimeout((()=>{this.callerHovered||this.hovered||this.update()}),250)},this.onDropdownMouseEnter=()=>{"hover"===this.props.trigger&&(this.hovered=!0)},this.onDropdownMouseLeave=()=>{"hover"===this.props.trigger&&(this.hovered=!1,this.timeouts.disappear=setTimeout((()=>{this.callerHovered||this.hovered||this.update()}),250))},this.onDocumentClick=e=>{!this.state.dropdown||this.state.dropdown.removed||this.el.contains(e.target)||this.update()},this.onResize=()=>{if(this.state.dropdown&&!this.state.dropdown.removed){var e=this.props,t=e.text,n=e.position,r=e.align,o=e.marginTop,a=e.marginLeft,s=e.horizontalPosition,l=(0,i.getOffsetRect)(this.el);this.update({text:t,position:n,align:r,horizontalPosition:s,rect:l,marginTop:o,marginLeft:a})}},this.onTransitionEnd=e=>{"visibility"===e.propertyName&&this.state.dropdown&&this.state.dropdown.removed&&this.setState({dropdown:void 0})},this.onItemClick=(e,t)=>{t.separator||(this.update(),t.onClick&&t.onClick(e))},this.state={},this.timeouts={}}componentDidMount(){this.el=o.findDOMNode(this),"click"===this.props.trigger?(this.el.addEventListener("click",this.onClick),document.addEventListener("mousedown",this.onDocumentClick),window.addEventListener("resize",this.onResize)):(this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("mouseleave",this.onMouseLeave))}componentWillUnmount(){Object.keys(this.timeouts).forEach((e=>{clearTimeout(this.timeouts[e])})),"click"===this.props.trigger?(this.el.removeEventListener("click",this.onClick),document.removeEventListener("mousedown",this.onDocumentClick),window.removeEventListener("resize",this.onResize)):(this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("mouseleave",this.onMouseLeave)),this.defaultNode&&(this.defaultNode.parentNode.removeChild(this.defaultNode),delete this.defaultNode)}update(e){if(!e)return this.setState({dropdown:Object.assign({},this.state.dropdown,{removed:!0})});var t=e.position,n=e.align,r=e.horizontalPosition,o=e.rect,a=e.marginTop,i=e.marginLeft,s=o.left,l=o.top;switch(t){case"t":"center"===r?s+=.5*o.width:"right"===r&&(s+=o.width);break;case"r":s+=o.width,l+=.5*o.height;break;case"b":l+=o.height,"center"===r?s+=.5*o.width:"right"===r&&(s+=o.width);break;case"l":l+=.5*o.height}s=Math.round(s+i),l=Math.round(l+a),this.setState({dropdown:{position:t,align:n,x:s,y:l}})}renderDropdown(){if(!this.state.dropdown)return null;var e=this.state.dropdown,t=e.x,n=e.y,o=e.position,a=e.align,s=e.removed,l=(0,i.classNames)("Dropdown",`Dropdown--${o}`,{"Dropdown--removed":!!s,[`Dropdown--align-${a}`]:"t"===o||"b"===o},this.props.className);return r.createElement("div",{className:l,style:{top:n,left:t},onTransitionEnd:e=>this.onTransitionEnd(e),onMouseEnter:this.onDropdownMouseEnter,onMouseLeave:this.onDropdownMouseLeave},r.createElement("ul",{className:"Dropdown__in"},this.props.data.map(((e,t)=>r.createElement("li",{className:(0,i.classNames)("Dropdown__item",{Dropdown__itemSeparator:e.separator},{Dropdown__itemNegative:e.negative}),onClick:t=>this.onItemClick(t,e),key:void 0!==e.id?e.id:t},e.text)))))}render(){var e=this.renderDropdown();return e?(this.defaultNode||"undefined"==typeof window||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),r.createElement(r.Fragment,null,this.props.children,o.createPortal(e,this.defaultNode))):this.props.children}}s.propTypes={data:a.arrayOf(a.shape({id:a.oneOfType([a.string,a.number]),text:a.oneOfType([a.string,a.element]),separator:a.bool,negative:a.bool,onClick:a.func})).isRequired,position:a.oneOf(["t","r","b","l"]),horizontalPosition:a.oneOf(["left","center","right"]),align:a.oneOf(["left","center","right"]),marginTop:a.number,marginLeft:a.number,trigger:a.oneOf(["click","hover"]),className:a.oneOfType([a.string,a.object])},s.defaultProps={position:"b",horizontalPosition:"center",align:"center",marginTop:0,marginLeft:0,trigger:"click",className:""}},8861:(e,t,n)=>{"use strict";n.d(t,{default:()=>u});n(522),n(6108),n(6253),n(1181),n(9665),n(5767);var r=n(7294),o=n(5697),a=n(8434),i=n(9397);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}class u extends r.Component{constructor(e){super(e),this.checkLoad=(0,i.throttle)((e=>{var t=s(e,3),n=t[0],r=t[1],o=t[2];if(!this.loading)return this.props.virtualized||this.props.hasMore?void(r-n-o<=this.props.threshold&&(this.loading=!0,this.props.loadMore().then((()=>{this.loading=!1})))):this.detachListeners()}),34),this.onScroll=()=>{var e=this.getScrollData();this.props.virtualized&&this.processChildren(this.props.children,e),this.props.hasMore&&this.checkLoad(e)},this.getRef=e=>{this.container=e,this.props.virtualized&&this.setState(this.getChildrenData(this.props.children,this.getScrollData()))},this.useWindowScroll=e.useWindowScroll,e.virtualized&&(this.state={before:0,after:e.children.length,start:0,end:0})}getScrollData(){var e=this.useWindowScroll?document.documentElement:this.container;return[this.getScrollTop(),e?e.scrollHeight:0,e?e.clientHeight:0]}getScrollTop(){var e=document.documentElement||document.body.parentNode||document.body;return this.useWindowScroll?void 0!==window.pageYOffset?window.pageYOffset:e.scrollTop:this.container?this.container.scrollTop:0}attachListeners(){var e=this.useWindowScroll?window:this.container;this.container&&(e.addEventListener("scroll",this.onScroll,this.props.useCapture),e.addEventListener("resize",this.onScroll,this.props.useCapture))}detachListeners(){var e=this.useWindowScroll?window:this.container;this.container&&(e.removeEventListener("scroll",this.onScroll,this.props.useCapture),e.removeEventListener("resize",this.onScroll,this.props.useCapture))}processChildren(e,t){var n=this.state,r=this.getChildrenData(e,t||this.getScrollData()),o=r.start,a=r.end,i=r.before,s=r.after;o===n.start&&a===n.end&&i===n.before&&s===n.after||this.setState(r)}getChildrenData(e,t){var n=s(t,3),r=n[0],o=n[1],a=n[2],i=this.useWindowScroll?window:this.container,l=i&&i.offsetHeight;if(!i||0===o||0===a)return{start:0,end:0,before:0,after:e.length};a=Math.max(a,l);var u=e.length,c=Math.max(Math.floor(r/this.props.itemHeight)-1,0),d=Math.min(Math.floor((r+2*a)/this.props.itemHeight+1),u);return{start:c,end:d,before:c,after:u-d}}UNSAFE_componentWillReceiveProps(e){this.props.virtualized&&this.processChildren(e.children)}componentDidMount(){this.attachListeners()}componentWillUnmount(){this.detachListeners()}render(){return r.createElement("div",{className:(0,i.classNames)("InfiniteScroll",this.props.className),ref:this.getRef,style:this.props.style},this.props.virtualized&&this.state.before>0&&r.createElement("div",{style:{height:this.state.before*this.props.itemHeight},key:"before"}),this.props.virtualized?[].concat(this.props.children).slice(this.state.start,this.state.end):this.props.children,this.props.virtualized&&this.state.after>0&&r.createElement("div",{style:{height:this.state.after*this.props.itemHeight},key:"after"}),this.props.hasMore&&(this.props.loader||r.createElement("div",{className:"InfiniteScroll__loader",key:"loader"},r.createElement(a.default,null))))}}u.propTypes={useWindowScroll:o.bool,virtualized:o.bool,hasMore:o.bool,loadMore:o.func.isRequired,useCapture:o.bool,threshold:o.number,itemHeight:o.number},u.defaultProps={useWindowScroll:!1,virtualized:!1,hasMore:!0,useCapture:!1,threshold:100,itemHeight:55}},5775:(e,t,n)=>{"use strict";n.d(t,{default:()=>l});n(5115),n(5767),n(1181),n(6253);var r=n(7294),o=n(5697),a=n(9397);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class l extends r.Component{constructor(e){super(e),this.onChange=e=>{this.isControlledOutside||this.setState({value:e.target.value}),this.props.onChange&&this.props.onChange(e)},this.getRef=e=>{this.element=e},this.onFocus=e=>{this.props.onFocus&&this.props.onFocus(e)},void 0!==e.value||e.isControlledOutside?this.isControlledOutside=!0:this.state={value:e.initialValue||""}}render(){var e=this.props,t=e.alignment,n=e.value,o=(e.onChange,e.initialValue,e.className),l=(e.isControlledOutside,s(e,["alignment","value","onChange","initialValue","className","isControlledOutside"])),u={"Input--left":"left"===t,"Input--center":"center"===t,"Input--right":"right"===t};return r.createElement("input",i({},l,{className:(0,a.classNames)("Input",u,o),ref:this.getRef,value:this.isControlledOutside?n:this.state.value,onChange:this.onChange,onFocus:this.onFocus}))}}l.propTypes={className:o.string,type:o.oneOf(["text","password","date","datetime-local","time","month","email","number","tel","url","hidden"]),alignment:o.oneOf(["left","center","right"]),value:o.oneOfType([o.string,o.number]),initialValue:o.string,onChange:o.func,isControlledOutside:o.bool,onFocus:o.func},l.defaultProps={type:"text",initialValue:"",alignment:"left"}},6612:(e,t,n)=>{"use strict";n.d(t,{default:()=>l});n(5115),n(5767),n(1181),n(6253);var r=n(7294),o=n(5697),a=n(9397);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class l extends r.Component{render(){var e=this.props,t=e.onClick,n=e.hovered,o=e.className,l=e.children,u=s(e,["onClick","hovered","className","children"]),c=(0,a.classNames)("Link",{"Link--hovered":!!n},o);return this.props.href?r.createElement("a",i({onClick:t},u,{className:c}),l):r.createElement("span",i({onClick:t},u,{className:c}),l)}}l.propTypes={className:o.string,children:o.node,href:o.string,hovered:o.bool,onClick:o.func},l.defaultProps={href:void 0,hovered:!1,onClick:()=>{}}},7692:(e,t,n)=>{"use strict";n.d(t,{default:()=>_});n(5115);var r=n(7294),o=n(5697),a=n(8671),i=n(8480),s=n(1189),l=n(4415),u=n(9397);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d=e=>{var t=e.className,n=e.appearance,o=void 0===n?"white":n,d=e.title,_=e.actionButtons,p=e.onClose,h=e.children,m=e.footerHint,f=e.hasScroll,v=(0,u.classNames)("Modal",`Modal--${o}`,t);return r.createElement(a.default,c({},e,{className:v}),r.createElement(i.ModalHeader,{title:d,onClose:p}),Boolean(h)&&r.createElement(s.ModalBody,{hasScroll:f},h),r.createElement(l.ModalFooter,{actionButtons:_,hint:m}))};d.Header=i.ModalHeader,d.Body=s.ModalBody,d.Footer=l.ModalFooter,d.propTypes=c({},a.default.propTypes,{actionButtons:o.oneOfType([o.arrayOf(o.node),o.node]).isRequired,onClose:o.func.isRequired,title:o.oneOfType([o.arrayOf(o.node),o.node]).isRequired,appearance:o.oneOf(["white","blue"]),hasScroll:o.bool,footerHint:o.node});const _=d},6953:(e,t,n)=>{"use strict";n.d(t,{ScrollContext:()=>l,Scroll:()=>u});n(5115),n(5767),n(1181),n(6253);var r=n(7294),o=n(5697),a=n(9397);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({});class u extends r.Component{constructor(){super(...arguments),this.getWrapperRef=e=>{this.wrapper=e}}componentDidMount(){var e=this.props,t=e.isNative,n=e.isShadows,r=e.neverHide,o=e.onScroll;!this.scroller&&this.context&&this.context.createScroll&&(this.scroller=this.context.createScroll(this.wrapper,{shadows:n,nativeScroll:t,hidden:!r,onScroll:o}))}componentDidUpdate(){this.scroller&&this.scroller.update()}componentWillUnmount(){this.scroller&&(this.scroller.destroy(),this.scroller=null)}render(){var e=this.props,t=e.children,n=(e.isNative,e.isShadows,e.neverHide,e.className),o=void 0===n?"":n,l=s(e,["children","isNative","isShadows","neverHide","className"]);return r.createElement("div",i({},l,{className:(0,a.classNames)("Scroll",o),ref:this.getWrapperRef}),t)}}u.propTypes={className:o.string,children:o.oneOfType([o.element,o.string]).isRequired,isNative:o.bool,isShadows:o.bool,neverHide:o.bool,onScroll:o.func},u.defaultProps={isNative:!1,isShadows:!1,neverHide:!1,onScroll:null},u.contextType=l},8434:(e,t,n)=>{"use strict";n.d(t,{default:()=>i});n(1181),n(6108),n(6253);var r=n(7294),o=n(5697),a=n(9397);class i extends r.Component{constructor(e){super(e),this.id=Math.round(1e6*Math.random()).toString(16),this.setSpinnerParams(e)}UNSAFE_componentWillReceiveProps(e){this.setSpinnerParams(e)}setSpinnerParams(e){this.offset=Math.round(Math.PI*e.size),this.c=.5*e.size,this.animation=function(e,t){if(!e||!t)return"";var n=Object.keys(t).map((e=>e+" {"+Object.keys(t[e]).map((n=>n+":"+t[e][n])).join(";")+"}")).join("");return`@-webkit-keyframes ${e} {${n}} @keyframes ${e} {${n}}`}("dash"+this.id,{"0%":{"stroke-dashoffset":this.offset},"50%":{"stroke-dashoffset":Math.round(.25*this.offset),transform:"rotate(135deg)"},"100%":{"stroke-dashoffset":this.offset,transform:"rotate(360deg)"}})}render(){var e=this.props,t=e.style,n=e.color,o=void 0===n?"var(--icon_secondary)":n,i=e.size,s=e.duration,l=e.strokeWidth,u=e.className,c=this.id,d=this.offset,_=this.animation,p=(0,a.classNames)("Spinner",u);return r.createElement("div",{className:p,style:t},r.createElement("svg",{className:"Spinner__svg",width:i,height:i,viewBox:`0 0 ${i} ${i}`,xmlns:"http://www.w3.org/2000/svg"},r.createElement("g",{style:{width:i,height:i,transformOrigin:.5*i+"px "+.5*i+"px"}},r.createElement("style",{dangerouslySetInnerHTML:{__html:_}}),r.createElement("circle",{className:"Spinner__path",fill:"none",stroke:o,strokeDasharray:d,strokeDashoffset:d,strokeWidth:l,style:{animationName:"dash"+c,animationTimingFunction:"ease-in-out",animationDuration:s+"s",animationIterationCount:"infinite"},cx:.5*i,cy:.5*i,r:.5*i-.5*l}))))}}i.propTypes={color:o.string,size:o.number,strokeWidth:o.number,duration:o.number,className:o.string,style:o.object},i.defaultProps={color:"#5181b8",size:19,strokeWidth:2,duration:1.4,className:""}},4963:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},7722:(e,t,n)=>{var r=n(6314)("unscopables"),o=Array.prototype;null==o[r]&&n(7728)(o,r,{}),e.exports=function(e){o[r][e]=!0}},6793:(e,t,n)=>{"use strict";var r=n(4496)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},3328:e=>{e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},7007:(e,t,n)=>{var r=n(5286);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},9315:(e,t,n)=>{var r=n(2110),o=n(875),a=n(2337);e.exports=function(e){return function(t,n,i){var s,l=r(t),u=o(l.length),c=a(i,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},1488:(e,t,n)=>{var r=n(2032),o=n(6314)("toStringTag"),a="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:a?r(t):"Object"==(i=r(t))&&"function"==typeof t.callee?"Arguments":i}},2032:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},5645:e=>{var t=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=t)},2811:(e,t,n)=>{"use strict";var r=n(9275),o=n(681);e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},741:(e,t,n)=>{var r=n(4963);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},1355:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},7057:(e,t,n)=>{e.exports=!n(4253)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},2457:(e,t,n)=>{var r=n(5286),o=n(3816).document,a=r(o)&&r(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},4430:e=>{e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},5541:(e,t,n)=>{var r=n(7184),o=n(4548),a=n(4682);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var i,s=n(e),l=a.f,u=0;s.length>u;)l.call(e,i=s[u++])&&t.push(i);return t}},2985:(e,t,n)=>{var r=n(3816),o=n(5645),a=n(7728),i=n(3415),s=n(741),l=function(e,t,n){var u,c,d,_,p=e&l.F,h=e&l.G,m=e&l.S,f=e&l.P,v=e&l.B,g=h?r:m?r[t]||(r[t]={}):(r[t]||{}).prototype,y=h?o:o[t]||(o[t]={}),w=y.prototype||(y.prototype={});for(u in h&&(n=t),n)d=((c=!p&&g&&void 0!==g[u])?g:n)[u],_=v&&c?s(d,r):f&&"function"==typeof d?s(Function.call,d):d,g&&i(g,u,d,e&l.U),y[u]!=d&&a(y,u,_),f&&w[u]!=d&&(w[u]=d)};r.core=o,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},4253:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},8082:(e,t,n)=>{"use strict";n(8269);var r=n(3415),o=n(7728),a=n(4253),i=n(1355),s=n(6314),l=n(1165),u=s("species"),c=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var _=s(e),p=!a((function(){var t={};return t[_]=function(){return 7},7!=""[e](t)})),h=p?!a((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[u]=function(){return n}),n[_](""),!t})):void 0;if(!p||!h||"replace"===e&&!c||"split"===e&&!d){var m=/./[_],f=n(i,_,""[e],(function(e,t,n,r,o){return t.exec===l?p&&!o?{done:!0,value:m.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),v=f[0],g=f[1];r(String.prototype,e,v),o(RegExp.prototype,_,2==t?function(e,t){return g.call(e,this,t)}:function(e){return g.call(e,this)})}}},3218:(e,t,n)=>{"use strict";var r=n(7007);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},3531:(e,t,n)=>{var r=n(741),o=n(8851),a=n(6555),i=n(7007),s=n(875),l=n(9002),u={},c={},d=e.exports=function(e,t,n,d,_){var p,h,m,f,v=_?function(){return e}:l(e),g=r(n,d,t?2:1),y=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(a(v)){for(p=s(e.length);p>y;y++)if((f=t?g(i(h=e[y])[0],h[1]):g(e[y]))===u||f===c)return f}else for(m=v.call(e);!(h=m.next()).done;)if((f=o(m,g,h.value,t))===u||f===c)return f};d.BREAK=u,d.RETURN=c},18:(e,t,n)=>{e.exports=n(3825)("native-function-to-string",Function.toString)},3816:e=>{var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},9181:e=>{var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},7728:(e,t,n)=>{var r=n(9275),o=n(681);e.exports=n(7057)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},639:(e,t,n)=>{var r=n(3816).document;e.exports=r&&r.documentElement},1734:(e,t,n)=>{e.exports=!n(7057)&&!n(4253)((function(){return 7!=Object.defineProperty(n(2457)("div"),"a",{get:function(){return 7}}).a}))},266:(e,t,n)=>{var r=n(5286),o=n(7375).set;e.exports=function(e,t,n){var a,i=t.constructor;return i!==n&&"function"==typeof i&&(a=i.prototype)!==n.prototype&&r(a)&&o&&o(e,a),e}},7242:e=>{e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},9797:(e,t,n)=>{var r=n(2032);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},6555:(e,t,n)=>{var r=n(7234),o=n(6314)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[o]===e)}},4302:(e,t,n)=>{var r=n(2032);e.exports=Array.isArray||function(e){return"Array"==r(e)}},5286:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},5364:(e,t,n)=>{var r=n(5286),o=n(2032),a=n(6314)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==o(e))}},8851:(e,t,n)=>{var r=n(7007);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var a=e.return;throw void 0!==a&&r(a.call(e)),t}}},9988:(e,t,n)=>{"use strict";var r=n(2503),o=n(681),a=n(2943),i={};n(7728)(i,n(6314)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(i,{next:o(1,n)}),a(e,t+" Iterator")}},2923:(e,t,n)=>{"use strict";var r=n(4461),o=n(2985),a=n(3415),i=n(7728),s=n(7234),l=n(9988),u=n(2943),c=n(468),d=n(6314)("iterator"),_=!([].keys&&"next"in[].keys()),p="keys",h="values",m=function(){return this};e.exports=function(e,t,n,f,v,g,y){l(n,t,f);var w,b,E,C=function(e){if(!_&&e in x)return x[e];switch(e){case p:case h:return function(){return new n(this,e)}}return function(){return new n(this,e)}},D=t+" Iterator",k=v==h,P=!1,x=e.prototype,T=x[d]||x["@@iterator"]||v&&x[v],S=T||C(v),B=v?k?C("entries"):S:void 0,O="Array"==t&&x.entries||T;if(O&&(E=c(O.call(new e)))!==Object.prototype&&E.next&&(u(E,D,!0),r||"function"==typeof E[d]||i(E,d,m)),k&&T&&T.name!==h&&(P=!0,S=function(){return T.call(this)}),r&&!y||!_&&!P&&x[d]||i(x,d,S),s[t]=S,s[D]=m,v)if(w={values:k?S:C(h),keys:g?S:C(p),entries:B},y)for(b in w)b in x||a(x,b,w[b]);else o(o.P+o.F*(_||P),t,w);return w}},7462:(e,t,n)=>{var r=n(6314)("iterator"),o=!1;try{var a=[7][r]();a.return=function(){o=!0},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var a=[7],i=a[r]();i.next=function(){return{done:n=!0}},a[r]=function(){return i},e(a)}catch(e){}return n}},5436:e=>{e.exports=function(e,t){return{value:t,done:!!e}}},7234:e=>{e.exports={}},4461:e=>{e.exports=!1},4728:(e,t,n)=>{var r=n(3953)("meta"),o=n(5286),a=n(9181),i=n(9275).f,s=0,l=Object.isExtensible||function(){return!0},u=!n(4253)((function(){return l(Object.preventExtensions({}))})),c=function(e){i(e,r,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,r)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[r].i},getWeak:function(e,t){if(!a(e,r)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[r].w},onFreeze:function(e){return u&&d.NEED&&l(e)&&!a(e,r)&&c(e),e}}},4351:(e,t,n)=>{var r=n(3816),o=n(4193).set,a=r.MutationObserver||r.WebKitMutationObserver,i=r.process,s=r.Promise,l="process"==n(2032)(i);e.exports=function(){var e,t,n,u=function(){var r,o;for(l&&(r=i.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(l)n=function(){i.nextTick(u)};else if(!a||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);n=function(){c.then(u)}}else n=function(){o.call(r,u)};else{var d=!0,_=document.createTextNode("");new a(u).observe(_,{characterData:!0}),n=function(){_.data=d=!d}}return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},3499:(e,t,n)=>{"use strict";var r=n(4963);function o(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new o(e)}},5345:(e,t,n)=>{"use strict";var r=n(7057),o=n(7184),a=n(4548),i=n(4682),s=n(508),l=n(9797),u=Object.assign;e.exports=!u||n(4253)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r}))?function(e,t){for(var n=s(e),u=arguments.length,c=1,d=a.f,_=i.f;u>c;)for(var p,h=l(arguments[c++]),m=d?o(h).concat(d(h)):o(h),f=m.length,v=0;f>v;)p=m[v++],r&&!_.call(h,p)||(n[p]=h[p]);return n}:u},2503:(e,t,n)=>{var r=n(7007),o=n(5588),a=n(4430),i=n(9335)("IE_PROTO"),s=function(){},l=function(){var e,t=n(2457)("iframe"),r=a.length;for(t.style.display="none",n(639).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l.prototype[a[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[i]=e):n=l(),void 0===t?n:o(n,t)}},9275:(e,t,n)=>{var r=n(7007),o=n(1734),a=n(1689),i=Object.defineProperty;t.f=n(7057)?Object.defineProperty:function(e,t,n){if(r(e),t=a(t,!0),r(n),o)try{return i(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},5588:(e,t,n)=>{var r=n(9275),o=n(7007),a=n(7184);e.exports=n(7057)?Object.defineProperties:function(e,t){o(e);for(var n,i=a(t),s=i.length,l=0;s>l;)r.f(e,n=i[l++],t[n]);return e}},8693:(e,t,n)=>{var r=n(4682),o=n(681),a=n(2110),i=n(1689),s=n(9181),l=n(1734),u=Object.getOwnPropertyDescriptor;t.f=n(7057)?u:function(e,t){if(e=a(e),t=i(t,!0),l)try{return u(e,t)}catch(e){}if(s(e,t))return o(!r.f.call(e,t),e[t])}},9327:(e,t,n)=>{var r=n(2110),o=n(616).f,a={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return i&&"[object Window]"==a.call(e)?function(e){try{return o(e)}catch(e){return i.slice()}}(e):o(r(e))}},616:(e,t,n)=>{var r=n(189),o=n(4430).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},4548:(e,t)=>{t.f=Object.getOwnPropertySymbols},468:(e,t,n)=>{var r=n(9181),o=n(508),a=n(9335)("IE_PROTO"),i=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?i:null}},189:(e,t,n)=>{var r=n(9181),o=n(2110),a=n(9315)(!1),i=n(9335)("IE_PROTO");e.exports=function(e,t){var n,s=o(e),l=0,u=[];for(n in s)n!=i&&r(s,n)&&u.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~a(u,n)||u.push(n));return u}},7184:(e,t,n)=>{var r=n(189),o=n(4430);e.exports=Object.keys||function(e){return r(e,o)}},4682:(e,t)=>{t.f={}.propertyIsEnumerable},1131:(e,t,n)=>{var r=n(7057),o=n(7184),a=n(2110),i=n(4682).f;e.exports=function(e){return function(t){for(var n,s=a(t),l=o(s),u=l.length,c=0,d=[];u>c;)n=l[c++],r&&!i.call(s,n)||d.push(e?[n,s[n]]:s[n]);return d}}},188:e=>{e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},94:(e,t,n)=>{var r=n(7007),o=n(5286),a=n(3499);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},681:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},4408:(e,t,n)=>{var r=n(3415);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},3415:(e,t,n)=>{var r=n(3816),o=n(7728),a=n(9181),i=n(3953)("src"),s=n(18),l="toString",u=(""+s).split(l);n(5645).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var l="function"==typeof n;l&&(a(n,"name")||o(n,"name",t)),e[t]!==n&&(l&&(a(n,i)||o(n,i,e[t]?""+e[t]:u.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,l,(function(){return"function"==typeof this&&this[i]||s.call(this)}))},7787:(e,t,n)=>{"use strict";var r=n(1488),o=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var a=n.call(e,t);if("object"!=typeof a)throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},1165:(e,t,n)=>{"use strict";var r,o,a=n(3218),i=RegExp.prototype.exec,s=String.prototype.replace,l=i,u=(r=/a/,o=/b*/g,i.call(r,"a"),i.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),c=void 0!==/()??/.exec("")[1];(u||c)&&(l=function(e){var t,n,r,o,l=this;return c&&(n=new RegExp("^"+l.source+"$(?!\\s)",a.call(l))),u&&(t=l.lastIndex),r=i.call(l,e),u&&r&&(l.lastIndex=l.global?r.index+r[0].length:t),c&&r&&r.length>1&&s.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),e.exports=l},7375:(e,t,n)=>{var r=n(5286),o=n(7007),a=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(741)(Function.call,n(8693).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return a(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:a}},2974:(e,t,n)=>{"use strict";var r=n(3816),o=n(9275),a=n(7057),i=n(6314)("species");e.exports=function(e){var t=r[e];a&&t&&!t[i]&&o.f(t,i,{configurable:!0,get:function(){return this}})}},2943:(e,t,n)=>{var r=n(9275).f,o=n(9181),a=n(6314)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},9335:(e,t,n)=>{var r=n(3825)("keys"),o=n(3953);e.exports=function(e){return r[e]||(r[e]=o(e))}},3825:(e,t,n)=>{var r=n(5645),o=n(3816),a="__core-js_shared__",i=o[a]||(o[a]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(4461)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},8364:(e,t,n)=>{var r=n(7007),o=n(4963),a=n(6314)("species");e.exports=function(e,t){var n,i=r(e).constructor;return void 0===i||null==(n=r(i)[a])?t:o(n)}},7717:(e,t,n)=>{"use strict";var r=n(4253);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},4496:(e,t,n)=>{var r=n(1467),o=n(1355);e.exports=function(e){return function(t,n){var a,i,s=String(o(t)),l=r(n),u=s.length;return l<0||l>=u?e?"":void 0:(a=s.charCodeAt(l))<55296||a>56319||l+1===u||(i=s.charCodeAt(l+1))<56320||i>57343?e?s.charAt(l):a:e?s.slice(l,l+2):i-56320+(a-55296<<10)+65536}}},4193:(e,t,n)=>{var r,o,a,i=n(741),s=n(7242),l=n(639),u=n(2457),c=n(3816),d=c.process,_=c.setImmediate,p=c.clearImmediate,h=c.MessageChannel,m=c.Dispatch,f=0,v={},g="onreadystatechange",y=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},w=function(e){y.call(e.data)};_&&p||(_=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++f]=function(){s("function"==typeof e?e:Function(e),t)},r(f),f},p=function(e){delete v[e]},"process"==n(2032)(d)?r=function(e){d.nextTick(i(y,e,1))}:m&&m.now?r=function(e){m.now(i(y,e,1))}:h?(a=(o=new h).port2,o.port1.onmessage=w,r=i(a.postMessage,a,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(e){c.postMessage(e+"","*")},c.addEventListener("message",w,!1)):r=g in u("script")?function(e){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),y.call(e)}}:function(e){setTimeout(i(y,e,1),0)}),e.exports={set:_,clear:p}},2337:(e,t,n)=>{var r=n(1467),o=Math.max,a=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):a(e,t)}},1467:e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},2110:(e,t,n)=>{var r=n(9797),o=n(1355);e.exports=function(e){return r(o(e))}},875:(e,t,n)=>{var r=n(1467),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},508:(e,t,n)=>{var r=n(1355);e.exports=function(e){return Object(r(e))}},1689:(e,t,n)=>{var r=n(5286);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},3953:e=>{var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+n).toString(36))}},575:(e,t,n)=>{var r=n(3816).navigator;e.exports=r&&r.userAgent||""},6074:(e,t,n)=>{var r=n(3816),o=n(5645),a=n(4461),i=n(8787),s=n(9275).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=a?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:i.f(e)})}},8787:(e,t,n)=>{t.f=n(6314)},6314:(e,t,n)=>{var r=n(3825)("wks"),o=n(3953),a=n(3816).Symbol,i="function"==typeof a;(e.exports=function(e){return r[e]||(r[e]=i&&a[e]||(i?a:o)("Symbol."+e))}).store=r},9002:(e,t,n)=>{var r=n(1488),o=n(6314)("iterator"),a=n(7234);e.exports=n(5645).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||a[r(e)]}},522:(e,t,n)=>{"use strict";var r=n(741),o=n(2985),a=n(508),i=n(8851),s=n(6555),l=n(875),u=n(2811),c=n(9002);o(o.S+o.F*!n(7462)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,o,d,_=a(e),p="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,f=void 0!==m,v=0,g=c(_);if(f&&(m=r(m,h>2?arguments[2]:void 0,2)),null==g||p==Array&&s(g))for(n=new p(t=l(_.length));t>v;v++)u(n,v,f?m(_[v],v):_[v]);else for(d=g.call(_),n=new p;!(o=d.next()).done;v++)u(n,v,f?i(d,m,[o.value,v],!0):o.value);return n.length=v,n}})},6997:(e,t,n)=>{"use strict";var r=n(7722),o=n(5436),a=n(7234),i=n(2110);e.exports=n(2923)(Array,"Array",(function(e,t){this._t=i(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},75:(e,t,n)=>{"use strict";var r=n(2985),o=n(4963),a=n(508),i=n(4253),s=[].sort,l=[1,2,3];r(r.P+r.F*(i((function(){l.sort(void 0)}))||!i((function(){l.sort(null)}))||!n(7717)(s)),"Array",{sort:function(e){return void 0===e?s.call(a(this)):s.call(a(this),o(e))}})},5115:(e,t,n)=>{var r=n(2985);r(r.S+r.F,"Object",{assign:n(5345)})},6253:(e,t,n)=>{"use strict";var r=n(1488),o={};o[n(6314)("toStringTag")]="z",o+""!="[object z]"&&n(3415)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},851:(e,t,n)=>{"use strict";var r,o,a,i,s=n(4461),l=n(3816),u=n(741),c=n(1488),d=n(2985),_=n(5286),p=n(4963),h=n(3328),m=n(3531),f=n(8364),v=n(4193).set,g=n(4351)(),y=n(3499),w=n(188),b=n(575),E=n(94),C="Promise",D=l.TypeError,k=l.process,P=k&&k.versions,x=P&&P.v8||"",T=l.Promise,S="process"==c(k),B=function(){},O=o=y.f,M=!!function(){try{var e=T.resolve(1),t=(e.constructor={})[n(6314)("species")]=function(e){e(B,B)};return(S||"function"==typeof PromiseRejectionEvent)&&e.then(B)instanceof t&&0!==x.indexOf("6.6")&&-1===b.indexOf("Chrome/66")}catch(e){}}(),L=function(e){var t;return!(!_(e)||"function"!=typeof(t=e.then))&&t},I=function(e,t){if(!e._n){e._n=!0;var n=e._c;g((function(){for(var r=e._v,o=1==e._s,a=0,i=function(t){var n,a,i,s=o?t.ok:t.fail,l=t.resolve,u=t.reject,c=t.domain;try{s?(o||(2==e._h&&R(e),e._h=1),!0===s?n=r:(c&&c.enter(),n=s(r),c&&(c.exit(),i=!0)),n===t.promise?u(D("Promise-chain cycle")):(a=L(n))?a.call(n,l,u):l(n)):u(r)}catch(e){c&&!i&&c.exit(),u(e)}};n.length>a;)i(n[a++]);e._c=[],e._n=!1,t&&!e._h&&A(e)}))}},A=function(e){v.call(l,(function(){var t,n,r,o=e._v,a=N(e);if(a&&(t=w((function(){S?k.emit("unhandledRejection",o,e):(n=l.onunhandledrejection)?n({promise:e,reason:o}):(r=l.console)&&r.error&&r.error("Unhandled promise rejection",o)})),e._h=S||N(e)?2:1),e._a=void 0,a&&t.e)throw t.v}))},N=function(e){return 1!==e._h&&0===(e._a||e._c).length},R=function(e){v.call(l,(function(){var t;S?k.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})}))},F=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),I(t,!0))},W=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw D("Promise can't be resolved itself");(t=L(e))?g((function(){var r={_w:n,_d:!1};try{t.call(e,u(W,r,1),u(F,r,1))}catch(e){F.call(r,e)}})):(n._v=e,n._s=1,I(n,!1))}catch(e){F.call({_w:n,_d:!1},e)}}};M||(T=function(e){h(this,T,C,"_h"),p(e),r.call(this);try{e(u(W,this,1),u(F,this,1))}catch(e){F.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(4408)(T.prototype,{then:function(e,t){var n=O(f(this,T));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=S?k.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&I(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new r;this.promise=e,this.resolve=u(W,e,1),this.reject=u(F,e,1)},y.f=O=function(e){return e===T||e===i?new a(e):o(e)}),d(d.G+d.W+d.F*!M,{Promise:T}),n(2943)(T,C),n(2974)(C),i=n(5645).Promise,d(d.S+d.F*!M,C,{reject:function(e){var t=O(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!M),C,{resolve:function(e){return E(s&&this===i?T:this,e)}}),d(d.S+d.F*!(M&&n(7462)((function(e){T.all(e).catch(B)}))),C,{all:function(e){var t=this,n=O(t),r=n.resolve,o=n.reject,a=w((function(){var n=[],a=0,i=1;m(e,!1,(function(e){var s=a++,l=!1;n.push(void 0),i++,t.resolve(e).then((function(e){l||(l=!0,n[s]=e,--i||r(n))}),o)})),--i||r(n)}));return a.e&&o(a.v),n.promise},race:function(e){var t=this,n=O(t),r=n.reject,o=w((function(){m(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return o.e&&r(o.v),n.promise}})},3946:(e,t,n)=>{var r=n(3816),o=n(266),a=n(9275).f,i=n(616).f,s=n(5364),l=n(3218),u=r.RegExp,c=u,d=u.prototype,_=/a/g,p=/a/g,h=new u(_)!==_;if(n(7057)&&(!h||n(4253)((function(){return p[n(6314)("match")]=!1,u(_)!=_||u(p)==p||"/a/i"!=u(_,"i")})))){u=function(e,t){var n=this instanceof u,r=s(e),a=void 0===t;return!n&&r&&e.constructor===u&&a?e:o(h?new c(r&&!a?e.source:e,t):c((r=e instanceof u)?e.source:e,r&&a?l.call(e):t),n?this:d,u)};for(var m=function(e){e in u||a(u,e,{configurable:!0,get:function(){return c[e]},set:function(t){c[e]=t}})},f=i(c),v=0;f.length>v;)m(f[v++]);d.constructor=u,u.prototype=d,n(3415)(r,"RegExp",u)}n(2974)("RegExp")},8269:(e,t,n)=>{"use strict";var r=n(1165);n(2985)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},6774:(e,t,n)=>{n(7057)&&"g"!=/./g.flags&&n(9275).f(RegExp.prototype,"flags",{configurable:!0,get:n(3218)})},1466:(e,t,n)=>{"use strict";var r=n(7007),o=n(875),a=n(6793),i=n(7787);n(8082)("match",1,(function(e,t,n,s){return[function(n){var r=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=s(n,e,this);if(t.done)return t.value;var l=r(e),u=String(this);if(!l.global)return i(l,u);var c=l.unicode;l.lastIndex=0;for(var d,_=[],p=0;null!==(d=i(l,u));){var h=String(d[0]);_[p]=h,""===h&&(l.lastIndex=a(u,o(l.lastIndex),c)),p++}return 0===p?null:_}]}))},9357:(e,t,n)=>{"use strict";var r=n(7007),o=n(508),a=n(875),i=n(1467),s=n(6793),l=n(7787),u=Math.max,c=Math.min,d=Math.floor,_=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;n(8082)("replace",2,(function(e,t,n,h){return[function(r,o){var a=e(this),i=null==r?void 0:r[t];return void 0!==i?i.call(r,a,o):n.call(String(a),r,o)},function(e,t){var o=h(n,e,this,t);if(o.done)return o.value;var d=r(e),_=String(this),p="function"==typeof t;p||(t=String(t));var f=d.global;if(f){var v=d.unicode;d.lastIndex=0}for(var g=[];;){var y=l(d,_);if(null===y)break;if(g.push(y),!f)break;""===String(y[0])&&(d.lastIndex=s(_,a(d.lastIndex),v))}for(var w,b="",E=0,C=0;C<g.length;C++){y=g[C];for(var D=String(y[0]),k=u(c(i(y.index),_.length),0),P=[],x=1;x<y.length;x++)P.push(void 0===(w=y[x])?w:String(w));var T=y.groups;if(p){var S=[D].concat(P,k,_);void 0!==T&&S.push(T);var B=String(t.apply(void 0,S))}else B=m(D,_,k,P,T,t);k>=E&&(b+=_.slice(E,k)+B,E=k+D.length)}return b+_.slice(E)}];function m(e,t,r,a,i,s){var l=r+e.length,u=a.length,c=p;return void 0!==i&&(i=o(i),c=_),n.call(s,c,(function(n,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(l);case"<":s=i[o.slice(1,-1)];break;default:var c=+o;if(0===c)return n;if(c>u){var _=d(c/10);return 0===_?n:_<=u?void 0===a[_-1]?o.charAt(1):a[_-1]+o.charAt(1):n}s=a[c-1]}return void 0===s?"":s}))}}))},1876:(e,t,n)=>{"use strict";var r=n(5364),o=n(7007),a=n(8364),i=n(6793),s=n(875),l=n(7787),u=n(1165),c=n(4253),d=Math.min,_=[].push,p=4294967295,h=!c((function(){RegExp(p,"y")}));n(8082)("split",2,(function(e,t,n,c){var m;return m="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var o=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(o,e,t);for(var a,i,s,l=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,h=void 0===t?p:t>>>0,m=new RegExp(e.source,c+"g");(a=u.call(m,o))&&!((i=m.lastIndex)>d&&(l.push(o.slice(d,a.index)),a.length>1&&a.index<o.length&&_.apply(l,a.slice(1)),s=a[0].length,d=i,l.length>=h));)m.lastIndex===a.index&&m.lastIndex++;return d===o.length?!s&&m.test("")||l.push(""):l.push(o.slice(d)),l.length>h?l.slice(0,h):l}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var o=e(this),a=null==n?void 0:n[t];return void 0!==a?a.call(n,o,r):m.call(String(o),n,r)},function(e,t){var r=c(m,e,this,t,m!==n);if(r.done)return r.value;var u=o(e),_=String(this),f=a(u,RegExp),v=u.unicode,g=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(h?"y":"g"),y=new f(h?u:"^(?:"+u.source+")",g),w=void 0===t?p:t>>>0;if(0===w)return[];if(0===_.length)return null===l(y,_)?[_]:[];for(var b=0,E=0,C=[];E<_.length;){y.lastIndex=h?E:0;var D,k=l(y,h?_:_.slice(E));if(null===k||(D=d(s(y.lastIndex+(h?0:E)),_.length))===b)E=i(_,E,v);else{if(C.push(_.slice(b,E)),C.length===w)return C;for(var P=1;P<=k.length-1;P++)if(C.push(k[P]),C.length===w)return C;E=b=D}}return C.push(_.slice(b)),C}]}))},6108:(e,t,n)=>{"use strict";n(6774);var r=n(7007),o=n(3218),a=n(7057),i="toString",s=/./.toString,l=function(e){n(3415)(RegExp.prototype,i,e,!0)};n(4253)((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?l((function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!a&&e instanceof RegExp?o.call(e):void 0)})):s.name!=i&&l((function(){return s.call(this)}))},5767:(e,t,n)=>{"use strict";var r=n(3816),o=n(9181),a=n(7057),i=n(2985),s=n(3415),l=n(4728).KEY,u=n(4253),c=n(3825),d=n(2943),_=n(3953),p=n(6314),h=n(8787),m=n(6074),f=n(5541),v=n(4302),g=n(7007),y=n(5286),w=n(508),b=n(2110),E=n(1689),C=n(681),D=n(2503),k=n(9327),P=n(8693),x=n(4548),T=n(9275),S=n(7184),B=P.f,O=T.f,M=k.f,L=r.Symbol,I=r.JSON,A=I&&I.stringify,N=p("_hidden"),R=p("toPrimitive"),F={}.propertyIsEnumerable,W=c("symbol-registry"),U=c("symbols"),j=c("op-symbols"),H=Object.prototype,K="function"==typeof L&&!!x.f,V=r.QObject,z=!V||!V.prototype||!V.prototype.findChild,q=a&&u((function(){return 7!=D(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=B(H,t);r&&delete H[t],O(e,t,n),r&&e!==H&&O(H,t,r)}:O,G=function(e){var t=U[e]=D(L.prototype);return t._k=e,t},$=K&&"symbol"==typeof L.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof L},Y=function(e,t,n){return e===H&&Y(j,t,n),g(e),t=E(t,!0),g(n),o(U,t)?(n.enumerable?(o(e,N)&&e[N][t]&&(e[N][t]=!1),n=D(n,{enumerable:C(0,!1)})):(o(e,N)||O(e,N,C(1,{})),e[N][t]=!0),q(e,t,n)):O(e,t,n)},X=function(e,t){g(e);for(var n,r=f(t=b(t)),o=0,a=r.length;a>o;)Y(e,n=r[o++],t[n]);return e},Q=function(e){var t=F.call(this,e=E(e,!0));return!(this===H&&o(U,e)&&!o(j,e))&&(!(t||!o(this,e)||!o(U,e)||o(this,N)&&this[N][e])||t)},J=function(e,t){if(e=b(e),t=E(t,!0),e!==H||!o(U,t)||o(j,t)){var n=B(e,t);return!n||!o(U,t)||o(e,N)&&e[N][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=M(b(e)),r=[],a=0;n.length>a;)o(U,t=n[a++])||t==N||t==l||r.push(t);return r},ee=function(e){for(var t,n=e===H,r=M(n?j:b(e)),a=[],i=0;r.length>i;)!o(U,t=r[i++])||n&&!o(H,t)||a.push(U[t]);return a};K||(s((L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var e=_(arguments.length>0?arguments[0]:void 0),t=function(n){this===H&&t.call(j,n),o(this,N)&&o(this[N],e)&&(this[N][e]=!1),q(this,e,C(1,n))};return a&&z&&q(H,e,{configurable:!0,set:t}),G(e)}).prototype,"toString",(function(){return this._k})),P.f=J,T.f=Y,n(616).f=k.f=Z,n(4682).f=Q,x.f=ee,a&&!n(4461)&&s(H,"propertyIsEnumerable",Q,!0),h.f=function(e){return G(p(e))}),i(i.G+i.W+i.F*!K,{Symbol:L});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)p(te[ne++]);for(var re=S(p.store),oe=0;re.length>oe;)m(re[oe++]);i(i.S+i.F*!K,"Symbol",{for:function(e){return o(W,e+="")?W[e]:W[e]=L(e)},keyFor:function(e){if(!$(e))throw TypeError(e+" is not a symbol!");for(var t in W)if(W[t]===e)return t},useSetter:function(){z=!0},useSimple:function(){z=!1}}),i(i.S+i.F*!K,"Object",{create:function(e,t){return void 0===t?D(e):X(D(e),t)},defineProperty:Y,defineProperties:X,getOwnPropertyDescriptor:J,getOwnPropertyNames:Z,getOwnPropertySymbols:ee});var ae=u((function(){x.f(1)}));i(i.S+i.F*ae,"Object",{getOwnPropertySymbols:function(e){return x.f(w(e))}}),I&&i(i.S+i.F*(!K||u((function(){var e=L();return"[null]"!=A([e])||"{}"!=A({a:e})||"{}"!=A(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(y(t)||void 0!==e)&&!$(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!$(t))return t}),r[1]=t,A.apply(I,r)}}),L.prototype[R]||n(7728)(L.prototype,R,L.prototype.valueOf),d(L,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},3276:(e,t,n)=>{var r=n(2985),o=n(1131)(!0);r(r.S,"Object",{entries:function(e){return o(e)}})},6409:(e,t,n)=>{var r=n(2985),o=n(1131)(!1);r(r.S,"Object",{values:function(e){return o(e)}})},9665:(e,t,n)=>{n(6074)("asyncIterator")},1181:(e,t,n)=>{for(var r=n(6997),o=n(7184),a=n(3415),i=n(3816),s=n(7728),l=n(7234),u=n(6314),c=u("iterator"),d=u("toStringTag"),_=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=o(p),m=0;m<h.length;m++){var f,v=h[m],g=p[v],y=i[v],w=y&&y.prototype;if(w&&(w[c]||s(w,c,_),w[d]||s(w,d,v),l[v]=_,g))for(f in r)w[f]||a(w,f,r[f],!0)}},8091:e=>{"use strict";function t(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var a=Object.keys(Object(o)),i=0,s=a.length;i<s;i++){var l=a[i],u=Object.getOwnPropertyDescriptor(o,l);void 0!==u&&u.enumerable&&(n[l]=o[l])}}return n}e.exports={assign:t,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:t})}}},2703:(e,t,n)=>{"use strict";var r=n(414);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},5697:(e,t,n)=>{e.exports=n(2703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4448:(e,t,n)=>{"use strict";var r=n(7294),o=n(5013),a=n(3840);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(i(227));var s=new Set,l={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,h={},m={};function f(e,t,n,r,o,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new f(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new f(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new f(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new f(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new f(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new f(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var o=v.hasOwnProperty(t)?v[t]:null;(null!==o?0===o.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!p.call(m,e)||!p.call(h,e)&&(_.test(e)?m[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new f(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);v[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,C=60106,D=60107,k=60108,P=60114,x=60109,T=60110,S=60112,B=60113,O=60120,M=60115,L=60116,I=60121,A=60128,N=60129,R=60130,F=60131;if("function"==typeof Symbol&&Symbol.for){var W=Symbol.for;E=W("react.element"),C=W("react.portal"),D=W("react.fragment"),k=W("react.strict_mode"),P=W("react.profiler"),x=W("react.provider"),T=W("react.context"),S=W("react.forward_ref"),B=W("react.suspense"),O=W("react.suspense_list"),M=W("react.memo"),L=W("react.lazy"),I=W("react.block"),W("react.scope"),A=W("react.opaque.id"),N=W("react.debug_trace_mode"),R=W("react.offscreen"),F=W("react.legacy_hidden")}var U,j="function"==typeof Symbol&&Symbol.iterator;function H(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=j&&e[j]||e["@@iterator"])?e:null}function K(e){if(void 0===U)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var V=!1;function z(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var o=e.stack.split("\n"),a=r.stack.split("\n"),i=o.length-1,s=a.length-1;1<=i&&0<=s&&o[i]!==a[s];)s--;for(;1<=i&&0<=s;i--,s--)if(o[i]!==a[s]){if(1!==i||1!==s)do{if(i--,0>--s||o[i]!==a[s])return"\n"+o[i].replace(" at new "," at ")}while(1<=i&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?K(e):""}function q(e){switch(e.tag){case 5:return K(e.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 22:return e=z(e.type._render,!1);case 1:return e=z(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case D:return"Fragment";case C:return"Portal";case P:return"Profiler";case k:return"StrictMode";case B:return"Suspense";case O:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case S:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case M:return G(e.type);case I:return G(e._render);case L:t=e._payload,e=e._init;try{return G(e(t))}catch(e){}}return null}function $(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?oe(e,t.type,n):t.hasOwnProperty("defaultValue")&&oe(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function oe(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ie(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function ue(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml",_e="http://www.w3.org/2000/svg";function pe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?pe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,fe,ve=(fe=function(e,t){if(e.namespaceURI!==_e||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return fe(e,t)}))}:fe);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(ye).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var Ce=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function De(e,t){if(t){if(Ce[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(i(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Pe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Te=null,Se=null;function Be(e){if(e=eo(e)){if("function"!=typeof xe)throw Error(i(280));var t=e.stateNode;t&&(t=no(t),xe(e.stateNode,e.type,t))}}function Oe(e){Te?Se?Se.push(e):Se=[e]:Te=e}function Me(){if(Te){var e=Te,t=Se;if(Se=Te=null,Be(e),t)for(e=0;e<t.length;e++)Be(t[e])}}function Le(e,t){return e(t)}function Ie(e,t,n,r,o){return e(t,n,r,o)}function Ae(){}var Ne=Le,Re=!1,Fe=!1;function We(){null===Te&&null===Se||(Ae(),Me())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=no(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(i(231,t,typeof n));return n}var je=!1;if(d)try{var He={};Object.defineProperty(He,"passive",{get:function(){je=!0}}),window.addEventListener("test",He,He),window.removeEventListener("test",He,He)}catch(fe){je=!1}function Ke(e,t,n,r,o,a,i,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var Ve=!1,ze=null,qe=!1,Ge=null,$e={onError:function(e){Ve=!0,ze=e}};function Ye(e,t,n,r,o,a,i,s,l){Ve=!1,ze=null,Ke.apply($e,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Xe(e)!==e)throw Error(i(188))}function Ze(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return Je(o),e;if(a===r)return Je(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,ot,at=!1,it=[],st=null,lt=null,ut=null,ct=new Map,dt=new Map,_t=[],pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ht(e,t,n,r,o){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:o,targetContainers:[r]}}function mt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":lt=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dt.delete(t.pointerId)}}function ft(e,t,n,r,o,a){return null===e||e.nativeEvent!==a?(e=ht(t,n,r,o,a),null!==t&&(null!==(t=eo(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function vt(e){var t=Zr(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Qe(n)))return e.blockedOn=t,void ot(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=eo(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){gt(e)&&n.delete(t)}function wt(){for(at=!1;0<it.length;){var e=it[0];if(null!==e.blockedOn){null!==(e=eo(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&it.shift()}null!==st&&gt(st)&&(st=null),null!==lt&&gt(lt)&&(lt=null),null!==ut&&gt(ut)&&(ut=null),ct.forEach(yt),dt.forEach(yt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,wt)))}function Et(e){function t(t){return bt(t,e)}if(0<it.length){bt(it[0],e);for(var n=1;n<it.length;n++){var r=it[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&bt(st,e),null!==lt&&bt(lt,e),null!==ut&&bt(ut,e),ct.forEach(t),dt.forEach(t),n=0;n<_t.length;n++)(r=_t[n]).blockedOn===e&&(r.blockedOn=null);for(;0<_t.length&&null===(n=_t[0]).blockedOn;)vt(n),null===n.blockedOn&&_t.shift()}function Ct(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Dt={animationend:Ct("Animation","AnimationEnd"),animationiteration:Ct("Animation","AnimationIteration"),animationstart:Ct("Animation","AnimationStart"),transitionend:Ct("Transition","TransitionEnd")},kt={},Pt={};function xt(e){if(kt[e])return kt[e];if(!Dt[e])return e;var t,n=Dt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Pt)return kt[e]=n[t];return e}d&&(Pt=document.createElement("div").style,"AnimationEvent"in window||(delete Dt.animationend.animation,delete Dt.animationiteration.animation,delete Dt.animationstart.animation),"TransitionEvent"in window||delete Dt.transitionend.transition);var Tt=xt("animationend"),St=xt("animationiteration"),Bt=xt("animationstart"),Ot=xt("transitionend"),Mt=new Map,Lt=new Map,It=["abort","abort",Tt,"animationEnd",St,"animationIteration",Bt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function At(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],o=e[n+1];o="on"+(o[0].toUpperCase()+o.slice(1)),Lt.set(r,t),Mt.set(r,o),u(o,[r])}}(0,a.unstable_now)();var Nt=8;function Rt(e){if(0!=(1&e))return Nt=15,1;if(0!=(2&e))return Nt=14,2;if(0!=(4&e))return Nt=13,4;var t=24&e;return 0!==t?(Nt=12,t):0!=(32&e)?(Nt=11,32):0!==(t=192&e)?(Nt=10,t):0!=(256&e)?(Nt=9,256):0!==(t=3584&e)?(Nt=8,t):0!=(4096&e)?(Nt=7,4096):0!==(t=4186112&e)?(Nt=6,t):0!==(t=62914560&e)?(Nt=5,t):67108864&e?(Nt=4,67108864):0!=(134217728&e)?(Nt=3,134217728):0!==(t=805306368&e)?(Nt=2,t):0!=(1073741824&e)?(Nt=1,1073741824):(Nt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Nt=0;var r=0,o=0,a=e.expiredLanes,i=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,o=Nt=15;else if(0!==(a=134217727&n)){var l=a&~i;0!==l?(r=Rt(l),o=Nt):0!==(s&=a)&&(r=Rt(s),o=Nt)}else 0!==(a=n&~i)?(r=Rt(a),o=Nt):0!==s&&(r=Rt(s),o=Nt);if(0===r)return 0;if(r=n&((0>(r=31-Vt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&i)){if(Rt(t),o<=Nt)return t;Nt=o}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-Vt(t)),r|=e[n],t&=~o;return r}function Wt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=jt(24&~t))?Ut(10,t):e;case 10:return 0===(e=jt(192&~t))?Ut(8,t):e;case 8:return 0===(e=jt(3584&~t))&&(0===(e=jt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=jt(805306368&~t))&&(t=268435456),t}throw Error(i(358,e))}function jt(e){return e&-e}function Ht(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Kt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Vt(t)]=n}var Vt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(zt(e)/qt|0)|0},zt=Math.log,qt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,$t=a.unstable_runWithPriority,Yt=!0;function Xt(e,t,n,r){Re||Ae();var o=Jt,a=Re;Re=!0;try{Ie(o,e,t,n,r)}finally{(Re=a)||We()}}function Qt(e,t,n,r){$t(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var o;if(Yt)if((o=0==(4&t))&&0<it.length&&-1<pt.indexOf(e))e=ht(null,e,t,n,r),it.push(e);else{var a=Zt(e,t,n,r);if(null===a)o&&mt(e,r);else{if(o){if(-1<pt.indexOf(e))return e=ht(a,e,t,n,r),void it.push(e);if(function(e,t,n,r,o){switch(t){case"focusin":return st=ft(st,e,t,n,r,o),!0;case"dragenter":return lt=ft(lt,e,t,n,r,o),!0;case"mouseover":return ut=ft(ut,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return ct.set(a,ft(ct.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,dt.set(a,ft(dt.get(a)||null,e,t,n,r,o)),!0}return!1}(a,e,t,n,r))return;mt(e,r)}Mr(e,t,r,null,n)}}}function Zt(e,t,n,r){var o=Pe(r);if(null!==(o=Zr(o))){var a=Xe(o);if(null===a)o=null;else{var i=a.tag;if(13===i){if(null!==(o=Qe(a)))return o;o=null}else if(3===i){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null)}}return Mr(e,t,r,o,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,o="value"in en?en.value:en.textContent,a=o.length;for(e=0;e<r&&n[e]===o[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===o[a-t];t++);return nn=o.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function ln(e){function t(t,n,r,o,a){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(o):o[i]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?an:sn,this.isPropagationStopped=sn,this}return o(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var un,cn,dn,_n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pn=ln(_n),hn=o({},_n,{view:0,detail:0}),mn=ln(hn),fn=o({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dn&&(dn&&"mousemove"===e.type?(un=e.screenX-dn.screenX,cn=e.screenY-dn.screenY):cn=un=0,dn=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),vn=ln(fn),gn=ln(o({},fn,{dataTransfer:0})),yn=ln(o({},hn,{relatedTarget:0})),wn=ln(o({},_n,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=ln(o({},_n,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),En=ln(o({},_n,{data:0})),Cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function xn(){return Pn}var Tn=ln(o({},hn,{key:function(e){if(e.key){var t=Cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Sn=ln(o({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Bn=ln(o({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),On=ln(o({},_n,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=ln(o({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Ln=[9,13,27,32],In=d&&"CompositionEvent"in window,An=null;d&&"documentMode"in document&&(An=document.documentMode);var Nn=d&&"TextEvent"in window&&!An,Rn=d&&(!In||An&&8<An&&11>=An),Fn=String.fromCharCode(32),Wn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function zn(e,t,n,r){Oe(r),0<(t=Ir(t,"onChange")).length&&(n=new pn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Gn=null;function $n(e){Pr(e,0)}function Yn(e){if(Q(to(e)))return e}function Xn(e,t){if("change"===e)return t}var Qn=!1;if(d){var Jn;if(d){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"==typeof er.oninput}Jn=Zn}else Jn=!1;Qn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Gn=qn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];if(zn(t,Gn,e,Pe(e)),e=$n,Re)e(t);else{Re=!0;try{Le(e,t)}finally{Re=!1,We()}}}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ar(e,t){if("click"===e)return Yn(t)}function ir(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},lr=Object.prototype.hasOwnProperty;function ur(e,t){if(sr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!lr.call(t,n[r])||!sr(e[n[r]],t[n[r]]))return!1;return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function _r(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?_r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mr=d&&"documentMode"in document&&11>=document.documentMode,fr=null,vr=null,gr=null,yr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==fr||fr!==J(r)||("selectionStart"in(r=fr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Ir(vr,"onSelect")).length&&(t=new pn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=fr)))}At("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),At("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),At(It,2);for(var br="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<br.length;Er++)Lt.set(br[Er],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cr));function kr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,a,s,l,u){if(Ye.apply(this,arguments),Ve){if(!Ve)throw Error(i(198));var c=ze;Ve=!1,ze=null,qe||(qe=!0,Ge=c)}}(r,t,void 0,e),e.currentTarget=null}function Pr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&o.isPropagationStopped())break e;kr(o,s,u),a=l}else for(i=0;i<r.length;i++){if(l=(s=r[i]).instance,u=s.currentTarget,s=s.listener,l!==a&&o.isPropagationStopped())break e;kr(o,s,u),a=l}}}if(qe)throw e=Ge,qe=!1,Ge=null,e}function xr(e,t){var n=ro(t),r=e+"__bubble";n.has(r)||(Or(t,e,2,!1),n.add(r))}var Tr="_reactListening"+Math.random().toString(36).slice(2);function Sr(e){e[Tr]||(e[Tr]=!0,s.forEach((function(t){Dr.has(t)||Br(t,!1,e,null),Br(t,!0,e,null)})))}function Br(e,t,n,r){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Dr.has(e)){if("scroll"!==e)return;o|=2,a=r}var i=ro(a),s=e+"__"+(t?"capture":"bubble");i.has(s)||(t&&(o|=4),Or(a,e,o,t),i.add(s))}function Or(e,t,n,r){var o=Lt.get(t);switch(void 0===o?2:o){case 0:o=Xt;break;case 1:o=Qt;break;default:o=Jt}n=o.bind(null,t,n,e),o=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Mr(e,t,n,r,o){var a=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;i=i.return}for(;null!==s;){if(null===(i=Zr(s)))return;if(5===(l=i.tag)||6===l){r=a=i;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Ne(e,t,n)}finally{Fe=!1,We()}}((function(){var r=a,o=Pe(n),i=[];e:{var s=Mt.get(e);if(void 0!==s){var l=pn,u=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":u="focus",l=yn;break;case"focusout":u="blur",l=yn;break;case"beforeblur":case"afterblur":l=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Bn;break;case Tt:case St:case Bt:l=wn;break;case Ot:l=On;break;case"scroll":l=mn;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Sn}var c=0!=(4&t),d=!c&&"scroll"===e,_=c?null!==s?s+"Capture":null:s;c=[];for(var p,h=r;null!==h;){var m=(p=h).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==_&&(null!=(m=Ue(h,_))&&c.push(Lr(h,m,p)))),d)break;h=h.return}0<c.length&&(s=new l(s,u,null,n,o),i.push({event:s,listeners:c}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(u=n.relatedTarget||n.fromElement)||!Zr(u)&&!u[Qr])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?Zr(u):null)&&(u!==(d=Xe(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=vn,m="onMouseLeave",_="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=Sn,m="onPointerLeave",_="onPointerEnter",h="pointer"),d=null==l?s:to(l),p=null==u?s:to(u),(s=new c(m,h+"leave",l,n,o)).target=d,s.relatedTarget=p,m=null,Zr(o)===r&&((c=new c(_,h+"enter",u,n,o)).target=p,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(_=u,h=0,p=c=l;p;p=Ar(p))h++;for(p=0,m=_;m;m=Ar(m))p++;for(;0<h-p;)c=Ar(c),h--;for(;0<p-h;)_=Ar(_),p--;for(;h--;){if(c===_||null!==_&&c===_.alternate)break e;c=Ar(c),_=Ar(_)}c=null}else c=null;null!==l&&Nr(i,s,l,c,!1),null!==u&&null!==d&&Nr(i,d,u,c,!0)}if("select"===(l=(s=r?to(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var f=Xn;else if(Vn(s))if(Qn)f=ir;else{f=or;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(f=ar);switch(f&&(f=f(e,r))?zn(i,f,n,o):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&oe(s,"number",s.value)),v=r?to(r):window,e){case"focusin":(Vn(v)||"true"===v.contentEditable)&&(fr=v,vr=r,gr=null);break;case"focusout":gr=vr=fr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,wr(i,n,o);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(i,n,o)}var g;if(In)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Hn?Un(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Rn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Hn&&(g=rn()):(tn="value"in(en=o)?en.value:en.textContent,Hn=!0)),0<(v=Ir(r,y)).length&&(y=new En(y,e,null,n,o),i.push({event:y,listeners:v}),g?y.data=g:null!==(g=jn(n))&&(y.data=g))),(g=Nn?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Wn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Wn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!In&&Un(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Ir(r,"onBeforeInput")).length&&(o=new En("onBeforeInput","beforeinput",null,n,o),i.push({event:o,listeners:r}),o.data=g))}Pr(i,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ir(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,a=o.stateNode;5===o.tag&&null!==a&&(o=a,null!=(a=Ue(e,n))&&r.unshift(Lr(e,a,o)),null!=(a=Ue(e,t))&&r.push(Lr(e,a,o))),e=e.return}return r}function Ar(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Nr(e,t,n,r,o){for(var a=t._reactName,i=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,o?null!=(l=Ue(n,a))&&i.unshift(Lr(n,l,s)):o||null!=(l=Ue(n,a))&&i.push(Lr(n,l,s))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}function Rr(){}var Fr=null,Wr=null;function Ur(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function jr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"==typeof setTimeout?setTimeout:void 0,Kr="function"==typeof clearTimeout?clearTimeout:void 0;function Vr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function zr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Gr=0;var $r=Math.random().toString(36).slice(2),Yr="__reactFiber$"+$r,Xr="__reactProps$"+$r,Qr="__reactContainer$"+$r,Jr="__reactEvents$"+$r;function Zr(e){var t=e[Yr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qr]||n[Yr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=qr(e);null!==e;){if(n=e[Yr])return n;e=qr(e)}return t}n=(e=n).parentNode}return null}function eo(e){return!(e=e[Yr]||e[Qr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function to(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function no(e){return e[Xr]||null}function ro(e){var t=e[Jr];return void 0===t&&(t=e[Jr]=new Set),t}var oo=[],ao=-1;function io(e){return{current:e}}function so(e){0>ao||(e.current=oo[ao],oo[ao]=null,ao--)}function lo(e,t){ao++,oo[ao]=e.current,e.current=t}var uo={},co=io(uo),_o=io(!1),po=uo;function ho(e,t){var n=e.type.contextTypes;if(!n)return uo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in n)a[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mo(e){return null!=(e=e.childContextTypes)}function fo(){so(_o),so(co)}function vo(e,t,n){if(co.current!==uo)throw Error(i(168));lo(co,t),lo(_o,n)}function go(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(i(108,G(t)||"Unknown",a));return o({},n,r)}function yo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||uo,po=co.current,lo(co,e),lo(_o,_o.current),!0}function wo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=go(e,t,po),r.__reactInternalMemoizedMergedChildContext=e,so(_o),so(co),lo(co,e)):so(_o),lo(_o,n)}var bo=null,Eo=null,Co=a.unstable_runWithPriority,Do=a.unstable_scheduleCallback,ko=a.unstable_cancelCallback,Po=a.unstable_shouldYield,xo=a.unstable_requestPaint,To=a.unstable_now,So=a.unstable_getCurrentPriorityLevel,Bo=a.unstable_ImmediatePriority,Oo=a.unstable_UserBlockingPriority,Mo=a.unstable_NormalPriority,Lo=a.unstable_LowPriority,Io=a.unstable_IdlePriority,Ao={},No=void 0!==xo?xo:function(){},Ro=null,Fo=null,Wo=!1,Uo=To(),jo=1e4>Uo?To:function(){return To()-Uo};function Ho(){switch(So()){case Bo:return 99;case Oo:return 98;case Mo:return 97;case Lo:return 96;case Io:return 95;default:throw Error(i(332))}}function Ko(e){switch(e){case 99:return Bo;case 98:return Oo;case 97:return Mo;case 96:return Lo;case 95:return Io;default:throw Error(i(332))}}function Vo(e,t){return e=Ko(e),Co(e,t)}function zo(e,t,n){return e=Ko(e),Do(e,t,n)}function qo(){if(null!==Fo){var e=Fo;Fo=null,ko(e)}Go()}function Go(){if(!Wo&&null!==Ro){Wo=!0;var e=0;try{var t=Ro;Vo(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ro=null}catch(t){throw null!==Ro&&(Ro=Ro.slice(e+1)),Do(Bo,qo),t}finally{Wo=!1}}}var $o=b.ReactCurrentBatchConfig;function Yo(e,t){if(e&&e.defaultProps){for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xo=io(null),Qo=null,Jo=null,Zo=null;function ea(){Zo=Jo=Qo=null}function ta(e){var t=Xo.current;so(Xo),e.type._context._currentValue=t}function na(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ra(e,t){Qo=e,Zo=Jo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Ii=!0),e.firstContext=null)}function oa(e,t){if(Zo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Zo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Jo){if(null===Qo)throw Error(i(308));Jo=t,Qo.dependencies={lanes:0,firstContext:t,responders:null}}else Jo=Jo.next=t;return e._currentValue}var aa=!1;function ia(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function sa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ua(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ca(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?o=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?o=a=t:a=a.next=t}else o=a=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;aa=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?i=c:s.next=c,s=u;var d=e.alternate;if(null!==d){var _=(d=d.updateQueue).lastBaseUpdate;_!==s&&(null===_?d.firstBaseUpdate=c:_.next=c,d.lastBaseUpdate=u)}}if(null!==i){for(_=a.baseState,s=0,d=c=u=null;;){l=i.lane;var p=i.eventTime;if((r&l)===l){null!==d&&(d=d.next={eventTime:p,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var h=e,m=i;switch(l=t,p=n,m.tag){case 1:if("function"==typeof(h=m.payload)){_=h.call(p,_,l);break e}_=h;break e;case 3:h.flags=-4097&h.flags|64;case 0:if(null==(l="function"==typeof(h=m.payload)?h.call(p,_,l):h))break e;_=o({},_,l);break e;case 2:aa=!0}}null!==i.callback&&(e.flags|=32,null===(l=a.effects)?a.effects=[i]:l.push(i))}else p={eventTime:p,lane:l,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=p,u=_):d=d.next=p,s|=l;if(null===(i=i.next)){if(null===(l=a.shared.pending))break;i=l.next,l.next=null,a.lastBaseUpdate=l,a.shared.pending=null}}null===d&&(u=_),a.baseState=u,a.firstBaseUpdate=c,a.lastBaseUpdate=d,Fs|=s,e.lanes=s,e.memoizedState=_}}function _a(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!=typeof o)throw Error(i(191,o));o.call(r)}}}var pa=(new r.Component).refs;function ha(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:o({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ma={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ul(),o=cl(e),a=la(r,o);a.payload=t,null!=n&&(a.callback=n),ua(e,a),dl(e,o,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ul(),o=cl(e),a=la(r,o);a.tag=1,a.payload=t,null!=n&&(a.callback=n),ua(e,a),dl(e,o,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ul(),r=cl(e),o=la(n,r);o.tag=2,null!=t&&(o.callback=t),ua(e,o),dl(e,r,n)}};function fa(e,t,n,r,o,a,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(o,a))}function va(e,t,n){var r=!1,o=uo,a=t.contextType;return"object"==typeof a&&null!==a?a=oa(a):(o=mo(t)?po:co.current,a=(r=null!=(r=t.contextTypes))?ho(e,o):uo),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ma,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function ga(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function ya(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=pa,ia(e);var a=t.contextType;"object"==typeof a&&null!==a?o.context=oa(a):(a=mo(t)?po:co.current,o.context=ho(e,a)),da(e,n,o,r),o.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(ha(e,t,a,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&ma.enqueueReplaceState(o,o.state,null),da(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4)}var wa=Array.isArray;function ba(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=r.refs;t===pa&&(t=r.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(i(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ca(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Kl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Gl(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=o(t,n.props)).ref=ba(e,t,n),r.return=e,r):((r=Vl(n.type,n.key,n.props,null,e.mode,r)).ref=ba(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$l(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=zl(n,e.mode,r,a)).return=e,t):((t=o(t,n)).return=e,t)}function _(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Gl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Vl(t.type,t.key,t.props,null,e.mode,n)).ref=ba(e,null,t),n.return=e,n;case C:return(t=$l(t,e.mode,n)).return=e,t}if(wa(t)||H(t))return(t=zl(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===o?n.type===D?d(e,t,n.props.children,r,o):u(e,t,n,r):null;case C:return n.key===o?c(e,t,n,r):null}if(wa(n)||H(n))return null!==o?null:d(e,t,n,r,null);Ea(e,n)}return null}function h(e,t,n,r,o){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===D?d(t,e,r.props.children,o,r.key):u(t,e,r,o);case C:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(wa(r)||H(r))return d(t,e=e.get(n)||null,r,o,null);Ea(t,r)}return null}function m(o,i,s,l){for(var u=null,c=null,d=i,m=i=0,f=null;null!==d&&m<s.length;m++){d.index>m?(f=d,d=null):f=d.sibling;var v=p(o,d,s[m],l);if(null===v){null===d&&(d=f);break}e&&d&&null===v.alternate&&t(o,d),i=a(v,i,m),null===c?u=v:c.sibling=v,c=v,d=f}if(m===s.length)return n(o,d),u;if(null===d){for(;m<s.length;m++)null!==(d=_(o,s[m],l))&&(i=a(d,i,m),null===c?u=d:c.sibling=d,c=d);return u}for(d=r(o,d);m<s.length;m++)null!==(f=h(d,o,m,s[m],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?m:f.key),i=a(f,i,m),null===c?u=f:c.sibling=f,c=f);return e&&d.forEach((function(e){return t(o,e)})),u}function f(o,s,l,u){var c=H(l);if("function"!=typeof c)throw Error(i(150));if(null==(l=c.call(l)))throw Error(i(151));for(var d=c=null,m=s,f=s=0,v=null,g=l.next();null!==m&&!g.done;f++,g=l.next()){m.index>f?(v=m,m=null):v=m.sibling;var y=p(o,m,g.value,u);if(null===y){null===m&&(m=v);break}e&&m&&null===y.alternate&&t(o,m),s=a(y,s,f),null===d?c=y:d.sibling=y,d=y,m=v}if(g.done)return n(o,m),c;if(null===m){for(;!g.done;f++,g=l.next())null!==(g=_(o,g.value,u))&&(s=a(g,s,f),null===d?c=g:d.sibling=g,d=g);return c}for(m=r(o,m);!g.done;f++,g=l.next())null!==(g=h(m,o,f,g.value,u))&&(e&&null!==g.alternate&&m.delete(null===g.key?f:g.key),s=a(g,s,f),null===d?c=g:d.sibling=g,d=g);return e&&m.forEach((function(e){return t(o,e)})),c}return function(e,r,a,l){var u="object"==typeof a&&null!==a&&a.type===D&&null===a.key;u&&(a=a.props.children);var c="object"==typeof a&&null!==a;if(c)switch(a.$$typeof){case E:e:{for(c=a.key,u=r;null!==u;){if(u.key===c){switch(u.tag){case 7:if(a.type===D){n(e,u.sibling),(r=o(u,a.props.children)).return=e,e=r;break e}break;default:if(u.elementType===a.type){n(e,u.sibling),(r=o(u,a.props)).ref=ba(e,u,a),r.return=e,e=r;break e}}n(e,u);break}t(e,u),u=u.sibling}a.type===D?((r=zl(a.props.children,e.mode,l,a.key)).return=e,e=r):((l=Vl(a.type,a.key,a.props,null,e.mode,l)).ref=ba(e,r,a),l.return=e,e=l)}return s(e);case C:e:{for(u=a.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=o(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=$l(a,e.mode,l)).return=e,e=r}return s(e)}if("string"==typeof a||"number"==typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=o(r,a)).return=e,e=r):(n(e,r),(r=Gl(a,e.mode,l)).return=e,e=r),s(e);if(wa(a))return m(e,r,a,l);if(H(a))return f(e,r,a,l);if(c&&Ea(e,a),void 0===a&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(i(152,G(e.type)||"Component"))}return n(e,r)}}var Da=Ca(!0),ka=Ca(!1),Pa={},xa=io(Pa),Ta=io(Pa),Sa=io(Pa);function Ba(e){if(e===Pa)throw Error(i(174));return e}function Oa(e,t){switch(lo(Sa,t),lo(Ta,e),lo(xa,Pa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:he(null,"");break;default:t=he(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}so(xa),lo(xa,t)}function Ma(){so(xa),so(Ta),so(Sa)}function La(e){Ba(Sa.current);var t=Ba(xa.current),n=he(t,e.type);t!==n&&(lo(Ta,e),lo(xa,n))}function Ia(e){Ta.current===e&&(so(xa),so(Ta))}var Aa=io(0);function Na(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ra=null,Fa=null,Wa=!1;function Ua(e,t){var n=jl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function ja(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ha(e){if(Wa){var t=Fa;if(t){var n=t;if(!ja(e,t)){if(!(t=zr(n.nextSibling))||!ja(e,t))return e.flags=-1025&e.flags|2,Wa=!1,void(Ra=e);Ua(Ra,n)}Ra=e,Fa=zr(t.firstChild)}else e.flags=-1025&e.flags|2,Wa=!1,Ra=e}}function Ka(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ra=e}function Va(e){if(e!==Ra)return!1;if(!Wa)return Ka(e),Wa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!jr(t,e.memoizedProps))for(t=Fa;t;)Ua(e,t),t=zr(t.nextSibling);if(Ka(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Fa=zr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Fa=null}}else Fa=Ra?zr(e.stateNode.nextSibling):null;return!0}function za(){Fa=Ra=null,Wa=!1}var qa=[];function Ga(){for(var e=0;e<qa.length;e++)qa[e]._workInProgressVersionPrimary=null;qa.length=0}var $a=b.ReactCurrentDispatcher,Ya=b.ReactCurrentBatchConfig,Xa=0,Qa=null,Ja=null,Za=null,ei=!1,ti=!1;function ni(){throw Error(i(321))}function ri(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function oi(e,t,n,r,o,a){if(Xa=a,Qa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$a.current=null===e||null===e.memoizedState?Bi:Oi,e=n(r,o),ti){a=0;do{if(ti=!1,!(25>a))throw Error(i(301));a+=1,Za=Ja=null,t.updateQueue=null,$a.current=Mi,e=n(r,o)}while(ti)}if($a.current=Si,t=null!==Ja&&null!==Ja.next,Xa=0,Za=Ja=Qa=null,ei=!1,t)throw Error(i(300));return e}function ai(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Za?Qa.memoizedState=Za=e:Za=Za.next=e,Za}function ii(){if(null===Ja){var e=Qa.alternate;e=null!==e?e.memoizedState:null}else e=Ja.next;var t=null===Za?Qa.memoizedState:Za.next;if(null!==t)Za=t,Ja=e;else{if(null===e)throw Error(i(310));e={memoizedState:(Ja=e).memoizedState,baseState:Ja.baseState,baseQueue:Ja.baseQueue,queue:Ja.queue,next:null},null===Za?Qa.memoizedState=Za=e:Za=Za.next=e}return Za}function si(e,t){return"function"==typeof t?t(e):t}function li(e){var t=ii(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=Ja,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}r.baseQueue=o=a,n.pending=null}if(null!==o){o=o.next,r=r.baseState;var l=s=a=null,u=o;do{var c=u.lane;if((Xa&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=d,a=r):l=l.next=d,Qa.lanes|=c,Fs|=c}u=u.next}while(null!==u&&u!==o);null===l?a=r:l.next=s,sr(r,t.memoizedState)||(Ii=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ui(e){var t=ii(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);sr(a,t.memoizedState)||(Ii=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ci(e,t,n){var r=t._getVersion;r=r(t._source);var o=t._workInProgressVersionPrimary;if(null!==o?e=o===r:(e=e.mutableReadLanes,(e=(Xa&e)===e)&&(t._workInProgressVersionPrimary=r,qa.push(t))),e)return n(t._source);throw qa.push(t),Error(i(350))}function di(e,t,n,r){var o=Bs;if(null===o)throw Error(i(349));var a=t._getVersion,s=a(t._source),l=$a.current,u=l.useState((function(){return ci(o,t,n)})),c=u[1],d=u[0];u=Za;var _=e.memoizedState,p=_.refs,h=p.getSnapshot,m=_.source;_=_.subscribe;var f=Qa;return e.memoizedState={refs:p,source:t,subscribe:r},l.useEffect((function(){p.getSnapshot=n,p.setSnapshot=c;var e=a(t._source);if(!sr(s,e)){e=n(t._source),sr(d,e)||(c(e),e=cl(f),o.mutableReadLanes|=e&o.pendingLanes),e=o.mutableReadLanes,o.entangledLanes|=e;for(var r=o.entanglements,i=e;0<i;){var l=31-Vt(i),u=1<<l;r[l]|=e,i&=~u}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=p.getSnapshot,n=p.setSnapshot;try{n(e(t._source));var r=cl(f);o.mutableReadLanes|=r&o.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),sr(h,n)&&sr(m,t)&&sr(_,r)||((e={pending:null,dispatch:null,lastRenderedReducer:si,lastRenderedState:d}).dispatch=c=Ti.bind(null,Qa,e),u.queue=e,u.baseQueue=null,d=ci(o,t,n),u.memoizedState=u.baseState=d),d}function _i(e,t,n){return di(ii(),e,t,n)}function pi(e){var t=ai();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:si,lastRenderedState:e}).dispatch=Ti.bind(null,Qa,e),[t.memoizedState,e]}function hi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Qa.updateQueue)?(t={lastEffect:null},Qa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function mi(e){return e={current:e},ai().memoizedState=e}function fi(){return ii().memoizedState}function vi(e,t,n,r){var o=ai();Qa.flags|=e,o.memoizedState=hi(1|t,n,void 0,void 0===r?null:r)}function gi(e,t,n,r){var o=ii();r=void 0===r?null:r;var a=void 0;if(null!==Ja){var i=Ja.memoizedState;if(a=i.destroy,null!==r&&ri(r,i.deps))return void hi(t,n,a,r)}Qa.flags|=e,o.memoizedState=hi(1|t,n,a,r)}function yi(e,t){return vi(516,4,e,t)}function wi(e,t){return gi(516,4,e,t)}function bi(e,t){return gi(4,2,e,t)}function Ei(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ci(e,t,n){return n=null!=n?n.concat([e]):null,gi(4,2,Ei.bind(null,t,e),n)}function Di(){}function ki(e,t){var n=ii();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ri(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Pi(e,t){var n=ii();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ri(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function xi(e,t){var n=Ho();Vo(98>n?98:n,(function(){e(!0)})),Vo(97<n?97:n,(function(){var n=Ya.transition;Ya.transition=1;try{e(!1),t()}finally{Ya.transition=n}}))}function Ti(e,t,n){var r=ul(),o=cl(e),a={lane:o,action:n,eagerReducer:null,eagerState:null,next:null},i=t.pending;if(null===i?a.next=a:(a.next=i.next,i.next=a),t.pending=a,i=e.alternate,e===Qa||null!==i&&i===Qa)ti=ei=!0;else{if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=i(s,n);if(a.eagerReducer=i,a.eagerState=l,sr(l,s))return}catch(e){}dl(e,o,r)}}var Si={readContext:oa,useCallback:ni,useContext:ni,useEffect:ni,useImperativeHandle:ni,useLayoutEffect:ni,useMemo:ni,useReducer:ni,useRef:ni,useState:ni,useDebugValue:ni,useDeferredValue:ni,useTransition:ni,useMutableSource:ni,useOpaqueIdentifier:ni,unstable_isNewReconciler:!1},Bi={readContext:oa,useCallback:function(e,t){return ai().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:yi,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,vi(4,2,Ei.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vi(4,2,e,t)},useMemo:function(e,t){var n=ai();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ai();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ti.bind(null,Qa,e),[r.memoizedState,e]},useRef:mi,useState:pi,useDebugValue:Di,useDeferredValue:function(e){var t=pi(e),n=t[0],r=t[1];return yi((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=pi(!1),t=e[0];return mi(e=xi.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ai();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},di(r,e,t,n)},useOpaqueIdentifier:function(){if(Wa){var e=!1,t=function(e){return{$$typeof:A,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Gr++).toString(36))),Error(i(355))})),n=pi(t)[1];return 0==(2&Qa.mode)&&(Qa.flags|=516,hi(5,(function(){n("r:"+(Gr++).toString(36))}),void 0,null)),t}return pi(t="r:"+(Gr++).toString(36)),t},unstable_isNewReconciler:!1},Oi={readContext:oa,useCallback:ki,useContext:oa,useEffect:wi,useImperativeHandle:Ci,useLayoutEffect:bi,useMemo:Pi,useReducer:li,useRef:fi,useState:function(){return li(si)},useDebugValue:Di,useDeferredValue:function(e){var t=li(si),n=t[0],r=t[1];return wi((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=li(si)[0];return[fi().current,e]},useMutableSource:_i,useOpaqueIdentifier:function(){return li(si)[0]},unstable_isNewReconciler:!1},Mi={readContext:oa,useCallback:ki,useContext:oa,useEffect:wi,useImperativeHandle:Ci,useLayoutEffect:bi,useMemo:Pi,useReducer:ui,useRef:fi,useState:function(){return ui(si)},useDebugValue:Di,useDeferredValue:function(e){var t=ui(si),n=t[0],r=t[1];return wi((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=ui(si)[0];return[fi().current,e]},useMutableSource:_i,useOpaqueIdentifier:function(){return ui(si)[0]},unstable_isNewReconciler:!1},Li=b.ReactCurrentOwner,Ii=!1;function Ai(e,t,n,r){t.child=null===e?ka(t,null,n,r):Da(t,e.child,n,r)}function Ni(e,t,n,r,o){n=n.render;var a=t.ref;return ra(t,o),r=oi(e,t,n,r,a,o),null===e||Ii?(t.flags|=1,Ai(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,ns(e,t,o))}function Ri(e,t,n,r,o,a){if(null===e){var i=n.type;return"function"!=typeof i||Hl(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Vl(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Fi(e,t,i,r,o,a))}return i=e.child,0==(o&a)&&(o=i.memoizedProps,(n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)?ns(e,t,a):(t.flags|=1,(e=Kl(i,r)).ref=t.ref,e.return=t,t.child=e)}function Fi(e,t,n,r,o,a){if(null!==e&&ur(e.memoizedProps,r)&&e.ref===t.ref){if(Ii=!1,0==(a&o))return t.lanes=e.lanes,ns(e,t,a);0!=(16384&e.flags)&&(Ii=!0)}return ji(e,t,n,r,a)}function Wi(e,t,n){var r=t.pendingProps,o=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},yl(t,n);else{if(0==(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},yl(t,e),null;t.memoizedState={baseLanes:0},yl(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,yl(t,r);return Ai(e,t,o,n),t.child}function Ui(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function ji(e,t,n,r,o){var a=mo(n)?po:co.current;return a=ho(t,a),ra(t,o),n=oi(e,t,n,r,a,o),null===e||Ii?(t.flags|=1,Ai(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,ns(e,t,o))}function Hi(e,t,n,r,o){if(mo(n)){var a=!0;yo(t)}else a=!1;if(ra(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),va(t,n,r),ya(t,n,r,o),r=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,u=n.contextType;"object"==typeof u&&null!==u?u=oa(u):u=ho(t,u=mo(n)?po:co.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof i.getSnapshotBeforeUpdate;d||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==r||l!==u)&&ga(t,i,r,u),aa=!1;var _=t.memoizedState;i.state=_,da(t,r,i,o),l=t.memoizedState,s!==r||_!==l||_o.current||aa?("function"==typeof c&&(ha(t,n,c,r),l=t.memoizedState),(s=aa||fa(t,n,s,r,_,l,u))?(d||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4)):("function"==typeof i.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=u,r=s):("function"==typeof i.componentDidMount&&(t.flags|=4),r=!1)}else{i=t.stateNode,sa(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Yo(t.type,s),i.props=u,d=t.pendingProps,_=i.context,"object"==typeof(l=n.contextType)&&null!==l?l=oa(l):l=ho(t,l=mo(n)?po:co.current);var p=n.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==d||_!==l)&&ga(t,i,r,l),aa=!1,_=t.memoizedState,i.state=_,da(t,r,i,o);var h=t.memoizedState;s!==d||_!==h||_o.current||aa?("function"==typeof p&&(ha(t,n,p,r),h=t.memoizedState),(u=aa||fa(t,n,u,r,_,h,l))?(c||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,h,l),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,h,l)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&_===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=h),i.props=r,i.state=h,i.context=l,r=u):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&_===e.memoizedState||(t.flags|=256),r=!1)}return Ki(e,t,n,r,a,o)}function Ki(e,t,n,r,o,a){Ui(e,t);var i=0!=(64&t.flags);if(!r&&!i)return o&&wo(t,n,!1),ns(e,t,a);r=t.stateNode,Li.current=t;var s=i&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=Da(t,e.child,null,a),t.child=Da(t,null,s,a)):Ai(e,t,s,a),t.memoizedState=r.state,o&&wo(t,n,!0),t.child}function Vi(e){var t=e.stateNode;t.pendingContext?vo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vo(0,t.context,!1),Oa(e,t.containerInfo)}var zi,qi,Gi,$i={dehydrated:null,retryLane:0};function Yi(e,t,n){var r,o=t.pendingProps,a=Aa.current,i=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(i=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),lo(Aa,1&a),null===e?(void 0!==o.fallback&&Ha(t),e=o.children,a=o.fallback,i?(e=Xi(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$i,e):"number"==typeof o.unstable_expectedLoadTime?(e=Xi(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$i,t.lanes=33554432,e):((n=ql({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,i?(o=Ji(e,t,o.children,o.fallback,n),i=t.child,a=e.child.memoizedState,i.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},i.childLanes=e.childLanes&~n,t.memoizedState=$i,o):(n=Qi(e,t,o.children,n),t.memoizedState=null,n))}function Xi(e,t,n,r){var o=e.mode,a=e.child;return t={mode:"hidden",children:t},0==(2&o)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=ql(t,o,0,null),n=zl(n,o,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function Qi(e,t,n,r){var o=e.child;return e=o.sibling,n=Kl(o,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Ji(e,t,n,r,o){var a=t.mode,i=e.child;e=i.sibling;var s={mode:"hidden",children:n};return 0==(2&a)&&t.child!==i?((n=t.child).childLanes=0,n.pendingProps=s,null!==(i=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=i,i.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Kl(i,s),null!==e?r=Kl(e,r):(r=zl(r,a,o,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Zi(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),na(e.return,t)}function es(e,t,n,r,o,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,lastEffect:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o,i.lastEffect=a)}function ts(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(Ai(e,t,r.children,n),0!=(2&(r=Aa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Zi(e,n);else if(19===e.tag)Zi(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(lo(Aa,r),0==(2&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Na(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),es(t,!1,o,n,a,t.lastEffect);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Na(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}es(t,!0,n,null,a,t.lastEffect);break;case"together":es(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ns(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Kl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Kl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function rs(e,t){if(!Wa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function os(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return mo(t.type)&&fo(),null;case 3:return Ma(),so(_o),so(co),Ga(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Va(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ia(t);var a=Ba(Sa.current);if(n=t.type,null!==e&&null!=t.stateNode)qi(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(i(166));return null}if(e=Ba(xa.current),Va(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Yr]=t,r[Xr]=s,n){case"dialog":xr("cancel",r),xr("close",r);break;case"iframe":case"object":case"embed":xr("load",r);break;case"video":case"audio":for(e=0;e<Cr.length;e++)xr(Cr[e],r);break;case"source":xr("error",r);break;case"img":case"image":case"link":xr("error",r),xr("load",r);break;case"details":xr("toggle",r);break;case"input":ee(r,s),xr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},xr("invalid",r);break;case"textarea":le(r,s),xr("invalid",r)}for(var u in De(n,s),e=null,s)s.hasOwnProperty(u)&&(a=s[u],"children"===u?"string"==typeof a?r.textContent!==a&&(e=["children",a]):"number"==typeof a&&r.textContent!==""+a&&(e=["children",""+a]):l.hasOwnProperty(u)&&null!=a&&"onScroll"===u&&xr("scroll",r));switch(n){case"input":X(r),re(r,s,!0);break;case"textarea":X(r),ce(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Rr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(u=9===a.nodeType?a:a.ownerDocument,e===de&&(e=pe(n)),e===de?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Yr]=t,e[Xr]=r,zi(e,t),t.stateNode=e,u=ke(n,r),n){case"dialog":xr("cancel",e),xr("close",e),a=r;break;case"iframe":case"object":case"embed":xr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Cr.length;a++)xr(Cr[a],e);a=r;break;case"source":xr("error",e),a=r;break;case"img":case"image":case"link":xr("error",e),xr("load",e),a=r;break;case"details":xr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),xr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=o({},r,{value:void 0}),xr("invalid",e);break;case"textarea":le(e,r),a=se(e,r),xr("invalid",e);break;default:a=r}De(n,a);var c=a;for(s in c)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?Ee(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ve(e,d):"children"===s?"string"==typeof d?("textarea"!==n||""!==d)&&ge(e,d):"number"==typeof d&&ge(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=d&&"onScroll"===s&&xr("scroll",e):null!=d&&w(e,s,d,u))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ie(e,!!r.multiple,s,!1):null!=r.defaultValue&&ie(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof a.onClick&&(e.onclick=Rr)}Ur(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Gi(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(i(166));n=Ba(Sa.current),Ba(xa.current),Va(t)?(r=t.stateNode,n=t.memoizedProps,r[Yr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Yr]=t,t.stateNode=r)}return null;case 13:return so(Aa),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Va(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Aa.current)?0===As&&(As=3):(0!==As&&3!==As||(As=4),null===Bs||0==(134217727&Fs)&&0==(134217727&Ws)||ml(Bs,Ms))),(r||n)&&(t.flags|=4),null);case 4:return Ma(),null===e&&Sr(t.stateNode.containerInfo),null;case 10:return ta(t),null;case 17:return mo(t.type)&&fo(),null;case 19:if(so(Aa),null===(r=t.memoizedState))return null;if(s=0!=(64&t.flags),null===(u=r.rendering))if(s)rs(r,!1);else{if(0!==As||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(u=Na(e))){for(t.flags|=64,rs(r,!1),null!==(s=u.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(u=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return lo(Aa,1&Aa.current|2),t.child}e=e.sibling}null!==r.tail&&jo()>Ks&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Na(u))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),rs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!Wa)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*jo()-r.renderingStartTime>Ks&&1073741824!==n&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=jo(),n.sibling=null,t=Aa.current,lo(Aa,s?1&t|2:1&t),n):null;case 23:case 24:return wl(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(i(156,t.tag))}function as(e){switch(e.tag){case 1:mo(e.type)&&fo();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ma(),so(_o),so(co),Ga(),0!=(64&(t=e.flags)))throw Error(i(285));return e.flags=-4097&t|64,e;case 5:return Ia(e),null;case 13:return so(Aa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return so(Aa),null;case 4:return Ma(),null;case 10:return ta(e),null;case 23:case 24:return wl(),null;default:return null}}function is(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var o=n}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o}}function ss(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}zi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},qi=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ba(xa.current);var i,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=o({},a,{value:void 0}),r=o({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(e.onclick=Rr)}for(d in De(n,r),n=null,a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var u=a[d];for(i in u)u.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var c=r[d];if(u=null!=a?a[d]:void 0,r.hasOwnProperty(d)&&c!==u&&(null!=c||null!=u))if("style"===d)if(u){for(i in u)!u.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&u[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(s=s||[]).push(d,c)):"children"===d?"string"!=typeof c&&"number"!=typeof c||(s=s||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&xr("scroll",e),s||u===c||(s=[])):"object"==typeof c&&null!==c&&c.$$typeof===A?c.toString():(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Gi=function(e,t,n,r){n!==r&&(t.flags|=4)};var ls="function"==typeof WeakMap?WeakMap:Map;function us(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gs||(Gs=!0,$s=r),ss(0,t)},n}function cs(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return ss(0,t),r(o)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ys?Ys=new Set([this]):Ys.add(this),ss(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ds="function"==typeof WeakSet?WeakSet:Set;function _s(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Rl(e,t)}else t.current=null}function ps(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yo(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Vr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(i(163))}function hs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var o=e;r=o.next,0!=(4&(o=o.tag))&&0!=(1&o)&&(Il(n,e),Ll(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yo(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&_a(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}_a(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Ur(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(i(163))}function ms(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var o=n.memoizedProps.style;o=null!=o&&o.hasOwnProperty("display")?o.display:null,r.style.display=be("display",o)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function fs(e,t){if(Eo&&"function"==typeof Eo.onCommitFiberUnmount)try{Eo.onCommitFiberUnmount(bo,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,o=r.destroy;if(r=r.tag,void 0!==o)if(0!=(4&r))Il(t,n);else{r=t;try{o()}catch(e){Rl(r,e)}}n=n.next}while(n!==e)}break;case 1:if(_s(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Rl(t,e)}break;case 5:_s(t);break;case 4:Es(e,t)}}function vs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function gs(e){return 5===e.tag||3===e.tag||4===e.tag}function ys(e){e:{for(var t=e.return;null!==t;){if(gs(t))break e;t=t.return}throw Error(i(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(i(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||gs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ws(e,n,t):bs(e,n,t)}function ws(e,t,n){var r=e.tag,o=5===r||6===r;if(o)e=o?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Rr));else if(4!==r&&null!==(e=e.child))for(ws(e,t,n),e=e.sibling;null!==e;)ws(e,t,n),e=e.sibling}function bs(e,t,n){var r=e.tag,o=5===r||6===r;if(o)e=o?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(bs(e,t,n),e=e.sibling;null!==e;)bs(e,t,n),e=e.sibling}function Es(e,t){for(var n,r,o=t,a=!1;;){if(!a){a=o.return;e:for(;;){if(null===a)throw Error(i(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===o.tag||6===o.tag){e:for(var s=e,l=o,u=l;;)if(fs(s,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break e;for(;null===u.sibling;){if(null===u.return||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(s=n,l=o.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):n.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){n=o.stateNode.containerInfo,r=!0,o.child.return=o,o=o.child;continue}}else if(fs(e,o),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function Cs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var o=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Xr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),ke(e,o),t=ke(e,r),o=0;o<a.length;o+=2){var s=a[o],l=a[o+1];"style"===s?Ee(n,l):"dangerouslySetInnerHTML"===s?ve(n,l):"children"===s?ge(n,l):w(n,s,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ue(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?ie(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?ie(n,!!r.multiple,r.defaultValue,!0):ie(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(i(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Hs=jo(),ms(t.child,!0)),void Ds(t);case 19:return void Ds(t);case 17:return;case 23:case 24:return void ms(t,null!==t.memoizedState)}throw Error(i(163))}function Ds(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ds),t.forEach((function(t){var r=Wl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ks(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ps=Math.ceil,xs=b.ReactCurrentDispatcher,Ts=b.ReactCurrentOwner,Ss=0,Bs=null,Os=null,Ms=0,Ls=0,Is=io(0),As=0,Ns=null,Rs=0,Fs=0,Ws=0,Us=0,js=null,Hs=0,Ks=1/0;function Vs(){Ks=jo()+500}var zs,qs=null,Gs=!1,$s=null,Ys=null,Xs=!1,Qs=null,Js=90,Zs=[],el=[],tl=null,nl=0,rl=null,ol=-1,al=0,il=0,sl=null,ll=!1;function ul(){return 0!=(48&Ss)?jo():-1!==ol?ol:ol=jo()}function cl(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Ho()?1:2;if(0===al&&(al=Rs),0!==$o.transition){0!==il&&(il=null!==js?js.pendingLanes:0),e=al;var t=4186112&~il;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ho(),0!=(4&Ss)&&98===e?e=Ut(12,al):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),al),e}function dl(e,t,n){if(50<nl)throw nl=0,rl=null,Error(i(185));if(null===(e=_l(e,t)))return null;Kt(e,t,n),e===Bs&&(Ws|=t,4===As&&ml(e,Ms));var r=Ho();1===t?0!=(8&Ss)&&0==(48&Ss)?fl(e):(pl(e,n),0===Ss&&(Vs(),qo())):(0==(4&Ss)||98!==r&&99!==r||(null===tl?tl=new Set([e]):tl.add(e)),pl(e,n)),js=e}function _l(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function pl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,o=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-Vt(s),u=1<<l,c=a[l];if(-1===c){if(0==(u&r)||0!=(u&o)){c=t,Rt(u);var d=Nt;a[l]=10<=d?c+250:6<=d?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);s&=~u}if(r=Ft(e,e===Bs?Ms:0),t=Nt,0===r)null!==n&&(n!==Ao&&ko(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ao&&ko(n)}15===t?(n=fl.bind(null,e),null===Ro?(Ro=[n],Fo=Do(Bo,Go)):Ro.push(n),n=Ao):14===t?n=zo(99,fl.bind(null,e)):n=zo(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(i(358,e))}}(t),hl.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function hl(e){if(ol=-1,il=al=0,0!=(48&Ss))throw Error(i(327));var t=e.callbackNode;if(Ml()&&e.callbackNode!==t)return null;var n=Ft(e,e===Bs?Ms:0);if(0===n)return null;var r=n,o=Ss;Ss|=16;var a=Cl();for(Bs===e&&Ms===r||(Vs(),bl(e,r));;)try{Pl();break}catch(t){El(e,t)}if(ea(),xs.current=a,Ss=o,null!==Os?r=0:(Bs=null,Ms=0,r=As),0!=(Rs&Ws))bl(e,0);else if(0!==r){if(2===r&&(Ss|=64,e.hydrate&&(e.hydrate=!1,Vr(e.containerInfo)),0!==(n=Wt(e))&&(r=Dl(e,n))),1===r)throw t=Ns,bl(e,0),ml(e,n),pl(e,jo()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(i(345));case 2:Sl(e);break;case 3:if(ml(e,n),(62914560&n)===n&&10<(r=Hs+500-jo())){if(0!==Ft(e,0))break;if(((o=e.suspendedLanes)&n)!==n){ul(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Hr(Sl.bind(null,e),r);break}Sl(e);break;case 4:if(ml(e,n),(4186112&n)===n)break;for(r=e.eventTimes,o=-1;0<n;){var s=31-Vt(n);a=1<<s,(s=r[s])>o&&(o=s),n&=~a}if(n=o,10<(n=(120>(n=jo()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ps(n/1960))-n)){e.timeoutHandle=Hr(Sl.bind(null,e),n);break}Sl(e);break;case 5:Sl(e);break;default:throw Error(i(329))}}return pl(e,jo()),e.callbackNode===t?hl.bind(null,e):null}function ml(e,t){for(t&=~Us,t&=~Ws,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vt(t),r=1<<n;e[n]=-1,t&=~r}}function fl(e){if(0!=(48&Ss))throw Error(i(327));if(Ml(),e===Bs&&0!=(e.expiredLanes&Ms)){var t=Ms,n=Dl(e,t);0!=(Rs&Ws)&&(n=Dl(e,t=Ft(e,t)))}else n=Dl(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Ss|=64,e.hydrate&&(e.hydrate=!1,Vr(e.containerInfo)),0!==(t=Wt(e))&&(n=Dl(e,t))),1===n)throw n=Ns,bl(e,0),ml(e,t),pl(e,jo()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sl(e),pl(e,jo()),null}function vl(e,t){var n=Ss;Ss|=1;try{return e(t)}finally{0===(Ss=n)&&(Vs(),qo())}}function gl(e,t){var n=Ss;Ss&=-2,Ss|=8;try{return e(t)}finally{0===(Ss=n)&&(Vs(),qo())}}function yl(e,t){lo(Is,Ls),Ls|=t,Rs|=t}function wl(){Ls=Is.current,so(Is)}function bl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Os)for(n=Os.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&fo();break;case 3:Ma(),so(_o),so(co),Ga();break;case 5:Ia(r);break;case 4:Ma();break;case 13:case 19:so(Aa);break;case 10:ta(r);break;case 23:case 24:wl()}n=n.return}Bs=e,Os=Kl(e.current,null),Ms=Ls=Rs=t,As=0,Ns=null,Us=Ws=Fs=0}function El(e,t){for(;;){var n=Os;try{if(ea(),$a.current=Si,ei){for(var r=Qa.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ei=!1}if(Xa=0,Za=Ja=Qa=null,ti=!1,Ts.current=null,null===n||null===n.return){As=1,Ns=t,Os=null;break}e:{var a=e,i=n.return,s=n,l=t;if(t=Ms,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l;if(0==(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!=(1&Aa.current),_=i;do{var p;if(p=13===_.tag){var h=_.memoizedState;if(null!==h)p=null!==h.dehydrated;else{var m=_.memoizedProps;p=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!d)}}if(p){var f=_.updateQueue;if(null===f){var v=new Set;v.add(u),_.updateQueue=v}else f.add(u);if(0==(2&_.mode)){if(_.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=la(-1,1);g.tag=2,ua(s,g)}s.lanes|=1;break e}l=void 0,s=t;var y=a.pingCache;if(null===y?(y=a.pingCache=new ls,l=new Set,y.set(u,l)):void 0===(l=y.get(u))&&(l=new Set,y.set(u,l)),!l.has(s)){l.add(s);var w=Fl.bind(null,a,u,s);u.then(w,w)}_.flags|=4096,_.lanes=t;break e}_=_.return}while(null!==_);l=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==As&&(As=2),l=is(l,s),_=i;do{switch(_.tag){case 3:a=l,_.flags|=4096,t&=-t,_.lanes|=t,ca(_,us(0,a,t));break e;case 1:a=l;var b=_.type,E=_.stateNode;if(0==(64&_.flags)&&("function"==typeof b.getDerivedStateFromError||null!==E&&"function"==typeof E.componentDidCatch&&(null===Ys||!Ys.has(E)))){_.flags|=4096,t&=-t,_.lanes|=t,ca(_,cs(_,a,t));break e}}_=_.return}while(null!==_)}Tl(n)}catch(e){t=e,Os===n&&null!==n&&(Os=n=n.return);continue}break}}function Cl(){var e=xs.current;return xs.current=Si,null===e?Si:e}function Dl(e,t){var n=Ss;Ss|=16;var r=Cl();for(Bs===e&&Ms===t||bl(e,t);;)try{kl();break}catch(t){El(e,t)}if(ea(),Ss=n,xs.current=r,null!==Os)throw Error(i(261));return Bs=null,Ms=0,As}function kl(){for(;null!==Os;)xl(Os)}function Pl(){for(;null!==Os&&!Po();)xl(Os)}function xl(e){var t=zs(e.alternate,e,Ls);e.memoizedProps=e.pendingProps,null===t?Tl(e):Os=t,Ts.current=null}function Tl(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=os(n,t,Ls)))return void(Os=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Ls)||0==(4&n.mode)){for(var r=0,o=n.child;null!==o;)r|=o.lanes|o.childLanes,o=o.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=as(t)))return n.flags&=2047,void(Os=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Os=t);Os=t=e}while(null!==t);0===As&&(As=5)}function Sl(e){var t=Ho();return Vo(99,Bl.bind(null,e,t)),null}function Bl(e,t){do{Ml()}while(null!==Qs);if(0!=(48&Ss))throw Error(i(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null;var r=n.lanes|n.childLanes,o=r,a=e.pendingLanes&~o;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=o,e.mutableReadLanes&=o,e.entangledLanes&=o,o=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<a;){var u=31-Vt(a),c=1<<u;o[u]=0,s[u]=-1,l[u]=-1,a&=~c}if(null!==tl&&0==(24&r)&&tl.has(e)&&tl.delete(e),e===Bs&&(Os=Bs=null,Ms=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(o=Ss,Ss|=32,Ts.current=null,Fr=Yt,hr(s=pr())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else e:if(l=(l=s.ownerDocument)&&l.defaultView||window,(c=l.getSelection&&l.getSelection())&&0!==c.rangeCount){l=c.anchorNode,a=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{l.nodeType,u.nodeType}catch(e){l=null;break e}var d=0,_=-1,p=-1,h=0,m=0,f=s,v=null;t:for(;;){for(var g;f!==l||0!==a&&3!==f.nodeType||(_=d+a),f!==u||0!==c&&3!==f.nodeType||(p=d+c),3===f.nodeType&&(d+=f.nodeValue.length),null!==(g=f.firstChild);)v=f,f=g;for(;;){if(f===s)break t;if(v===l&&++h===a&&(_=d),v===u&&++m===c&&(p=d),null!==(g=f.nextSibling))break;v=(f=v).parentNode}f=g}l=-1===_||-1===p?null:{start:_,end:p}}else l=null;l=l||{start:0,end:0}}else l=null;Wr={focusedElem:s,selectionRange:l},Yt=!1,sl=null,ll=!1,qs=r;do{try{Ol()}catch(e){if(null===qs)throw Error(i(330));Rl(qs,e),qs=qs.nextEffect}}while(null!==qs);sl=null,qs=r;do{try{for(s=e;null!==qs;){var y=qs.flags;if(16&y&&ge(qs.stateNode,""),128&y){var w=qs.alternate;if(null!==w){var b=w.ref;null!==b&&("function"==typeof b?b(null):b.current=null)}}switch(1038&y){case 2:ys(qs),qs.flags&=-3;break;case 6:ys(qs),qs.flags&=-3,Cs(qs.alternate,qs);break;case 1024:qs.flags&=-1025;break;case 1028:qs.flags&=-1025,Cs(qs.alternate,qs);break;case 4:Cs(qs.alternate,qs);break;case 8:Es(s,l=qs);var E=l.alternate;vs(l),null!==E&&vs(E)}qs=qs.nextEffect}}catch(e){if(null===qs)throw Error(i(330));Rl(qs,e),qs=qs.nextEffect}}while(null!==qs);if(b=Wr,w=pr(),y=b.focusedElem,s=b.selectionRange,w!==y&&y&&y.ownerDocument&&_r(y.ownerDocument.documentElement,y)){null!==s&&hr(y)&&(w=s.start,void 0===(b=s.end)&&(b=w),"selectionStart"in y?(y.selectionStart=w,y.selectionEnd=Math.min(b,y.value.length)):(b=(w=y.ownerDocument||document)&&w.defaultView||window).getSelection&&(b=b.getSelection(),l=y.textContent.length,E=Math.min(s.start,l),s=void 0===s.end?E:Math.min(s.end,l),!b.extend&&E>s&&(l=s,s=E,E=l),l=dr(y,E),a=dr(y,s),l&&a&&(1!==b.rangeCount||b.anchorNode!==l.node||b.anchorOffset!==l.offset||b.focusNode!==a.node||b.focusOffset!==a.offset)&&((w=w.createRange()).setStart(l.node,l.offset),b.removeAllRanges(),E>s?(b.addRange(w),b.extend(a.node,a.offset)):(w.setEnd(a.node,a.offset),b.addRange(w))))),w=[];for(b=y;b=b.parentNode;)1===b.nodeType&&w.push({element:b,left:b.scrollLeft,top:b.scrollTop});for("function"==typeof y.focus&&y.focus(),y=0;y<w.length;y++)(b=w[y]).element.scrollLeft=b.left,b.element.scrollTop=b.top}Yt=!!Fr,Wr=Fr=null,e.current=n,qs=r;do{try{for(y=e;null!==qs;){var C=qs.flags;if(36&C&&hs(y,qs.alternate,qs),128&C){w=void 0;var D=qs.ref;if(null!==D){var k=qs.stateNode;switch(qs.tag){case 5:w=k;break;default:w=k}"function"==typeof D?D(w):D.current=w}}qs=qs.nextEffect}}catch(e){if(null===qs)throw Error(i(330));Rl(qs,e),qs=qs.nextEffect}}while(null!==qs);qs=null,No(),Ss=o}else e.current=n;if(Xs)Xs=!1,Qs=e,Js=t;else for(qs=r;null!==qs;)t=qs.nextEffect,qs.nextEffect=null,8&qs.flags&&((C=qs).sibling=null,C.stateNode=null),qs=t;if(0===(r=e.pendingLanes)&&(Ys=null),1===r?e===rl?nl++:(nl=0,rl=e):nl=0,n=n.stateNode,Eo&&"function"==typeof Eo.onCommitFiberRoot)try{Eo.onCommitFiberRoot(bo,n,void 0,64==(64&n.current.flags))}catch(e){}if(pl(e,jo()),Gs)throw Gs=!1,e=$s,$s=null,e;return 0!=(8&Ss)||qo(),null}function Ol(){for(;null!==qs;){var e=qs.alternate;ll||null===sl||(0!=(8&qs.flags)?et(qs,sl)&&(ll=!0):13===qs.tag&&ks(e,qs)&&et(qs,sl)&&(ll=!0));var t=qs.flags;0!=(256&t)&&ps(e,qs),0==(512&t)||Xs||(Xs=!0,zo(97,(function(){return Ml(),null}))),qs=qs.nextEffect}}function Ml(){if(90!==Js){var e=97<Js?97:Js;return Js=90,Vo(e,Al)}return!1}function Ll(e,t){Zs.push(t,e),Xs||(Xs=!0,zo(97,(function(){return Ml(),null})))}function Il(e,t){el.push(t,e),Xs||(Xs=!0,zo(97,(function(){return Ml(),null})))}function Al(){if(null===Qs)return!1;var e=Qs;if(Qs=null,0!=(48&Ss))throw Error(i(331));var t=Ss;Ss|=32;var n=el;el=[];for(var r=0;r<n.length;r+=2){var o=n[r],a=n[r+1],s=o.destroy;if(o.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===a)throw Error(i(330));Rl(a,e)}}for(n=Zs,Zs=[],r=0;r<n.length;r+=2){o=n[r],a=n[r+1];try{var l=o.create;o.destroy=l()}catch(e){if(null===a)throw Error(i(330));Rl(a,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Ss=t,qo(),!0}function Nl(e,t,n){ua(e,t=us(0,t=is(n,t),1)),t=ul(),null!==(e=_l(e,1))&&(Kt(e,1,t),pl(e,t))}function Rl(e,t){if(3===e.tag)Nl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Nl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ys||!Ys.has(r))){var o=cs(n,e=is(t,e),1);if(ua(n,o),o=ul(),null!==(n=_l(n,1)))Kt(n,1,o),pl(n,o);else if("function"==typeof r.componentDidCatch&&(null===Ys||!Ys.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Fl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ul(),e.pingedLanes|=e.suspendedLanes&n,Bs===e&&(Ms&n)===n&&(4===As||3===As&&(62914560&Ms)===Ms&&500>jo()-Hs?bl(e,0):Us|=n),pl(e,t)}function Wl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Ho()?1:2:(0===al&&(al=Rs),0===(t=jt(62914560&~al))&&(t=4194304))),n=ul(),null!==(e=_l(e,t))&&(Kt(e,t,n),pl(e,n))}function Ul(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function jl(e,t,n,r){return new Ul(e,t,n,r)}function Hl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Kl(e,t){var n=e.alternate;return null===n?((n=jl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vl(e,t,n,r,o,a){var s=2;if(r=e,"function"==typeof e)Hl(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case D:return zl(n.children,o,a,t);case N:s=8,o|=16;break;case k:s=8,o|=1;break;case P:return(e=jl(12,n,t,8|o)).elementType=P,e.type=P,e.lanes=a,e;case B:return(e=jl(13,n,t,o)).type=B,e.elementType=B,e.lanes=a,e;case O:return(e=jl(19,n,t,o)).elementType=O,e.lanes=a,e;case R:return ql(n,o,a,t);case F:return(e=jl(24,n,t,o)).elementType=F,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case x:s=10;break e;case T:s=9;break e;case S:s=11;break e;case M:s=14;break e;case L:s=16,r=null;break e;case I:s=22;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=jl(s,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function zl(e,t,n,r){return(e=jl(7,e,r,t)).lanes=n,e}function ql(e,t,n,r){return(e=jl(23,e,r,t)).elementType=R,e.lanes=n,e}function Gl(e,t,n){return(e=jl(6,e,null,t)).lanes=n,e}function $l(e,t,n){return(t=jl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ht(0),this.expirationTimes=Ht(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ht(0),this.mutableSourceEagerHydrationData=null}function Xl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ql(e,t,n,r){var o=t.current,a=ul(),s=cl(o);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(i(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(mo(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(i(171))}if(1===n.tag){var u=n.type;if(mo(u)){n=go(n,u,l);break e}}n=l}else n=uo;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ua(o,t),dl(o,s,a),s}function Jl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Zl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eu(e,t){Zl(e,t),(e=e.alternate)&&Zl(e,t)}function tu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Yl(e,t,null!=n&&!0===n.hydrate),t=jl(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ia(t),e[Qr]=n.current,Sr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var o=(t=r[e])._getVersion;o=o(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,o]:n.mutableSourceEagerHydrationData.push(t,o)}this._internalRoot=n}function nu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ru(e,t,n,r,o){var a=n._reactRootContainer;if(a){var i=a._internalRoot;if("function"==typeof o){var s=o;o=function(){var e=Jl(i);s.call(e)}}Ql(t,i,e,o)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tu(e,0,t?{hydrate:!0}:void 0)}(n,r),i=a._internalRoot,"function"==typeof o){var l=o;o=function(){var e=Jl(i);l.call(e)}}gl((function(){Ql(t,i,e,o)}))}return Jl(i)}function ou(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nu(t))throw Error(i(200));return Xl(e,t,null,n)}zs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||_o.current)Ii=!0;else{if(0==(n&r)){switch(Ii=!1,t.tag){case 3:Vi(t),za();break;case 5:La(t);break;case 1:mo(t.type)&&yo(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var o=t.type._context;lo(Xo,o._currentValue),o._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Yi(e,t,n):(lo(Aa,1&Aa.current),null!==(t=ns(e,t,n))?t.sibling:null);lo(Aa,1&Aa.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return ts(e,t,n);t.flags|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),lo(Aa,Aa.current),r)break;return null;case 23:case 24:return t.lanes=0,Wi(e,t,n)}return ns(e,t,n)}Ii=0!=(16384&e.flags)}else Ii=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=ho(t,co.current),ra(t,n),o=oi(null,t,r,e,o,n),t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mo(r)){var a=!0;yo(t)}else a=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,ia(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&ha(t,r,s,e),o.updater=ma,t.stateNode=o,o._reactInternals=t,ya(t,r,e,n),t=Ki(null,t,r,!0,a,n)}else t.tag=0,Ai(null,t,o,n),t=t.child;return t;case 16:o=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=(a=o._init)(o._payload),t.type=o,a=t.tag=function(e){if("function"==typeof e)return Hl(e)?1:0;if(null!=e){if((e=e.$$typeof)===S)return 11;if(e===M)return 14}return 2}(o),e=Yo(o,e),a){case 0:t=ji(null,t,o,e,n);break e;case 1:t=Hi(null,t,o,e,n);break e;case 11:t=Ni(null,t,o,e,n);break e;case 14:t=Ri(null,t,o,Yo(o.type,e),r,n);break e}throw Error(i(306,o,""))}return t;case 0:return r=t.type,o=t.pendingProps,ji(e,t,r,o=t.elementType===r?o:Yo(r,o),n);case 1:return r=t.type,o=t.pendingProps,Hi(e,t,r,o=t.elementType===r?o:Yo(r,o),n);case 3:if(Vi(t),r=t.updateQueue,null===e||null===r)throw Error(i(282));if(r=t.pendingProps,o=null!==(o=t.memoizedState)?o.element:null,sa(e,t),da(t,r,null,n),(r=t.memoizedState.element)===o)za(),t=ns(e,t,n);else{if((a=(o=t.stateNode).hydrate)&&(Fa=zr(t.stateNode.containerInfo.firstChild),Ra=t,a=Wa=!0),a){if(null!=(e=o.mutableSourceEagerHydrationData))for(o=0;o<e.length;o+=2)(a=e[o])._workInProgressVersionPrimary=e[o+1],qa.push(a);for(n=ka(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ai(e,t,r,n),za();t=t.child}return t;case 5:return La(t),null===e&&Ha(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,jr(r,o)?s=null:null!==a&&jr(r,a)&&(t.flags|=16),Ui(e,t),Ai(e,t,s,n),t.child;case 6:return null===e&&Ha(t),null;case 13:return Yi(e,t,n);case 4:return Oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Da(t,null,r,n):Ai(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Ni(e,t,r,o=t.elementType===r?o:Yo(r,o),n);case 7:return Ai(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ai(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value;var l=t.type._context;if(lo(Xo,l._currentValue),l._currentValue=a,null!==s)if(l=s.value,0===(a=sr(l,a)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,a):1073741823))){if(s.children===o.children&&!_o.current){t=ns(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&a)){1===l.tag&&((c=la(-1,n&-n)).tag=2,ua(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),na(l.return,n),u.lanes|=n;break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Ai(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=(a=t.pendingProps).children,ra(t,n),r=r(o=oa(o,a.unstable_observedBits)),t.flags|=1,Ai(e,t,r,n),t.child;case 14:return a=Yo(o=t.type,t.pendingProps),Ri(e,t,o,a=Yo(o.type,a),r,n);case 15:return Fi(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Yo(r,o),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mo(r)?(e=!0,yo(t)):e=!1,ra(t,n),va(t,r,o),ya(t,r,o,n),Ki(null,t,r,!0,e,n);case 19:return ts(e,t,n);case 23:case 24:return Wi(e,t,n)}throw Error(i(156,t.tag))},tu.prototype.render=function(e){Ql(e,this._internalRoot,null,null)},tu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ql(null,e,null,(function(){t[Qr]=null}))},tt=function(e){13===e.tag&&(dl(e,4,ul()),eu(e,4))},nt=function(e){13===e.tag&&(dl(e,67108864,ul()),eu(e,67108864))},rt=function(e){if(13===e.tag){var t=ul(),n=cl(e);dl(e,n,t),eu(e,n)}},ot=function(e,t){return t()},xe=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=no(r);if(!o)throw Error(i(90));Q(r),ne(r,o)}}}break;case"textarea":ue(e,n);break;case"select":null!=(t=n.value)&&ie(e,!!n.multiple,t,!1)}},Le=vl,Ie=function(e,t,n,r,o){var a=Ss;Ss|=4;try{return Vo(98,e.bind(null,t,n,r,o))}finally{0===(Ss=a)&&(Vs(),qo())}},Ae=function(){0==(49&Ss)&&(function(){if(null!==tl){var e=tl;tl=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,pl(e,jo())}))}qo()}(),Ml())},Ne=function(e,t){var n=Ss;Ss|=2;try{return e(t)}finally{0===(Ss=n)&&(Vs(),qo())}};var au={Events:[eo,to,no,Oe,Me,Ml,{current:!1}]},iu={findFiberByHostInstance:Zr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},su={bundleType:iu.bundleType,version:iu.version,rendererPackageName:iu.rendererPackageName,rendererConfig:iu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:iu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{bo=lu.inject(su),Eo=lu}catch(fe){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=au,t.createPortal=ou,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw Error(i(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ss;if(0!=(48&n))return e(t);Ss|=1;try{if(e)return Vo(99,e.bind(null,t))}finally{Ss=n,qo()}},t.hydrate=function(e,t,n){if(!nu(t))throw Error(i(200));return ru(null,e,t,!0,n)},t.render=function(e,t,n){if(!nu(t))throw Error(i(200));return ru(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nu(e))throw Error(i(40));return!!e._reactRootContainer&&(gl((function(){ru(null,null,e,!1,(function(){e._reactRootContainer=null,e[Qr]=null}))})),!0)},t.unstable_batchedUpdates=vl,t.unstable_createPortal=function(e,t){return ou(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nu(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return ru(e,t,n,!1,r)},t.version="17.0.2"},3935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(4448)},5013:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,a){for(var i,s,l=o(e),u=1;u<arguments.length;u++){for(var c in i=Object(arguments[u]))n.call(i,c)&&(l[c]=i[c]);if(t){s=t(i);for(var d=0;d<s.length;d++)r.call(i,s[d])&&(l[s[d]]=i[s[d]])}}return l}},9367:(e,t,n)=>{"use strict";var r=n(9424),o=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var i=60109,s=60110,l=60112;t.Suspense=60113;var u=60115,c=60116;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;o=d("react.element"),a=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),i=d("react.provider"),s=d("react.context"),l=d("react.forward_ref"),t.Suspense=d("react.suspense"),u=d("react.memo"),c=d("react.lazy")}var _="function"==typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function f(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}function v(){}function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}f.prototype.isReactComponent={},f.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},f.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=f.prototype;var y=g.prototype=new v;y.constructor=g,r(y,f.prototype),y.isPureReactComponent=!0;var w={current:null},b=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,a={},i=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)b.call(t,r)&&!E.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===a[r]&&(a[r]=l[r]);return{$$typeof:o,type:e,key:i,ref:s,props:a,_owner:w.current}}function D(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var k=/\/+/g;function P(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(e,t,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case o:case a:l=!0}}if(l)return i=i(l=e),e=""===r?"."+P(l,0):r,Array.isArray(i)?(n="",null!=e&&(n=e.replace(k,"$&/")+"/"),x(i,t,n,"",(function(e){return e}))):null!=i&&(D(i)&&(i=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(k,"$&/")+"/")+e)),t.push(i)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=r+P(s=e[u],u);l+=x(s,t,n,c,i)}else if("function"==typeof(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=_&&e[_]||e["@@iterator"])?e:null}(e)))for(e=c.call(e),u=0;!(s=e.next()).done;)l+=x(s=s.value,t,n,c=r+P(s,u++),i);else if("object"===s)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function T(e,t,n){if(null==e)return e;var r=[],o=0;return x(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function S(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var B={current:null};function O(){var e=B.current;if(null===e)throw Error(p(321));return e}var M={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!D(e))throw Error(p(143));return e}},t.Component=f,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.cloneElement=function(e,t,n){if(null==e)throw Error(p(267,e));var a=r({},e.props),i=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=w.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)b.call(t,c)&&!E.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];a.children=u}return{$$typeof:o,type:e.type,key:i,ref:s,props:a,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=D,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:S}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},7294:(e,t,n)=>{"use strict";e.exports=n(9367)},9424:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,a){for(var i,s,l=o(e),u=1;u<arguments.length;u++){for(var c in i=Object(arguments[u]))n.call(i,c)&&(l[c]=i[c]);if(t){s=t(i);for(var d=0;d<s.length;d++)r.call(i,s[d])&&(l[s[d]]=i[s[d]])}}return l}},53:(e,t)=>{"use strict";var n,r,o,a;if("object"==typeof performance&&"function"==typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,c=null,d=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(e){throw setTimeout(d,0),e}};n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(d,0))},r=function(e,t){c=setTimeout(e,t)},o=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var _=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var h=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof h&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,f=null,v=-1,g=5,y=0;t.unstable_shouldYield=function(){return t.unstable_now()>=y},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,b=w.port2;w.port1.onmessage=function(){if(null!==f){var e=t.unstable_now();y=e+g;try{f(!0,e)?b.postMessage(null):(m=!1,f=null)}catch(e){throw b.postMessage(null),e}}else m=!1},n=function(e){f=e,m||(m=!0,b.postMessage(null))},r=function(e,n){v=_((function(){e(t.unstable_now())}),n)},o=function(){p(v),v=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,o=e[r];if(!(void 0!==o&&0<k(o,t)))break e;e[r]=t,e[n]=o,n=r}}function C(e){return void 0===(e=e[0])?null:e}function D(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var a=2*(r+1)-1,i=e[a],s=a+1,l=e[s];if(void 0!==i&&0>k(i,n))void 0!==l&&0>k(l,i)?(e[r]=l,e[s]=n,r=s):(e[r]=i,e[a]=n,r=a);else{if(!(void 0!==l&&0>k(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var P=[],x=[],T=1,S=null,B=3,O=!1,M=!1,L=!1;function I(e){for(var t=C(x);null!==t;){if(null===t.callback)D(x);else{if(!(t.startTime<=e))break;D(x),t.sortIndex=t.expirationTime,E(P,t)}t=C(x)}}function A(e){if(L=!1,I(e),!M)if(null!==C(P))M=!0,n(N);else{var t=C(x);null!==t&&r(A,t.startTime-e)}}function N(e,n){M=!1,L&&(L=!1,o()),O=!0;var a=B;try{for(I(n),S=C(P);null!==S&&(!(S.expirationTime>n)||e&&!t.unstable_shouldYield());){var i=S.callback;if("function"==typeof i){S.callback=null,B=S.priorityLevel;var s=i(S.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?S.callback=s:S===C(P)&&D(P),I(n)}else D(P);S=C(P)}if(null!==S)var l=!0;else{var u=C(x);null!==u&&r(A,u.startTime-n),l=!1}return l}finally{S=null,B=a,O=!1}}var R=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){M||O||(M=!0,n(N))},t.unstable_getCurrentPriorityLevel=function(){return B},t.unstable_getFirstCallbackNode=function(){return C(P)},t.unstable_next=function(e){switch(B){case 1:case 2:case 3:var t=3;break;default:t=B}var n=B;B=t;try{return e()}finally{B=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=R,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=B;B=e;try{return t()}finally{B=n}},t.unstable_scheduleCallback=function(e,a,i){var s=t.unstable_now();switch("object"==typeof i&&null!==i?i="number"==typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:T++,callback:a,priorityLevel:e,startTime:i,expirationTime:l=i+l,sortIndex:-1},i>s?(e.sortIndex=i,E(x,e),null===C(P)&&e===C(x)&&(L?o():L=!0,r(A,i-s))):(e.sortIndex=l,E(P,e),M||O||(M=!0,n(N))),e},t.unstable_wrapCallback=function(e){var t=B;return function(){var n=B;B=t;try{return e.apply(this,arguments)}finally{B=n}}}},3840:(e,t,n)=>{"use strict";e.exports=n(53)},2548:function(e,t,n){e.exports=function(){"use strict";function e(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self&&self;var t=e((function(e,t){!function(t,n){e.exports=n()}(0,(function(){function e(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(e){return Array.isArray(e)?[]:{}}function n(n,r){return r&&!0===r.clone&&e(n)?a(t(n),n,r):n}function r(t,r,o){var i=t.slice();return r.forEach((function(r,s){void 0===i[s]?i[s]=n(r,o):e(r)?i[s]=a(t[s],r,o):-1===t.indexOf(r)&&i.push(n(r,o))})),i}function o(t,r,o){var i={};return e(t)&&Object.keys(t).forEach((function(e){i[e]=n(t[e],o)})),Object.keys(r).forEach((function(s){e(r[s])&&t[s]?i[s]=a(t[s],r[s],o):i[s]=n(r[s],o)})),i}function a(e,t,a){var i=Array.isArray(t),s=(a||{arrayMerge:r}).arrayMerge||r;return i?Array.isArray(e)?s(e,t,a):n(t,a):o(e,t,a)}return a.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,n){return a(e,n,t)}))},a}))}));function r(e){return e=e||Object.create(null),{on:function(t,n){(e[t]||(e[t]=[])).push(n)},off:function(t,n){e[t]&&e[t].splice(e[t].indexOf(n)>>>0,1)},emit:function(t,n){(e[t]||[]).map((function(e){e(n)})),(e["*"]||[]).map((function(e){e(t,n)}))}}}var o=e((function(e,t){var n={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}};t.default=n,e.exports=t.default})),a=function(e){return Object.keys(e).map((function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'})).join(" ")},i=o.svg,s=o.xlink,l={};l[i.name]=i.uri,l[s.name]=s.uri;var u,c=function(e,n){void 0===e&&(e="");var r=t(l,n||{});return"<svg "+a(r)+">"+e+"</svg>"},d=o.svg,_=o.xlink,p={attrs:(u={style:["position: absolute","width: 0","height: 0"].join("; "),"aria-hidden":"true"},u[d.name]=d.uri,u[_.name]=_.uri,u)},h=function(e){this.config=t(p,e||{}),this.symbols=[]};h.prototype.add=function(e){var t=this.symbols,n=this.find(e.id);return n?(t[t.indexOf(n)]=e,!1):(t.push(e),!0)},h.prototype.remove=function(e){var t=this.symbols,n=this.find(e);return!!n&&(t.splice(t.indexOf(n),1),n.destroy(),!0)},h.prototype.find=function(e){return this.symbols.filter((function(t){return t.id===e}))[0]||null},h.prototype.has=function(e){return null!==this.find(e)},h.prototype.stringify=function(){var e=this.config.attrs,t=this.symbols.map((function(e){return e.stringify()})).join("");return c(t,e)},h.prototype.toString=function(){return this.stringify()},h.prototype.destroy=function(){this.symbols.forEach((function(e){return e.destroy()}))};var m=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};m.prototype.stringify=function(){return this.content},m.prototype.toString=function(){return this.stringify()},m.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach((function(t){return delete e[t]}))};var f=function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n},v=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return f(c(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(m),g={autoConfigure:!0,mountTo:"body",syncUrlsWithBaseTag:!1,listenLocationChangeEvent:!0,locationChangeEvent:"locationChange",locationChangeAngularEmitter:!1,usagesToUpdate:"use[*|href]",moveGradientsOutsideSymbol:!1},y=function(e){return Array.prototype.slice.call(e,0)},w={isChrome:function(){return/chrome/i.test(navigator.userAgent)},isFirefox:function(){return/firefox/i.test(navigator.userAgent)},isIE:function(){return/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)},isEdge:function(){return/edge/i.test(navigator.userAgent)}},b=function(e,t){var n=document.createEvent("CustomEvent");n.initCustomEvent(e,!1,!1,t),window.dispatchEvent(n)},E=function(e){var t=[];return y(e.querySelectorAll("style")).forEach((function(e){e.textContent+="",t.push(e)})),t},C=function(e){return(e||window.location.href).split("#")[0]},D=function(e){angular.module("ng").run(["$rootScope",function(t){t.$on("$locationChangeSuccess",(function(t,n,r){b(e,{oldUrl:r,newUrl:n})}))}])},k="linearGradient, radialGradient, pattern, mask, clipPath",P=function(e,t){return void 0===t&&(t=k),y(e.querySelectorAll("symbol")).forEach((function(e){y(e.querySelectorAll(t)).forEach((function(t){e.parentNode.insertBefore(t,e)}))})),e};function x(e,t){return y(e).reduce((function(e,n){if(!n.attributes)return e;var r=y(n.attributes),o=t?r.filter(t):r;return e.concat(o)}),[])}var T=o.xlink.uri,S="xlink:href",B=/[{}|\\\^\[\]`"<>]/g;function O(e){return e.replace(B,(function(e){return"%"+e[0].charCodeAt(0).toString(16).toUpperCase()}))}function M(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function L(e,t,n){return y(e).forEach((function(e){var r=e.getAttribute(S);if(r&&0===r.indexOf(t)){var o=r.replace(t,n);e.setAttributeNS(T,S,o)}})),e}var I=["clipPath","colorProfile","src","cursor","fill","filter","marker","markerStart","markerMid","markerEnd","mask","stroke","style"],A=I.map((function(e){return"["+e+"]"})).join(","),N=function(e,t,n,r){var o=O(n),a=O(r);x(e.querySelectorAll(A),(function(e){var t=e.localName,n=e.value;return-1!==I.indexOf(t)&&-1!==n.indexOf("url("+o)})).forEach((function(e){return e.value=e.value.replace(new RegExp(M(o),"g"),a)})),L(t,o,a)},R={MOUNT:"mount",SYMBOL_MOUNT:"symbol_mount"};return function(e){function n(n){var o=this;void 0===n&&(n={}),e.call(this,t(g,n));var a=r();this._emitter=a,this.node=null;var i=this.config;if(i.autoConfigure&&this._autoConfigure(n),i.syncUrlsWithBaseTag){var s=document.getElementsByTagName("base")[0].getAttribute("href");a.on(R.MOUNT,(function(){return o.updateUrls("#",s)}))}var l=this._handleLocationChange.bind(this);this._handleLocationChange=l,i.listenLocationChangeEvent&&window.addEventListener(i.locationChangeEvent,l),i.locationChangeAngularEmitter&&D(i.locationChangeEvent),a.on(R.MOUNT,(function(e){i.moveGradientsOutsideSymbol&&P(e)})),a.on(R.SYMBOL_MOUNT,(function(e){i.moveGradientsOutsideSymbol&&P(e.parentNode),(w.isIE()||w.isEdge())&&E(e)}))}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var o={isMounted:{}};return o.isMounted.get=function(){return!!this.node},n.prototype._autoConfigure=function(e){var t=this.config;void 0===e.syncUrlsWithBaseTag&&(t.syncUrlsWithBaseTag=void 0!==document.getElementsByTagName("base")[0]),void 0===e.locationChangeAngularEmitter&&(t.locationChangeAngularEmitter=void 0!==window.angular),void 0===e.moveGradientsOutsideSymbol&&(t.moveGradientsOutsideSymbol=w.isFirefox())},n.prototype._handleLocationChange=function(e){var t=e.detail,n=t.oldUrl,r=t.newUrl;this.updateUrls(n,r)},n.prototype.add=function(t){var n=this,r=e.prototype.add.call(this,t);return this.isMounted&&r&&(t.mount(n.node),this._emitter.emit(R.SYMBOL_MOUNT,t.node)),r},n.prototype.attach=function(e){var t=this,n=this;if(n.isMounted)return n.node;var r="string"==typeof e?document.querySelector(e):e;return n.node=r,this.symbols.forEach((function(e){e.mount(n.node),t._emitter.emit(R.SYMBOL_MOUNT,e.node)})),y(r.querySelectorAll("symbol")).forEach((function(e){var t=v.createFromExistingNode(e);t.node=e,n.add(t)})),this._emitter.emit(R.MOUNT,r),r},n.prototype.destroy=function(){var e=this,t=e.config,n=e.symbols,r=e._emitter;n.forEach((function(e){return e.destroy()})),r.off("*"),window.removeEventListener(t.locationChangeEvent,this._handleLocationChange),this.isMounted&&this.unmount()},n.prototype.mount=function(e,t){void 0===e&&(e=this.config.mountTo),void 0===t&&(t=!1);var n=this;if(n.isMounted)return n.node;var r="string"==typeof e?document.querySelector(e):e,o=n.render();return this.node=o,t&&r.childNodes[0]?r.insertBefore(o,r.childNodes[0]):r.appendChild(o),this._emitter.emit(R.MOUNT,o),o},n.prototype.render=function(){return f(this.stringify())},n.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},n.prototype.updateUrls=function(e,t){if(!this.isMounted)return!1;var n=document.querySelectorAll(this.config.usagesToUpdate);return N(this.node,n,C(e)+"#",C(t)+"#"),!0},Object.defineProperties(n.prototype,o),n}(h)}()},7854:function(e,t,n){e.exports=function(){"use strict";var e=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};e.prototype.stringify=function(){return this.content},e.prototype.toString=function(){return this.stringify()},e.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach((function(t){return delete e[t]}))};var t=function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n};function r(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self&&self;var o=r((function(e,t){!function(t,n){e.exports=n()}(0,(function(){function e(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(e){return Array.isArray(e)?[]:{}}function n(n,r){return r&&!0===r.clone&&e(n)?a(t(n),n,r):n}function r(t,r,o){var i=t.slice();return r.forEach((function(r,s){void 0===i[s]?i[s]=n(r,o):e(r)?i[s]=a(t[s],r,o):-1===t.indexOf(r)&&i.push(n(r,o))})),i}function o(t,r,o){var i={};return e(t)&&Object.keys(t).forEach((function(e){i[e]=n(t[e],o)})),Object.keys(r).forEach((function(s){e(r[s])&&t[s]?i[s]=a(t[s],r[s],o):i[s]=n(r[s],o)})),i}function a(e,t,a){var i=Array.isArray(t),s=(a||{arrayMerge:r}).arrayMerge||r;return i?Array.isArray(e)?s(e,t,a):n(t,a):o(e,t,a)}return a.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,n){return a(e,n,t)}))},a}))})),a=r((function(e,t){var n={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}};t.default=n,e.exports=t.default})),i=function(e){return Object.keys(e).map((function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'})).join(" ")},s=a.svg,l=a.xlink,u={};u[s.name]=s.uri,u[l.name]=l.uri;var c=function(e,t){void 0===e&&(e="");var n=o(u,t||{});return"<svg "+i(n)+">"+e+"</svg>"};return function(e){function n(){e.apply(this,arguments)}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var r={isMounted:{}};return r.isMounted.get=function(){return!!this.node},n.createFromExistingNode=function(e){return new n({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},n.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},n.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},n.prototype.render=function(){var e=this.stringify();return t(c(e)).childNodes[0]},n.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(n.prototype,r),n}(e)}()},1317:function(e){e.exports=function(){"use strict";class e{constructor(e=0,t=0){this.first=null,this.items=Object.create(null),this.last=null,this.max=e,this.size=0,this.ttl=t}has(e){return e in this.items}clear(){return this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this}delete(e){if(this.has(e)){const t=this.items[e];delete this.items[e],this.size--,null!==t.prev&&(t.prev.next=t.next),null!==t.next&&(t.next.prev=t.prev),this.first===t&&(this.first=t.next),this.last===t&&(this.last=t.prev)}return this}evict(){const e=this.first;return delete this.items[e.key],this.first=e.next,this.first.prev=null,this.size--,this}get(e){let t;if(this.has(e)){const n=this.items[e];this.ttl>0&&n.expiry<=(new Date).getTime()?this.delete(e):(t=n.value,this.set(e,t,!0))}return t}keys(){return Object.keys(this.items)}set(e,t,n=!1){let r;if(n||this.has(e)){if(r=this.items[e],r.value=t,!1===n&&(r.expiry=this.ttl>0?(new Date).getTime()+this.ttl:this.ttl),this.last!==r){const e=this.last,t=r.next,n=r.prev;this.first===r&&(this.first=r.next),r.next=null,r.prev=this.last,e.next=r,null!==n&&(n.next=t),null!==t&&(t.prev=n)}}else this.max>0&&this.size===this.max&&this.evict(),r=this.items[e]={expiry:this.ttl>0?(new Date).getTime()+this.ttl:this.ttl,key:e,prev:this.last,next:null,value:t},1==++this.size?this.first=r:this.last.next=r;return this.last=r,this}}return function(t=1e3,n=0){if(isNaN(t)||t<0)throw new TypeError("Invalid max value");if(isNaN(n)||n<0)throw new TypeError("Invalid ttl value");return new e(t,n)}}()},2209:(e,t,n)=>{"use strict";n.d(t,{TaskQueue:()=>s});var r,o=n(655),a=n(4795),i=n.n(a);!function(e){e.EV_GC_START="ev_gc_start",e.EV_GC_END="ev_gc_end",e.EV_PAUSED="ev_paused",e.EV_RESTARTED="ev_restarted",e.EV_NEW_HANDLER="ev_new_handler",e.EV_RM_HANDLER="ev_rm_handler",e.EV_TASK_START="ev_task_start"}(r||(r={}));var s=function(){function e(e){var t=this;void 0===e&&(e=function(){}),this._errorHandler=e,this._timerInterval=15,this._handlers=Object.create(null),this._emitter=new(i()),this._q=[],this.destroy=function(){t.pause(),clearInterval(t._gcTimer)},this.pause=function(){t._timer&&(clearTimeout(t._timer),t._timer=void 0,t._emitter.emit(r.EV_PAUSED))},this.restart=function(){t._timer||(t._next(),t._emitter.emit(r.EV_RESTARTED))},this.push=function(e){t._q.push(e),t.restart()},this.setHandler=function(e,n,o){void 0===o&&(o=!1),n.once=o,t._handlers[e]=n,t._emitter.emit(r.EV_NEW_HANDLER,e)},this.removeHandler=function(e){delete t._handlers[e],t._emitter.emit(r.EV_RM_HANDLER,e)},this._next()}return Object.defineProperty(e.prototype,"events",{get:function(){return this._emitter},enumerable:!1,configurable:!0}),e.migrate=function(t,n){void 0===n&&(n=function(){});var r=new e(n);return r.pause(),t&&t.destroy&&t._handlers&&t._q&&(t.destroy(),Object.keys(t._handlers).forEach((function(e){var n=t._handlers[e];r.setHandler(e,n,n.once)})),t._q.forEach((function(e){return r.push(e)}))),r.restart(),r},e.prototype.setupGc=function(t){this._gcTimer&&clearInterval(this._gcTimer),this._gcTimer=setInterval(this._gcTask.bind(this),t||e._gcDefaultInterval)},e.prototype._next=function(e){void 0===e&&(e=!1),this._timer=setTimeout(this._processNext.bind(this),e?0:this._timerInterval)},e.prototype._gcTask=function(){this.pause(),this._emitter.emit(r.EV_GC_START);var e=this._q.filter((function(e){return e.postponed}));this._q=this._q.filter((function(e){return!e.postponed})),this._emitter.emit(r.EV_GC_END,e),this.restart()},e.prototype._processNext=function(){var e=this,t=(0,o.__read)(this._q.splice(0,1),1)[0];if(t){var n,a=this._handlers[t.selector];if((null==a?void 0:a.once)&&this.removeHandler(t.selector),!a)return t.postponed||(t.postponed=!0),this._q.push(t),void(this._timer&&this._next());this._emitter.emit(r.EV_TASK_START,t.selector),window._tqVerbose&&console.info("Running evbus task",t.selector);try{n=Promise.resolve(a(t))}catch(e){n=Promise.reject(e)}n.then((function(){e._next(!0)}),(function(n){e._errorHandler&&e._errorHandler(t,n),e._next(!0)}))}else this.pause()},e._gcDefaultInterval=5e3,e}()},8533:(e,t,n)=>{"use strict";n.d(t,{tq:()=>r.tq});var r=n(7542);n(6333)},7542:(e,t,n)=>{"use strict";n.d(t,{tq:()=>a,tqi:()=>i,tqs:()=>s});n(2209),n(6333),n(1386);var r=function(){if(!document.head)throw new Error("Document must be loaded before queue init");return document.head},o=function(e){return function(){var t=r();if(!t["_"+e])throw new Error(e+" not initialized");return t["_"+e]}},a=o("tq"),i=o("tqi"),s=o("tqs")},6333:(e,t,n)=>{"use strict";n.d(t,{processTreeOfNodes:()=>c,initMutationObserver:()=>d,registerCommonEvents:()=>_,registerGlobalTqHandlers:()=>p,unregisterGlobalTqHandlers:()=>h});var r=n(655),o=n(7542),a={click:1,mouseover:1,mouseout:1,keyup:1,keydown:1,change:1,paste:1},i=["focus"],s=function(e){return function(t){var n;if(t.type===e&&t.target&&e&&(n=t.target.nodeType===Node.TEXT_NODE?t.target.parentNode:t.target,r=n,!Object.keys(r).some((function(e){return e.startsWith("_react")||e.startsWith("__react")}))&&n.dataset)){var r,a=n.dataset["task"+(e.toUpperCase()[0]+e.slice(1))];if(!a){if("click"!==t.type)return;var i=n.closest("[data-task-click]");if(!i)return;n=i,a=i.dataset["task"+(e.toUpperCase()[0]+e.slice(1))]}return a&&((0,o.tqi)().push({selector:a,payload:{target:n,dataAttrs:n.dataset,event:t},postponed:!1,createTime:Date.now()}),n.dataset.prevent)?(t.preventDefault(),!1):void 0}}},l=function(e){if(e.matches("[data-exec]")){var t=e.dataset.exec||"{}";e.removeAttribute("data-exec"),function(e,t){var n={};try{n=JSON.parse(e)}catch(t){console.error("Failed to parse JSON: ",e)}for(var r in n)n.hasOwnProperty(r)&&(0,o.tqs)().push({selector:r,payload:{target:t,data:n[r]},postponed:!1,createTime:Date.now()})}(t,e)}},u=function(e){var t,n,a,s=function(t){var n="data-task-"+t;if(e.hasAttribute(n)){var r=null!==(a=e.getAttribute(n))&&void 0!==a?a:"";e.removeAttribute(n),e.addEventListener(t,(function(t){var n=(0,o.tqi)()._handlers[r];Promise.resolve(null).then((function(){return null==n?void 0:n({selector:r,payload:{dataAttrs:{},target:e,event:t},postponed:!1,createTime:Date.now()})})).catch((function(e){return console.error(e)}))}))}};try{for(var l=(0,r.__values)(i),u=l.next();!u.done;u=l.next()){s(u.value)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}},c=function(e){var t,n,o,a,s,c;void 0===e&&(e=document);try{for(var d=(0,r.__values)(e.querySelectorAll("[data-exec]")),_=d.next();!_.done;_=d.next()){((g=_.value)instanceof HTMLElement||g instanceof SVGElement)&&l(g)}}catch(e){t={error:e}}finally{try{_&&!_.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}try{for(var p=(0,r.__values)(i),h=p.next();!h.done;h=p.next()){var m=h.value;try{for(var f=(s=void 0,(0,r.__values)(e.querySelectorAll("[data-task-"+m+"]"))),v=f.next();!v.done;v=f.next()){var g;((g=v.value)instanceof HTMLElement||g instanceof SVGElement)&&u(g)}}catch(e){s={error:e}}finally{try{v&&!v.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}}}catch(e){o={error:e}}finally{try{h&&!h.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}},d=function(){window._obs=new MutationObserver((function(e){var t,n,o,a;try{for(var i=(0,r.__values)(e),s=i.next();!s.done;s=i.next()){var d=s.value;try{for(var _=(o=void 0,(0,r.__values)(d.addedNodes)),p=_.next();!p.done;p=_.next()){var h=p.value;(h instanceof HTMLElement||h instanceof SVGElement)&&(l(h),u(h),c(h))}}catch(e){o={error:e}}finally{try{p&&!p.done&&(a=_.return)&&a.call(_)}finally{if(o)throw o.error}}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}})),window._obs.observe(document,{subtree:!0,childList:!0,attributes:!0})},_=function(){(0,o.tqi)().setHandler("Common/nav_go",(function(e){var t,n;(null===(t=e.payload.event)||void 0===t?void 0:t.target)&&window.nav.go(e.payload.event.target,e.payload.event,JSON.parse((null===(n=e.payload.dataAttrs)||void 0===n?void 0:n.options)||"{}"))}),!1),(0,o.tqi)().setHandler("Common/cur_box_hide",(function(){var e,t,n=null===(e=window._message_boxes)||void 0===e?void 0:e[null===(t=window.boxQueue)||void 0===t?void 0:t.curBox],r=(null==n?void 0:n.isVisible())?n:null;null==r||r.hide()}),!1)},p=function(e){var t={};for(var n in a)if(a.hasOwnProperty(n)){var r=s(n);e.addEventListener(n,r),t[n]=r}return t},h=function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.removeEventListener(n,t[n])}},8660:(e,t,n)=>{"use strict";n.d(t,{post:()=>o});var r=n(655);n(2408);function o(e,t,n){return t&&(t.im_v=3),new Promise((function(o,a){window.ajax.post(e,t,{timeout:n,onDone:function(){o.apply(null,[(0,r.__spreadArray)([],(0,r.__read)(arguments))])},onFail:function(){return a.apply(null,(0,r.__spreadArray)([],(0,r.__read)(arguments))),!0}})}))}},2459:(e,t,n)=>{"use strict";function r(e){if(e)for(;e.firstChild;)e.removeChild(e.firstChild)}n.d(t,{emptyNode:()=>r,setGlobalCustomProperty:()=>o});var o=function(e,t){document.documentElement.style.setProperty(e,t)}},9722:(e,t,n)=>{"use strict";n.d(t,{logError:()=>a,debugBufferLog:()=>i});var r=n(8609),o=n(5124);function a(e,t){if(void 0===t&&(t={}),null===window||void 0===window?void 0:window.Raven){var n=t.breadcrumb,a=t.environment;n&&window.Raven.captureBreadcrumb({message:n.message,category:o.customBreadcrumbCategory,data:n.data}),a?window.Raven.captureException(e,{environment:a}):window.Raven.captureException(e),(0,r.logError)(e,t)}}function i(e){return a(e,{environment:"debugLog"})}},2013:(e,t,n)=>{"use strict";n.d(t,{isStuckError:()=>m,pruneRequestFromStuckErrors:()=>f});var r,o,a=n(655),i=n(6353),s=n(6726),l=n(2604),u="mvk"===(null===(o=null===(r=window.vk)||void 0===r?void 0:r.statsMeta)||void 0===o?void 0:o.platform)&&(0,i.partConfigEnabled)("mute_mvk_err_peaks"),c=n(1317),d=10,_=u&&c(d),p=u&&c(d,5e3),h=function(e){var t=e.value,n=e.stacktrace,r=e.file,o=e.page;return[t,n.join(""),r,o].join("_")},m=function(e){if(!u||!p||!_)return!1;var t=h(e),n=(0,a.__read)([_.get(t)||0,p.get(t)||0],2),r=n[0],o=n[1];return _.set(t,++r),p.set(t,++o),o>=d||r>=50},f=u?function(e){var t,n,r=Date.now(),o="jsErrorLogs",i=(0,s.getWebStatsStringValue)(o,e);if(((null===(t=i.match(new RegExp("},{","g")))||void 0===t?void 0:t.length)||0)<d)return e;try{n=JSON.parse(i)}catch(e){(0,l.logProcessingTime)(1,"dedupe-fail")}if(!n)return e;var u=Object.values(n.reduce((function(e,t){var n,r=h(t),o=e[r]||[];return(0,a.__assign)((0,a.__assign)({},e),((n={})[r]=o.length<d?o.concat(t):o,n))}),{})),c=e.replace('"jsErrorLogs":'+i,'"jsErrorLogs":'+JSON.stringify([].concat.apply([],u))),_=Date.now()-r;return _>16&&(0,l.logProcessingTime)(_,"dedupe"),c}:function(e){return e}},1386:(e,t,n)=>{"use strict";n.d(t,{logError:()=>r.logError,debugBufferLog:()=>r.debugBufferLog});n(1479);var r=n(9722)},1479:(e,t,n)=>{"use strict";n(4961),n(2013)},469:(e,t,n)=>{"use strict";n.d(t,{NarrativeAnalyticEventType:()=>r,NarrativeAnalyticNavScreen:()=>o,sendNarrativeAnalytic:()=>s});var r,o,a=n(6900),i=n(6353);function s(e,t,n){var r;void 0===n&&(n=o.other);var s=(null==t?void 0:t.title)||void 0,l=(null==t?void 0:t.customCover)?0:(null==t?void 0:t.coverStoryId)||0,u=(null==t?void 0:t.id)||0,c=(null==t?void 0:t.ownerId)||0,d=null===(r=null==t?void 0:t.stories)||void 0===r?void 0:r.map((function(e){return e.id})),_={event_type:e,nav_screen:n,narrative_owner_id:c,narrative_id:u,narrative_title:s,story_ids:(null==d?void 0:d.length)?d:void 0,cover_story_id:l};(0,a.statlogsValueEvent)("narrative_product_analytic",_),(0,i.partConfigEnabled)("narratives_web_analytic_debug")&&console.log("-- narrative analytic",_)}!function(e){e.clickToAddToNarrative="click_to_add_to_narrative",e.addStoryToNarrative="add_story_to_narrative",e.openNarrativeList="open_narrative_list",e.close="close",e.changeSort="change_sort",e.publishNarrative="publish_narrative",e.createNarrative="create_narrative",e.deleteNarrative="delete_narrative",e.clickToEditNarrative="click_to_edit_narrative",e.editNarrative="edit_narrative",e.addToBookmarks="add_to_bookmarks",e.shareNarrative="share_narrative",e.seeMore="see_more",e.addToNarrativeFromActionSheet="add_to_narrative_from_action_sheet"}(r||(r={})),function(e){e.storyArchive="story_archive",e.storyViewer="story_viewer",e.profile="profile",e.feedBlock="narratives_feed_block",e.club="club",e.other="other"}(o||(o={}))},9050:(e,t,n)=>{"use strict";var r;n.d(t,{BatchOperationType:()=>r}),function(e){e.Add="add",e.Delete="delete"}(r||(r={}))},453:(e,t,n)=>{"use strict";n.d(t,{parseJSON:()=>a});var r=n(1386),o=n(5124);function a(e){try{return JSON.parse(e)}catch(n){var t={environment:"parseJsonError",breadcrumb:{message:"Uncaught json parse error",data:{json:e},category:o.customBreadcrumbCategory}};return(0,r.logError)(n,t),{}}}},5124:(e,t,n)=>{"use strict";n.d(t,{PROTECTED_MODULE_NAME_TAG:()=>o,topErrorModuleName:()=>a,customBreadcrumbCategory:()=>i});var r=n(360),o="__protectedModuleName",a="genericVkError",i="custom";(0,r.getFunctionName)(void 0)},8609:(e,t,n)=>{"use strict";n.d(t,{logError:()=>o});var r=n(5124);function o(e,t){var n,o=void 0===t?{}:t,a=o.breadcrumb,i=o.environment,s=void 0===i?null===(n=null===window||void 0===window?void 0:window.cur)||void 0===n?void 0:n.module:i,l=o.hasDummyStacktrace;if(null===window||void 0===window?void 0:window.Sentry)return l&&"object"==typeof e&&(null==e?void 0:e.stack)&&delete e.stack,window.Sentry.captureException(e,(function(e){var t;return s&&e.setTags(((t={module:s})[r.PROTECTED_MODULE_NAME_TAG]=!0,t)),a&&e.addBreadcrumb({message:a.message,category:r.customBreadcrumbCategory,data:a.data}),e}))}},6557:(e,t,n)=>{"use strict";n.d(t,{isMvk:()=>r,loadImage:()=>o,getCroppedImage:()=>a});n(655);function r(){return!!window.isMVK}function o(e){return new Promise((function(t,n){var r=new Image;r.crossOrigin=e.startsWith("data:")?null:"Anonymous",r.onerror=function(){return n(new Error("Failed to load image's URL: "+e))},r.onload=function(){return t(r)},r.src=e}))}function a(e,t,n,r,a,i){return void 0===i&&(i=0),new Promise((function(s,l){("string"==typeof e?o(e):Promise.resolve(e)).then((function(e){var u=document.createElement("canvas");u.width=90===i||270===i?e.naturalHeight:e.naturalWidth,u.height=90===i||270===i?e.naturalWidth:e.naturalHeight;var c=u.getContext("2d");if(c){c.fillStyle="#fff",c.fillRect(0,0,c.canvas.width,c.canvas.height),i?(c.translate(u.width/2,u.height/2),c.rotate(i*Math.PI/180),c.drawImage(e,-e.naturalWidth/2,-e.naturalHeight/2)):c.drawImage(e,0,0);var d=c.getImageData(t,n,r,a),_=document.createElement("canvas");_.width=r,_.height=a;var p=_.getContext("2d");if(p)return p.putImageData(d,0,0),o(_.toDataURL("image/jpeg",1)).then(s).catch(l);s(e)}else s(e)})).catch(l)}))}},302:(e,t,n)=>{"use strict";n.d(t,{vkLocalStorage:()=>u,vkSessionStorage:()=>d});var r,o=function(){function e(){var e=this;this.data={},this.getItem=function(t){return e.data.hasOwnProperty(t)?e.data[t]:null},this.keys=function(){return Object.keys(e.data)}}return e.prototype.setItem=function(e,t){this.data[e]=String(t)},e.prototype.removeItem=function(e){delete this.data[e]},e.prototype.clear=function(){this.data={}},Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.data).length},enumerable:!1,configurable:!0}),e.prototype.key=function(e){return Object.keys(this.data)[e]},e}(),a="vk-ls-dummy",i="test";function s(){if(r)return r;try{if(window.localStorage.setItem(a,i),i!==window.localStorage.getItem(a))throw new Error("localStorage is broken");window.localStorage.removeItem(a),r=window.localStorage}catch(e){r=new o}return r}var l,u={setItem:function(e,t){return s().setItem(e,t)},getItem:function(e){return s().getItem(e)},removeItem:function(e){return s().removeItem(e)},clear:function(){return s().clear()},length:function(){return s().length},key:function(e){return s().key(e)},keys:function(){var e=s();return e instanceof o?e.keys():Object.keys(e)},getPrefixedKeys:function(e){return u.keys().filter((function(t){return t.startsWith(e)}))}};function c(){if(l)return l;try{if(window.sessionStorage.setItem(a,i),i!==window.sessionStorage.getItem(a))throw new Error("sessionStorage is broken");window.sessionStorage.removeItem(a),l=window.sessionStorage}catch(e){l=new o}return l}var d={setItem:function(e,t){return c().setItem(e,t)},getItem:function(e){return c().getItem(e)},removeItem:function(e){return c().removeItem(e)},clear:function(){return c().clear()},length:function(){return c().length},key:function(e){return c().key(e)},keys:function(){var e=c();return e instanceof o?e.keys():Object.keys(e)},getPrefixedKeys:function(e){return d.keys().filter((function(t){return t.startsWith(e)}))}}},5797:(e,t,n)=>{"use strict";var r,o,a,i,s;n.d(t,{StoryBlockType:()=>i,StoryListName:()=>s}),function(e){e.PHOTO="photo",e.VIDEO="video",e.LIVE="live"}(r||(r={})),function(e){e.SWIPE="swipe",e.NAVIGATION_BUTTON="navigation_button",e.SIT_POSTING="sit_posting",e.LINK="link",e.STORY_REPLY="story_reply",e.STORY_REPOST="story_repost",e.CATALOG_ADD="catalog_add",e.DIALOG="dialog",e.STORY_LIVE_FINISHED="story_live_finished",e.DIALOG_VKME="dialog_vkme",e.STORY_VIEWER_FINISHED="story_viewer_finished",e.PUSH_TRY_MASK="push_try_mask",e.STORY_VIEWER_TRY_MASK="story_viewer_try_mask",e.LINK_MASK="link_mask",e.POSTING="posting",e.NEW_STORY_AVATAR="new_story_avatar",e.STORY_REPLIES_LIST="story_replies_list",e.STORIES_FEED="stories_feed",e.STORIES_SEARCH_NEWS="stories_search_news",e.QUESTION_STICKER="question_sticker",e.LIST_MIDDLE="list_middle",e.ARCHIVE_EMPTY_BUTTON="archive_empty_button",e.ARCHIVE_MENU_BUTTON="archive_menu_button",e.IM="im",e.PROFILE_BUTTON="profile_button",e.SHARE="share",e.MINI_APP="mini_app",e.SYSTEM_SHARING="system_sharing",e.SHORTCUT="shortcut",e.ARCHIVE_SHARING="archive_sharing",e.STORY_VIEWER_CAMERA_BUTTON="story_viewer_camera_button",e.STORY_VIEWER_MUSIC="story_viewer_music",e.STORY_VIEWER_MUSIC_SHEET="story_viewer_music_sheet",e.REPOST_TO_STORY_ACTIVITY="repost_to_story_activity",e.CHANGE_AVATAR="change_avatar"}(o||(o={})),function(e){e.FEED="feed",e.FEED_MIDDLE="feed_middle",e.LINK="link",e.PROFILE="profile",e.IM_DIALOGS="im_dialogs",e.IM_DIALOG_HEADER="im_dialog_header",e.SNIPPET="snippet",e.REPLY="reply",e.REPLIES_LIST="replies_list",e.REPLY_STORY="reply_story",e.DISCOVER="discover",e.STORIES_MANAGE="stories_manage",e.USER_PERSONAL_CARD="user_personal_card",e.GROUP_PERSONAL_CARD="group_personal_card",e.NARRATIVE_SNIPPET="narrative_snippet",e.NARRATIVE_STORY="narrative_story",e.NARRATIVE_LINK="narrative_link",e.NARRATIVE_RECOMMENDATIONS="narrative_recommendations",e.NARRATIVE_SECTION="narrative_section",e.FAVE="fave",e.SPAMFEED="sf",e.ADS_PREVIEW="ads_preview",e.LIST_MIDDLE="list_middle",e.PLACE_STORY_LIST="place_story_list",e.SEARCH_STORY_LIST="search_story_list",e.STORY_ARCHIVE="story_archive",e.IM_MSG_LIST="im_msg_list",e.NOSPAM="nospam",e.PROFILE_SNACKBAR="profile_snackbar"}(a||(a={})),function(e){e.stories="stories",e.communityGroupedStories="community_grouped_stories",e.appGroupedStories="app_grouped_stories",e.discover="discover"}(i||(i={})),function(e){e.feed="feed",e.groups="groups",e.apps="apps",e.discover="discover"}(s||(s={}))},7067:(e,t,n)=>{"use strict";n.d(t,{saveStats:()=>v});var r,o=n(655),a=n(6726),i=n(7607),s=n(2604),l=n(4561),u=n(2013),c=n(5004),d=1e4,_=0,p=function(){return _*d},h=function(){return!(Date.now()-(0,a.getLastSendTime)()>45e3+p())},m=function(){return r=void 0},f=function(){!0!==r&&(clearTimeout(r),r=window.setTimeout((function(){var e=(0,a.getWebStatDataLs)();m(),e.length>a.emptyStatsDataLs.length&&v(e)}),Math.max(d,(0,a.getLastSendTime)()+45e3-Date.now()+p())))};function v(e,t){var n=e.length>=s.MAX_BODY_SIZE,p=(null==t?void 0:t.force)||n;return!p&&(r||h()||e.length<=a.emptyStatsDataLs.length)?((0,i.logWebStatsEvent)("WebStats delayed.",r),f()):(r=!0,function(e,t){var n=function(t){return setTimeout((function(){return e()}),t)};return(null==t?void 0:t.force)?n(0):window.requestIdleCallback((function(){return n(d)}),{timeout:5e3})}((function(){var e=(0,a.getWebStatDataLs)();if(p||!0===r&&!h()&&e.length>a.emptyStatsDataLs.length)return(0,a.setLastSendTime)(),function(e){var t=window.vk.wsTransport+"/web-stats/"+(window.vk.statsMeta.st?"s":"p"),n=e.length>s.MAX_BODY_SIZE,r=n?(0,c.getMaximumWebStats)(e):e,o=!1;if(!r)return m(),(0,a.clearLsData)();var i=new XMLHttpRequest;i.withCredentials=t.includes("tau.vk.com"),i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE){var t=Date.now();i.status<500&&(n&&200===i.status?Object.keys((0,a.getEmptyStatsData)()).forEach((function(e){return(0,l.pullFromWebStats)(e,r)})):(0,a.clearLsData)(),_=0,o=!0),(n||400===i.status)&&(0,s.logProcessingTime)(Date.now()-t,(n?"prune":"clean")+(400===i.status?"-fail":""),(e.length>>>20)+"M "+(r.length>>>20)+"M"),m(),f()}},i.onerror=function(){return!o&&(0,a.clearLsData)()},i.open("POST",t,!0),i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),i.send((0,u.pruneRequestFromStuckErrors)((0,s.appendStatsMeta)(++_,r)))}(e);clearTimeout(Number(r)),m(),f()}),(0,o.__assign)((0,o.__assign)({},t),{force:p})))}},5004:(e,t,n)=>{"use strict";n.d(t,{getMaximumWebStats:()=>i});var r=n(655),o=n(6726),a=n(2604),i=function(e){var t=Date.now(),n=function(e){return"{"+(null==e?void 0:e.map((function(e){var t=(0,r.__read)(e,2);return'"'+t[0]+'":'+t[1]})).join(","))+"}"},i=(0,r.__read)(Object.keys((0,o.getEmptyStatsData)()).reduce((function(t,n){var a=(0,o.getWebStatsStringValue)(n,e);return"[]"===a?t:(0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(t)),[[n,a]])}),[]).sort((function(e,t){var n=(0,r.__read)(e,2)[1];return(0,r.__read)(t,2)[1].length-n.length})).reduce((function(e,t){var o=(0,r.__read)(e,2),i=o[0],s=o[1],l=(0,r.__read)(t,2),u=l[0],c=l[1],d=[[u,c]];return c.length+n(i).length<a.MAX_BODY_SIZE?[i.concat(d),s]:[i,s.concat(d)]}),[[],[]]),2),s=i[0],l=i[1],u=n(s);if((0,a.logProcessingTime)(Date.now()-t,"chunk"),Date.now()-t<500&&l[0]&&u.length<.1*a.MAX_BODY_SIZE){var c=Date.now();try{var d=function(e,t){var n=(0,r.__read)(t,2),o=n[0],i=n[1],s='{"'+o+'":['+JSON.parse(i).reduce((function(t,n,r){return t.length<a.MAX_BODY_SIZE-e.length?t+(0===r?"":",")+JSON.stringify(n):t}),"")+"]}";return"{}"===e?s:(0,a.concatJSONS)(e,s)||e}(u,l.reverse()[0]);return(0,a.logProcessingTime)(Date.now()-c,"batch"),d}catch(e){return(0,a.logProcessingTime)(Date.now()-c,"batch-fail"),""}}return u}},4961:(e,t,n)=>{"use strict";n.d(t,{saveJsErrorLogs:()=>r.saveJsErrorLogs,saveStatlogEvents:()=>r.saveStatlogEvents,saveProductionStats:()=>r.saveProductionStats});var r=n(4561)},2604:(e,t,n)=>{"use strict";n.d(t,{MAX_BODY_SIZE:()=>i,concatJSONS:()=>l,appendStatsMeta:()=>u,makeWebStatsRequest:()=>c,logProcessingTime:()=>d});var r=n(655),o=n(6900),a=n(2013),i=1.8*Math.pow(10,6),s=function(e){return e.startsWith("{")&&e.endsWith("}")},l=function(e,t){return[e,t].every(s)?e.slice(0,-1)+","+t.substring(1):"{}"},u=function(e,t){var n=window.vk,o=n.id,a=n.statsMeta,i=a.st,u=a.platform,c=(0,r.__rest)(a,["st","platform"]);return l(JSON.stringify({id:o,st:i,platform:u,attempt:e,signTime:c.time,sign:c.hash}),s(t)?t:"{}")},c=function(e,t){return e=e||window.vk.wsTransport+"/web-stats/"+(window.vk.statsMeta.st?"s":"p"),new Promise((function(n,r){var o=new XMLHttpRequest;o.open("POST",e),e.includes("tau.vk.com")&&(o.withCredentials=!0),o.onload=function(){return this.status>=200&&this.status<300?n(o.response):r({status:this.status,statusText:o.statusText})},o.onerror=function(){return r({status:this.status,statusText:o.statusText})},o.setRequestHeader("Content-Type","application/json;charset=UTF-8"),o.send((0,a.pruneRequestFromStuckErrors)("string"==typeof t?t:JSON.stringify(t)))}))};function d(e,t,n){(0,o.statlogsValueEvent)("web_stats_batching_time",e,window.vk.statsMeta.platform,t,n)}},4561:(e,t,n)=>{"use strict";n.d(t,{pullFromWebStats:()=>c,saveJsErrorLogs:()=>_,saveStatlogEvents:()=>p,saveProductionStats:()=>h});var r=n(655),o=n(6726),a=n(2135),i=n(7607),s=n(6353),l=n(7067),u=n(302),c=function(e,t){var n=(0,o.getWebStatsStringValue)(e,t);if("[]"!==n){var r=(0,o.getWebStatDataLs)().replace(n.slice(1,-1),"").replace(/\[\,/,"[");(0,o.writeLocked)((function(){return u.vkLocalStorage.setItem(o.lsDataKey,r)}))}},d=function(e,t,n,r){if((0,s.partConfigEnabled)("batchify_web_stats")){var c=function(e,t){var n=(0,o.getWebStatsStringValue)(e);return(0,o.getWebStatDataLs)().replace('"'+e+'":'+n,'"'+e+'":'+n.replace(/]$/,("[]"===n?"":",")+JSON.stringify(t)+"]"))}(t,n);(0,o.writeLocked)((function(){return u.vkLocalStorage.setItem(o.lsDataKey,c)})),(0,l.saveStats)(c,r)}else(0,o.writeLocked)((function(){var e=(0,o.fetchDataFromLs)().webStatsData;e[t].push(n),(0,a.saveStats)(e)}));(0,i.logWebStatsEvent)(e,n)},_=function(e){return d("saveJsErrorLogs","jsErrorLogs",e)},p=function(e){var t=e.name,n=e.value,o=e.keys,a=(0,r.__spreadArray)([Math.round(Number(Date.now())/1e3),t,n],(0,r.__read)(o));return(0,s.partConfigEnabled)("web_stats_transport_debugger")&&console.log("Data was transformed!"),d("saveStatlogEvents","statlogEvents",a)},h=function(e,t){return d("saveProductionStats","productionStats",e,t)}},7607:(e,t,n)=>{"use strict";n.d(t,{logWebStatsEvent:()=>o});var r=n(6353);function o(e,t){(0,r.partConfigEnabled)("web_stats_transport_debugger")&&console.log("[new transport debug] "+e,t)}},6726:(e,t,n)=>{"use strict";n.d(t,{lsDataKey:()=>i,getEmptyStatsData:()=>u,emptyStatsDataLs:()=>c,writeLocked:()=>d,getWebStatDataLs:()=>_,serializeDataToLs:()=>p,getWebStatsStringValue:()=>h,fetchDataFromLs:()=>m,clearLsData:()=>f,setLastSendTime:()=>v,getLastSendTime:()=>g,getWebStatsItemsCount:()=>y});var r=n(302),o=n(7607),a=(0,n(6557).isMvk)()?"mvk":"web",i="XHR_STATS_TRANSPORT_DATA_"+a,s="XHR_STATS_TRANSPORT_META_"+a,l="XHR_STATS_TRANSPORT_DATA_LOCK_"+a,u=function(){return{jsErrorLogs:[],statlogEvents:[],productionStats:[],storyViewStats:[],networkStats:[],customStats:[],webPerfStats:[]}},c=JSON.stringify(u());function d(e){if("locked"!==r.vkSessionStorage.getItem(l)){(0,o.logWebStatsEvent)("writeLocked","lock"),r.vkSessionStorage.setItem(l,"locked");try{e()}catch(e){}return(0,o.logWebStatsEvent)("writeLocked","free"),void r.vkSessionStorage.setItem(l,"free")}setTimeout((function(){return d(e)}),100)}var _=function(){return r.vkLocalStorage.getItem(i)||c},p=function(e){return r.vkLocalStorage.setItem(i,JSON.stringify(e))},h=function(e,t){var n;void 0===t&&(t=_());var r,o=Object.keys(u()).filter((function(t){return t!==e})).join("|"),a=(null===(n=null==t?void 0:t.match(new RegExp('"'+e+'":(\\[.*?\\])(?:,"('+o+')":\\[|}$)')))||void 0===n?void 0:n[1])||"";return(r=a).startsWith("[")&&r.endsWith("]")?a:"[]"};function m(){var e,t=!0;try{var n=_();if(!n)throw new Error("empty data");e=u();var r=JSON.parse(n);Object.keys(e).forEach((function(n){Array.isArray(r[n])&&(t=!1,e[n]=r[n])}))}catch(t){e=u()}return{webStatsData:e,isEmpty:t}}function f(e){e&&(0,o.logWebStatsEvent)("WebStats cleared. "+(e?"Reason: LS is broken.":""),e),d((function(){return r.vkLocalStorage.setItem(i,"")}))}function v(e){void 0===e&&(e=Number(new Date)),r.vkSessionStorage.setItem(s,e.toString())}function g(){return parseInt(""+(r.vkSessionStorage.getItem(s)||0))}function y(e){return Object.values(e).reduce((function(e,t){return e+=t.length}),0)}},2135:(e,t,n)=>{"use strict";n.d(t,{saveStats:()=>p});var r,o=n(655),a=n(6726),i=n(7607),s=n(6353),l=n(2604),u=6e4,c=12e4,d=1;function _(e){return!!(0,s.partConfigEnabled)("web_stats_send_on_events_limit")&&(1===d&&(0,a.getWebStatsItemsCount)(e)>300)}function p(e){var t=+new Date,n=(0,a.getLastSendTime)();0===n&&(n=t,(0,a.setLastSendTime)(n));var o,l=t-n,d=l/1e3,p=_(e);(0,i.logWebStatsEvent)("saveStats",{nowMs:t,lastTransferTimeMs:n,timePassed:d+"s",statsData:e}),(0,s.partConfigEnabled)("web_stats_debounce")?((0,a.serializeDataToLs)(e),o=function(e,t){return t?0:0===e||e>u?3e3:c}(l,p),window.clearTimeout(r),r=window.setTimeout((function(){return(0,a.writeLocked)((function(){var e=(0,a.fetchDataFromLs)().webStatsData,t=+new Date;m(e),(0,a.clearLsData)(),(0,a.setLastSendTime)(t)}))}),o)):l>u||p?(m(e),(0,a.clearLsData)(),(0,a.setLastSendTime)(t)):((0,a.serializeDataToLs)(e),window.setTimeout(h,c))}function h(){(0,a.writeLocked)((function(){var e=(0,a.fetchDataFromLs)(),t=e.webStatsData;e.isEmpty||p(t)}))}function m(e){(0,i.logWebStatsEvent)("send",e);var t=window.vk,n=t.id,r=t.wsTransport,s=t.statsMeta,u=r+(window.vk&&window.vk.statsMeta&&window.vk.statsMeta.st?"/web-stats/s":"/web-stats/p"),c=(0,o.__assign)((0,o.__assign)({},e),{id:n,st:s.st,platform:s.platform,signTime:s.time,sign:s.hash,attempt:d});(0,l.makeWebStatsRequest)(u,c).then((function(e){(0,i.logWebStatsEvent)("sendStats success",e),d=1})).catch((function(t){return d++,(0,a.writeLocked)((function(){(0,i.logWebStatsEvent)("sendStats try",d),p(e)})),(0,i.logWebStatsEvent)("sendStats error",t),!0})),(0,a.setLastSendTime)(+new Date)}},8553:(e,t,n)=>{"use strict";n.d(t,{ActionStatCollector:()=>a});var r=n(655),o=n(6471),a=function(){function e(e){this.productionStatCollector=e}return e.prototype.logEvent=function(e,t){var n,a=(0,r.__assign)((0,r.__assign)({},this.productionStatCollector.getBaseEvent()),((n={type:o.ProductionStatEventTypes.TYPE_ACTION})[o.ProductionStatEventTypes.TYPE_ACTION]=e,n));this.productionStatCollector.logEvent(a,t)},e}()},8770:(e,t,n)=>{"use strict";n.d(t,{BridgeEventStatsCollector:()=>a});var r=n(6471),o=n(6238),a=function(){function e(){this.productStatCollector=new o.ProductionStatCollector,this.actionStatCollector=new o.ActionStatCollector(this.productStatCollector)}return e.prototype.logEvent=function(e,t,n,o){var a,i={webview_url:e,mini_app_id:t,event:n,error:o},s=((a={type:r.ActionProductionStatEventTypes.TYPE_BRIDGE_EVENT_ITEM})[r.ActionProductionStatEventTypes.TYPE_BRIDGE_EVENT_ITEM]=i,a);this.actionStatCollector.logEvent(s)},e}()},2901:(e,t,n)=>{"use strict";n.d(t,{EasterEggsItemStatCollector:()=>a});var r=n(6471),o=n(6238),a=function(){function e(){this.productStatCollector=new o.ProductionStatCollector,this.actionStatCollector=new o.ActionStatCollector(this.productStatCollector)}return e.prototype.logEvent=function(e,t,n,o){var a,i={egg_id:e,egg_event_id:t,position_id:n,event_type:o},s=((a={type:r.ActionProductionStatEventTypes.TYPE_EASTER_EGGS_ITEM})[r.ActionProductionStatEventTypes.TYPE_EASTER_EGGS_ITEM]=i,a);this.actionStatCollector.logEvent(s)},e}()},5441:(e,t,n)=>{"use strict";n.d(t,{MarketingTransitionItemStatCollector:()=>i});var r=n(6471),o=n(6238),a=n(7813),i=function(){function e(){this.productStatCollector=new o.ProductionStatCollector,this.actionStatCollector=new o.ActionStatCollector(this.productStatCollector)}return e.prototype.logEvent=function(e,t,n,o){var i;void 0===o&&(o="");var s={campaign:e,source:n,event:t,unauth_id:(0,a.getCookie)("remixstid")};o&&(s.url=o);var l=((i={type:r.ActionProductionStatEventTypes.TYPE_MARKETING_TRANSITION_ITEM})[r.ActionProductionStatEventTypes.TYPE_MARKETING_TRANSITION_ITEM]=s,i);this.actionStatCollector.logEvent(l)},e}()},7532:(e,t,n)=>{"use strict";n.d(t,{VkConnectNavigationCollector:()=>i});var r=n(655),o=n(6471),a=n(6238),i=function(){function e(){this.lastNavEventId=0,this.productionStatCollector=new a.ProductionStatCollector}return e.prototype.logEvent=function(e,t){var n,a,i=this.productionStatCollector.getBaseEvent(),s=(0,r.__assign)((0,r.__assign)({},i),((n={screen:"main",prev_nav_id:this.lastNavEventId,prev_event_id:i.prev_id||0,type:o.ProductionStatEventTypes.TYPE_ACTION})[o.ProductionStatEventTypes.TYPE_ACTION]=((a={type:o.ActionProductionStatEventTypes.TYPE_VK_CONNECT_NAVIGATION_ITEM})[o.ActionProductionStatEventTypes.TYPE_VK_CONNECT_NAVIGATION_ITEM]=e,a),n));this.lastNavEventId=s.id,this.productionStatCollector.logEvent(s,t)},e.prototype.logServiceNavigationOpen=function(){this.logEvent({event_type:o.IVkConnectNavigationItemEventType.SERVICE_NAVIGATION_OPEN})},e.prototype.logServiceNavigationClose=function(){this.logEvent({event_type:o.IVkConnectNavigationItemEventType.SERVICE_NAVIGATION_CLOSE})},e.prototype.logServiceNavigationClick=function(e,t){this.logEvent({event_type:o.IVkConnectNavigationItemEventType.SERVICE_NAVIGATION_CLICK,fields:[{name:e,str_value:t}]})},e.prototype.logAccountActionsOpen=function(){this.logEvent({event_type:o.IVkConnectNavigationItemEventType.POPUP_OPEN})},e.prototype.logAccountActionsClose=function(){this.logEvent({event_type:o.IVkConnectNavigationItemEventType.POPUP_CLOSE})},e.prototype.logAccountActionsEnterLk=function(e){void 0===e&&(e="account_actions"),this.logEvent({event_type:o.IVkConnectNavigationItemEventType.CLICK_ENTER_LK,flow_service:e})},e.prototype.logAccountActionsVkPay=function(e){void 0===e&&(e="account_actions"),this.logEvent({event_type:o.IVkConnectNavigationItemEventType.CLICK_VK_PAY,flow_service:e})},e.prototype.logAccountActionsVkCombo=function(e){void 0===e&&(e="account_actions"),this.logEvent({event_type:o.IVkConnectNavigationItemEventType.CLICK_VK_COMBO,flow_service:e})},e}()},3488:(e,t,n)=>{"use strict";n.d(t,{ClickStatCollector:()=>a});var r=n(655),o=n(6471),a=function(){function e(e){this.productionStatCollector=e}return e.prototype.logEvent=function(e,t){var n,a=(0,r.__assign)((0,r.__assign)({},this.productionStatCollector.getBaseEvent()),((n={type:o.ProductionStatEventTypes.TYPE_CLICK})[o.ProductionStatEventTypes.TYPE_CLICK]=(0,r.__assign)({item:t},e),n));this.productionStatCollector.logEvent(a)},e}()},9886:(e,t,n)=>{"use strict";n.d(t,{VkAppsActionMenuStatsCollector:()=>a});var r=n(6471),o=n(6238),a=function(){function e(){this.productStatCollector=new o.ProductionStatCollector,this.clickStatCollector=new o.ClickStatCollector(this.productStatCollector)}return e.prototype.logEvent=function(e,t,n){var o,a={type:n},i=((o={type:r.ClickProductionStatEventTypes.TYPE_MINI_APP_ITEM})[r.ClickProductionStatEventTypes.TYPE_MINI_APP_ITEM]=a,o),s={type:t,id:e};this.clickStatCollector.logEvent(i,s)},e}()},6238:(e,t,n)=>{"use strict";n.d(t,{ProductionStatCollector:()=>u.ProductionStatCollector,ActionStatCollector:()=>c.ActionStatCollector,ClickStatCollector:()=>d.ClickStatCollector,ViewStatCollector:()=>_.ViewStatCollector,RegistrationItemStatCollector:()=>p.RegistrationItemStatCollector,RegistrationFieldItemNames:()=>h.RegistrationFieldItemNames,RegistrationItemEventTypes:()=>h.RegistrationItemEventTypes,EventScreens:()=>h.EventScreens,EventFieldValues:()=>h.EventFieldValues,marketingTransitionItemStat:()=>m,vkConnectNavigationCollector:()=>f});var r=n(5441),o=n(8770),a=n(2901),i=n(9886),s=n(8927),l=n(7532),u=(n(203),n(7509)),c=n(8553),d=n(3488),_=n(1168),p=n(3130),h=n(6471),m=new r.MarketingTransitionItemStatCollector,f=(new a.EasterEggsItemStatCollector,new o.BridgeEventStatsCollector,new i.VkAppsActionMenuStatsCollector,new s.MiniAppsEventStatsCollector,new l.VkConnectNavigationCollector)},203:(e,t,n)=>{"use strict";var r=n(655),o=n(6471),a=n(1386),i=n(6353);!function(){function e(e){this.ProductionStatCollector=e,this.tabId=this.ProductionStatCollector.getIntId()%128}e.prototype.logEvent=function(e){var t,n=(0,r.__assign)((0,r.__assign)({},this.ProductionStatCollector.getBaseEvent()),((t={type:o.ProductionStatEventTypes.TYPE_NAVGO})[o.ProductionStatEventTypes.TYPE_NAVGO]=e,t));return this.ProductionStatCollector.logEvent(n),{statEvent:n}},e.prototype.getEventTabOpen=function(e){return{subtype:o.NavigationProductionStatEventTypes.TAB_OPEN,tab_id:this.tabId,screen:e}},e.prototype.getEventMove=function(e,t){var n,r,i=this.lastStatEvents,s=this.lastNavEvents;return i&&s?(s.subtype===o.NavigationProductionStatEventTypes.TAB_OPEN?n=s.screen:(n=s.screen_to,r=s.screen),{prev_navgo_id:i.id,subtype:t,screen:n,screen_to:e,screen_prev:r,prev_navgo_timestamp:i.timestamp,tab_id:this.tabId}):((0,a.logError)(new Error("NavigationStatCollector: previous event not found.")),null)},e.prototype.addStatEvent=function(e,t){if(void 0===t&&(t=o.NavigationProductionStatEventTypes.GO),(0,i.partConfigEnabled)("navigation_timespent")){var n;if(t===o.NavigationProductionStatEventTypes.TAB_OPEN)n=this.getEventTabOpen(e);else{var r=this.getEventMove(e,t);if(!r)return;n=r}var a=this.logEvent(n).statEvent;this.lastStatEvents=a,this.lastNavEvents=n}},e.prototype.getModule=function(){var e,t;return null!==(t=null===(e=window.cur)||void 0===e?void 0:e.module)&&void 0!==t?t:"unknown"}}()},7509:(e,t,n)=>{"use strict";n.d(t,{ProductionStatCollector:()=>i});var r=n(1386),o=n(8397),a=n(4961),i=function(){function e(){this.DEBUG=!1}return e.prototype.getCurrentTime=function(e){void 0===e&&(e=!0);var t=Date.now().toString(10);return e?t+"000":t},e.prototype.getIntId=function(){return Math.floor(Math.random()*e.MAX_INT32)},e.prototype.logEvent=function(e,t){this.DEBUG&&(0,o.log)(e),e.type&&e[e.type]?((0,a.saveProductionStats)(e,t),this.lastEvent=e):(0,r.logError)(new Error("ProductionStatCollector: invalid event."))},e.prototype.getLastEvent=function(){return this.lastEvent},e.prototype.getBaseEvent=function(){var e;return{id:this.getIntId(),prev_id:null===(e=this.lastEvent)||void 0===e?void 0:e.id,timestamp:this.getCurrentTime(),url:window.location.href}},e.MAX_INT32=2147483647,e}()},3130:(e,t,n)=>{"use strict";n.d(t,{RegistrationItemStatCollector:()=>s});var r=n(655),o=n(6471),a=n(6353),i=n(7813),s=function(){function e(e){this.actionStatCollector=e,this.fields={}}return e.prototype.logFieldInteraction=function(e,t,n){void 0===n&&(n=!1),[o.RegistrationFieldItemNames.PASSWORD,o.RegistrationFieldItemNames.SMS_CODE,o.RegistrationFieldItemNames.RULES_ACCEPT].includes(e)&&(t=t?"1":"0");var r=n?"0":this.actionStatCollector.productionStatCollector.getCurrentTime(!1),a=this.fields[e];a?(a.value=t,a.end_interaction_time=r):this.fields[e]={name:e,value:t,start_interaction_time:r,end_interaction_time:r}},e.prototype.getFieldInteractions=function(){return Object.values(this.fields)},e.prototype.resetFieldInteractions=function(){var e,t;try{for(var n=(0,r.__values)(Object.getOwnPropertyNames(this.fields)),o=n.next();!o.done;o=n.next()){var a=o.value;delete this.fields[a]}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},e.prototype.logEvent=function(e,t,n,r){var s;if((0,a.partConfigEnabled)("registration_item_stat")){var l={event_type:e,screen:t,unauth_id:(0,i.getCookie)("remixstid"),sid:(0,i.getCookie)("remixnreg_sid")};[o.RegistrationItemEventTypes.SCREEN_PROCEED,o.RegistrationItemEventTypes.SCREEN_SKIP,o.RegistrationItemEventTypes.SCREEN_RETURN,o.RegistrationItemEventTypes.INCORRECT_SMS_CODE].includes(e)&&(l.screen_to=n,l.fields=this.getFieldInteractions(),this.resetFieldInteractions()),e!==o.RegistrationItemEventTypes.SELECT_COUNTRY_DONE&&e!==o.RegistrationItemEventTypes.PROCEED_OTHER_COUNTRY_CODE||!this.fields[o.RegistrationFieldItemNames.SELECT_COUNTRY_NAME]||(l.fields=this.getFieldInteractions().filter((function(e){return e.name===o.RegistrationFieldItemNames.SELECT_COUNTRY_NAME})),delete this.fields[o.RegistrationFieldItemNames.SELECT_COUNTRY_NAME]);var u=((s={type:o.ActionProductionStatEventTypes.TYPE_REGISTRATION_ITEM})[o.ActionProductionStatEventTypes.TYPE_REGISTRATION_ITEM]=l,s);this.actionStatCollector.logEvent(u,r)}},e}()},6471:(e,t,n)=>{"use strict";var r,o,a,i,s,l,u,c,d,_,p,h,m,f,v,g,y,w,b,E,C,D,k,P,x;n.d(t,{EventScreens:()=>r,EventFieldValues:()=>o,ProductionStatEventTypes:()=>a,NavigationProductionStatEventTypes:()=>i,ActionProductionStatEventTypes:()=>l,ClickProductionStatEventTypes:()=>u,ViewProductionStatEventTypes:()=>c,RegistrationItemEventTypes:()=>v,RegistrationFieldItemNames:()=>g,MarketingTransitionItemCampaignType:()=>y,MarketingTransitionItemEventType:()=>w,IVkConnectNavigationItemEventType:()=>x}),function(e){e.NOWHERE="nowhere",e.OTHER="other",e.START="start",e.START_BOX="start_box",e.START_PROCEED_AS="start_proceed_as",e.REGISTRATION_COMPLETE="registration_complete",e.REGISTRATION_COUNTRY="registration_country",e.REGISTRATION_PHONE="registration_phone",e.REGISTRATION_PHONE_VERIFY="registration_phone_verify",e.REGISTRATION_PASSWORD="registration_password",e.REGISTRATION_EDUCATION="registration_education",e.REGISTRATION_EMAIL="registration_email",e.REGISTRATION_NAME="registration_name",e.REGISTRATION_INVITE_CONFIRM="registration_invite_confirm",e.REGISTRATION_LIST_FRIENDS_FACEBOOK="registration_list_friends_facebook",e.PHONE_2FA_VERIFY="phone_2fa_verify",e.OAUTH_FB="oauth_fb"}(r||(r={})),function(e){e.REGISTERED_VIA_FB="1"}(o||(o={})),function(e){e.TYPE_NAVGO="type_navgo",e.TYPE_ACTION="type_action",e.TYPE_CLICK="type_click",e.TYPE_VIEW="type_view"}(a||(a={})),function(e){e.GO="go",e.BACK="back",e.TAB_OPEN="tab_open"}(i||(i={})),function(e){e.TYPE_DONUT_DESCRIPTION_NAV_ITEM="type_donut_description_nav_item",e.TYPE_MARKET_NAVGO="type_market_navgo",e.TYPE_YOULA_SNIPPET_NAVGO="type_youla_snippet_navgo"}(i||(i={})),function(e){e.TYPE_YOULA_SNIPPET_ITEM="type_youla_snippet_item"}(s||(s={})),function(e){e.TYPE_REGISTRATION_ITEM="type_registration_item",e.TYPE_MARKETING_TRANSITION_ITEM="type_marketing_transition_item",e.TYPE_DONUT_PAYMENT_ITEM="type_donut_payment_item",e.TYPE_CALL_ITEM="type_voip_call_item",e.TYPE_BRIDGE_EVENT_ITEM="type_bridge_event_item",e.TYPE_EASTER_EGGS_ITEM="type_easter_eggs_item",e.TYPE_CUSTOM_METRICS_ITEM="type_ab_custom_metrics_item",e.TYPE_MESSAGING_ACTION_ITEM="type_messaging_action_item",e.TYPE_MESSAGING_CONTACT_RECOMMENDATIONS_ITEM="type_messaging_contact_recommendations_item",e.TYPE_VK_CONNECT_NAVIGATION_ITEM="type_vk_connect_navigation_item"}(l||(l={})),function(e){e.TYPE_MARKET_CLICK="type_market_click",e.TYPE_WORKI_CLICK="type_worki_click",e.TYPE_CATALOG_BANNER_ITEM="type_catalog_banner_item",e.TYPE_MINI_APP_ITEM="type_mini_app_item",e.TYPE_MESSAGING_CONTACT_RECOMMENDATIONS_ITEM="type_messaging_contact_recommendations_item"}(u||(u={})),function(e){e.TYPE_CATALOG_BANNER_ITEM="type_catalog_banner_item",e.TYPE_MARKET_VIEW="type_market_view",e.TYPE_MINI_APPS_VIEW_ITEM="type_mini_app_view_item"}(c||(c={})),function(e){e.MARKETPLACE="marketplace",e.MARKETPLACE_BLOCK="marketplace_block",e.MARKETPLACE_SEARCH="marketplace_search"}(d||(d={})),function(e){e.TYPE_MARKET_ORDERS_ITEM="type_market_orders_item",e.TYPE_MARKET_CARTS_ITEM="type_market_carts_item",e.TYPE_MARKET_GOODS_ITEM="type_market_item",e.TYPE_MARKET_MARKETPLACE_ITEM="type_market_marketplace_item"}(_||(_={})),function(e){e.TYPE_WORKI_SNIPPET_ITEM="type_worki_snippet_item"}(p||(p={})),function(e){e.CATALOG_PROMO_BANNER_VIEWED="catalog_promo_banner_viewed"}(h||(h={})),function(e){e.ARTICLE="article",e.GROUP="group",e.PHOTO="photo",e.POST="post",e.STORY="story",e.USER="user",e.BROWSER="browser",e.NARRATIVE="narrative",e.MINI_APP="mini_app",e.GAME="game",e.VIDEO="video",e.MARKET_ITEM="market_item",e.MARKET_ITEM_ALBUM="market_item_album",e.MARKET_ORDER="market_order",e.CATALOG_BANNER="catalog_banner",e.AUDIO_FULLSCREEN_BANNER="audio_fullscreen_banner",e.WORKI_SNIPPET="worki_snippet",e.MINI_APPS_CATALOG_BANNER_VIEWED="catalog_promo_banner_viewed",e.MINI_APPS_CATALOG_BANNER="catalog_promo_banner",e.TYPE_MESSAGING_CONTACT_RECOMMENDATIONS_ITEM="type_messaging_contact_recommendations_item"}(m||(m={})),function(e){e.SWITCH_ITEM_VARIANT_1="switch_item_variant_1",e.SWITCH_ITEM_VARIANT_2="switch_item_variant_2",e.OPEN_WIKI="open_wiki"}(f||(f={})),function(e){e.SCREEN_PROCEED="screen_proceed",e.SCREEN_SKIP="screen_skip",e.SCREEN_RETURN="screen_return",e.COMMON_SERVER_ERROR="common_server_error",e.RESEND_SMS_CODE="resend_sms_code",e.RESEND_SMS_CODE_FAILED="resend_sms_code_failed",e.INCORRECT_SMS_CODE="incorrect_sms_code",e.INCORRECT_PASSWORD="incorrect_password",e.INCORRECT_NAME="incorrect_name",e.INCORRECT_CAPTCHA="incorrect_captcha",e.INCORRECT_PHONE_NUMBER="incorrect_phone_number",e.INCORRECT_BDAY="incorrect_bday",e.INCORRECT_SEX="incorrect_sex",e.INCORRECT_EMAIL="incorrect_email",e.EXISTING_EMAIL="existing_email",e.INCORRECT_EDUCATION="incorrect_education",e.SUCCESS_2FA="success_2fa",e.LOGIN_TAP="login_tap",e.PASSWORD_TAP="passw_tap",e.START_REG_TAP="start_reg_tap",e.FIRST_COUNTRY="first_country",e.FIRST_EDUCATION="first_education",e.FIRST_EMAIL="first_email",e.FIRST_FRIEND_ASK="first_friend_ask",e.SELECT_COUNTRY="select_country",e.SELECT_COUNTRY_DONE="select_country_done",e.INPUT_NUMBER_INTERACTION="input_number_interaction",e.INPUT_CODE_INTERACTION="input_code_interaction",e.PROCEED_OTHER_COUNTRY_CODE="proceed_other_country_code"}(v||(v={})),function(e){e.PHONE_COUNTRY="phone_country",e.PHONE_NUMBER="phone_number",e.COUNTRY="country",e.CITY="city",e.EMAIL="email",e.UNIVERSITY="university",e.FACULTY="faculty",e.SCHOOL="school",e.CHAIR="chair",e.YEAR_FROM="year_from",e.YEAR_TO="year_to",e.CLASS="class",e.EDU_FORM="edu_form",e.EDU_STATUS="edu_status",e.GRADUATION="graduation",e.SPECIALIZATION="specialization",e.RULES_ACCEPT="rules_accept",e.SMS_CODE="sms_code",e.FIRST_NAME="first_name",e.LAST_NAME="last_name",e.SEX="sex",e.BDAY="bday",e.PASSWORD="password",e.FACEBOOK_REGISTRATION="facebook_registration",e.FRIEND_ASK="friend_ask",e.VERIFICATION_TYPE="verification_type",e.SELECT_COUNTRY_NAME="select_country_name"}(g||(g={})),function(e){e.UNAUTH_BOTTOM_BANNER="unauth_bottom_banner",e.UNAUTH_ACTION_BOX="unauth_action_box"}(y||(y={})),function(e){e.OPEN="open",e.CLOSE="close",e.CLICK_SIGN_UP="click_sign_up",e.CLICK_SIGN_IN="click_sign_in",e.CLICK_OPEN_IN_APP="click_open_in_app"}(w||(w={})),function(e){e.LIKE="like",e.SHARE="share",e.MORE="more"}(b||(b={})),function(e){e.ACTION_MENU_SHARE="action_menu_share",e.ACTION_MENU_ADD_TO_FAVOURITES="action_menu_add_to_favourites",e.ACTION_MENU_REMOVE_FROM_FAVOURITES="action_menu_remove_from_favourites",e.ACTION_MENU_ENABLE_NOTIFICATIONS="action_menu_enable_notifications",e.ACTION_MENU_DISABLE_NOTIFICATIONS="action_menu_disable_notifications",e.ACTION_MENU_ALL_APPS="action_menu_all_apps",e.ACTION_MENU_ALL_GAMES="action_menu_all_games",e.ACTION_MENU_COPY="action_menu_copy",e.ACTION_MENU_DELETE="action_menu_delete"}(E||(E={})),function(e){e.CLICK_GAME_CARD="cloud_games_game_click",e.CLICK_DOWNLOAD_GAME="cloud_games_client_download",e.OPEN_SECTION="cloud_games_section_open"}(C||(C={})),function(e){e.SHOW="notifications_request_sent",e.CLOSE="notifications_request_close",e.TIMEOUT_CLOSE="notifications_request_timeout",e.SETTING_OPEN="notifications_request_settings_open"}(D||(D={})),function(e){e.EGG_SHOW="egg_show",e.POPUP_SHOW="popup_show",e.POPUP_ACTION="popup_action"}(k||(k={})),function(e){e.OPEN_MR="OPEN_MR"}(P||(P={})),function(e){e.CLICK_ENTER_LK="click_enter_lk",e.CLICK_VK_PAY="click_vk_pay",e.CLICK_VK_COMBO="click_vk_combo",e.POPUP_OPEN="popup_open",e.POPUP_CLOSE="popup_close",e.SERVICE_NAVIGATION_CLICK="service_navigation_click",e.SERVICE_NAVIGATION_OPEN="service_navigation_open",e.SERVICE_NAVIGATION_CLOSE="service_navigation_close"}(x||(x={}))},1168:(e,t,n)=>{"use strict";n.d(t,{ViewStatCollector:()=>a});var r=n(655),o=n(6471),a=function(){function e(e){this.productionStatCollector=e}return e.prototype.logEvent=function(e,t){var n,a=(0,r.__assign)((0,r.__assign)({},this.productionStatCollector.getBaseEvent()),((n={type:o.ProductionStatEventTypes.TYPE_VIEW})[o.ProductionStatEventTypes.TYPE_VIEW]=(0,r.__assign)({item:t},e),n));this.productionStatCollector.logEvent(a)},e}()},8927:(e,t,n)=>{"use strict";n.d(t,{MiniAppsEventStatsCollector:()=>i});var r=n(655),o=n(6471),a=n(6238),i=function(){function e(){this.productStatCollector=new a.ProductionStatCollector,this.viewStatCollector=new a.ViewStatCollector(this.productStatCollector)}return e.prototype.logEvent=function(e,t,n,a){var i;void 0===n&&(n=""),void 0===a&&(a="");var s=(0,r.__assign)((0,r.__assign)({},e),t),l=((i={type:o.ViewProductionStatEventTypes.TYPE_MINI_APPS_VIEW_ITEM})[o.ViewProductionStatEventTypes.TYPE_MINI_APPS_VIEW_ITEM]=s,i.start_view=n,i.end_view=a,i);this.viewStatCollector.logEvent(l,e)},e}()},576:(e,t,n)=>{"use strict";n.d(t,{UnauthorizedSourceType:()=>r});var r={PHOTO:"photo",VIDEO:"video",AUDIO:"audio",COMMENTS:"comments"}},5321:(e,t,n)=>{"use strict";n.d(t,{UploadPhoto:()=>r.UploadPhoto});var r=n(9286)},9592:(e,t,n)=>{"use strict";var r,o,a;n.d(t,{UploadPhotoErrorCodes:()=>r}),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.UPLOAD=1]="UPLOAD",e[e.NOT_ALLOWED_EXTENSION=2]="NOT_ALLOWED_EXTENSION",e[e.IMAGE_TOO_SMALL=3]="IMAGE_TOO_SMALL",e[e.IMAGE_TOO_BIG=4]="IMAGE_TOO_BIG",e[e.BAD_ASPECT_RATIO=5]="BAD_ASPECT_RATIO"}(r||(r={})),function(e){e.UPLOADED="uploaded",e.EXISTED="existed"}(o||(o={})),function(e){e[e.UPLOAD=1]="UPLOAD",e[e.SELECT=2]="SELECT",e[e.EDIT=3]="EDIT"}(a||(a={}))},9286:(e,t,n)=>{"use strict";n.d(t,{UploadPhoto:()=>i});var r=n(655),o=n(9592),a=n(3917),i=function(){function e(e,t){this.config=(0,r.__assign)({allowedTypes:["*"]},e),this.progressCallback=t}return e.prototype.validate=function(e){var t=this.config,n=t.constraints,i=t.allowedTypes,s=t.lang,l=!1;return i&&(l=i.some((function(t){return"*"===t||t===e.type}))),l?n?(0,a.getImageSizeByBlob)(e).then((function(e){var t=n.maxWidth,a=n.minWidth,i=n.maxHeight,l=n.minHeight,u=n.maxAspectRatio,c=n.minAspectRatio,d=(0,r.__read)(e,2),_=d[0],p=d[1],h=_/p;if(_>t||p>i){var m=(s["error_"+o.UploadPhotoErrorCodes.IMAGE_TOO_BIG]||"").replace("{width}",String(t)).replace("{height}",String(i));return Promise.reject({code:o.UploadPhotoErrorCodes.IMAGE_TOO_BIG,text:m})}if(_<a||p<l){m=(s["error_"+o.UploadPhotoErrorCodes.IMAGE_TOO_SMALL]||"").replace("{width}",String(a)).replace("{height}",String(l));return Promise.reject({code:o.UploadPhotoErrorCodes.IMAGE_TOO_SMALL,text:m})}return c&&c>h||u&&h>u?Promise.reject({code:o.UploadPhotoErrorCodes.BAD_ASPECT_RATIO,text:s["error_"+o.UploadPhotoErrorCodes.BAD_ASPECT_RATIO]}):Promise.resolve(null)})).catch((function(e){return e&&e.text&&e.code?Promise.reject(e):Promise.reject({code:o.UploadPhotoErrorCodes.UNKNOWN,text:s["error_"+o.UploadPhotoErrorCodes.UNKNOWN]})})):Promise.resolve(null):Promise.reject({code:o.UploadPhotoErrorCodes.NOT_ALLOWED_EXTENSION,text:s["error_"+o.UploadPhotoErrorCodes.NOT_ALLOWED_EXTENSION]})},e.prototype.upload=function(e,t,n){var r=this;return void 0===n&&(n="file1"),this.validate(e).then((function(){return new Promise((function(a,i){var s=new XMLHttpRequest,l=new FormData;l.append(n,e),s.open("POST",t||r.config.url,!0),s.onreadystatechange=function(){if(s.readyState===XMLHttpRequest.DONE&&200===s.status){var e=void 0;try{s.responseText&&(e=JSON.parse(s.responseText))}catch(e){i({code:o.UploadPhotoErrorCodes.UNKNOWN,text:r.config.lang["error_"+o.UploadPhotoErrorCodes.UNKNOWN]})}a(e)}},s.onerror=function(){i({code:o.UploadPhotoErrorCodes.UPLOAD,text:r.config.lang["error_"+o.UploadPhotoErrorCodes.UPLOAD]})},s.upload.onprogress=function(e){r.progressCallback&&r.progressCallback(e.loaded,e.total)},s.send(l)}))}))},e}()},3917:(e,t,n)=>{"use strict";function r(e){return t=URL.createObjectURL(e),new Promise((function(e,n){var r=new Image;r.onload=function(){var t=Number(r.height),n=Number(r.width);e([n,t])},r.onerror=function(){n()},r.onabort=function(){n()},r.src=t}));var t}n.d(t,{getImageSizeByBlob:()=>r})},1554:(e,t,n)=>{"use strict";n.d(t,{BoxModal:()=>s});var r=n(655),o=n(7294),a=n(1265),i=n(7692),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.appearance,r=e.title,s=e.actionButtons,l=e.onClose,u=e.children,c=e.hint,d=e.hasScroll;return o.createElement("div",{className:"BoxModal"},o.createElement("div",{className:(0,a.classNames)("Modal","Modal--"+n,t)},o.createElement(i.default.Header,{title:r,onClose:l}),Boolean(u)&&o.createElement(i.default.Body,{hasScroll:d},u),Boolean(s)&&o.createElement(i.default.Footer,{actionButtons:s,hint:c})))},t.defaultProps={appearance:"white",hasScroll:!0},t}(o.Component)},2365:(e,t,n)=>{"use strict";n.d(t,{updateArticleSnippetsFromQueueByPost:()=>i});var r=n(1386),o=n(7999),a=n(6353);function i(e){if(window.vk.id&&(0,a.partConfigEnabled)("update_private_snippets_by_queue")){var t=Array.from(e.querySelectorAll(".article_snippet"));if(t.length){var n=[];t.forEach((function(e){if(window.vk.id&&e.dataset.needUpdate){var t=e.dataset.articleRawId;t&&n.push({article_raw_id:t,post_raw_id:e.dataset.postId,is_mini_snippet:(0,o.intval)(e.dataset.isMiniSnippet)})}})),n.length&&window.ajax.post("al_articles.php",{act:"get_snippets",article_snippets:JSON.stringify(n)},{onDone:function(e){t.forEach((function(t){t.dataset.articleRawId&&e[t.dataset.articleRawId]&&(t.outerHTML=e[t.dataset.articleRawId])}))},onFail:function(){return(0,r.logError)(new Error("Fail: updateArticleSnippetsFromQueueByPost")),!0}})}}}},9369:(e,t,n)=>{"use strict";n.d(t,{RegistrationFieldItemNames:()=>r.RegistrationFieldItemNames,RegistrationItemEventTypes:()=>r.RegistrationItemEventTypes,EventScreens:()=>r.EventScreens,EventFieldValues:()=>r.EventFieldValues,registrationItemStat:()=>i});var r=n(6238),o=new r.ProductionStatCollector,a=new r.ActionStatCollector(o),i=new r.RegistrationItemStatCollector(a)},1265:(e,t,n)=>{"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=[];return e.forEach((function(e){if(e)switch(typeof e){case"string":n.push(e);break;case"object":Object.keys(e).forEach((function(t){e[t]&&n.push(t)}));break;default:n.push(""+e)}})),n.join(" ")}n.d(t,{classNames:()=>r})},3158:(e,t,n)=>{"use strict";n.d(t,{initVKComboIndexPromo:()=>a});var r=n(8533),o=n(4854);function a(){(0,r.tq)().setInteractiveHandler("IndexComboPromo/register",(function(e){var t=(e.payload.dataAttrs||{}).source;o.Unauthorized.showMoreBox(null,0,t)}))}},2419:(e,t,n)=>{"use strict";n.d(t,{initJoinForm:()=>p});var r=n(655),o=n(5456),a=n(4914),i=n(1260),s=n(3020),l=n(139),u=n(442),c=n(9369),d=n(3078),_="join_form_sex";function p(e,t){var n,p=t.from,h=t.bdateMonths,m=t.bdateYears,f=t.proceedAs,v=t.fbApp,g=t.fbState,y=t.fbLocale,w=t.ref,b=t.values,E=void 0===b?{}:b,C=t.onSignInClick,D=t.onNotNowClick,k=window.cur.options||{},P=k.bday||0,x=k.bmonth||0,T=k.byear||0;n="invite"===w?c.EventScreens.REGISTRATION_INVITE_CONFIRM:f?c.EventScreens.START_PROCEED_AS:"box"===w?c.EventScreens.START_BOX:c.EventScreens.START,window.cur.eventScreen=n,c.registrationItemStat.logEvent(c.RegistrationItemEventTypes.SCREEN_PROCEED,c.EventScreens.NOWHERE,n,{force:!0});var S,B,O,M=e.querySelector(".JoinForm__error"),L=e.querySelector('.JoinForm__textInput[name="first_name"]'),I=e.querySelector('.JoinForm__textInput[name="last_name"]'),A=e.querySelector(".JoinForm__birthdateDayInput"),N=e.querySelector(".JoinForm__birthdateMonthInput"),R=e.querySelector(".JoinForm__birthdateYearInput"),F=e.querySelector(".JoinForm__sex"),W=e.querySelectorAll(".JoinForm__sexRadio"),U=e.querySelector(".JoinForm__birthdate"),j=e.querySelector(".JoinForm__submitButton"),H=e.querySelector(".JoinForm__facebookLogin"),K=e.querySelector(".JoinForm__facebookLogin .FacebookLogin__button"),V=e.querySelector(".JoinForm__signIn"),z=e.querySelector(".JoinForm__notNowLink");if(L&&I&&j){var q=function(){if(!d.FlatButton.isLocked(j)){var e={fname:L.value.trim(),lname:I.value.trim(),bday:S.val(),bmonth:B.val(),byear:O.val(),from:p,frm:1,event_screen:n};(0,a.isVisible)(F)&&(e.sex=Number((0,o.radioval)(_))||0),window.tooltips&&window.tooltips.hideAll();var t=function(e,t){e&&t&&window.Index.showRegTT(e,t)};M&&(M.innerHTML=""),window.ajax.post("join.php?act=start",e,{onDone:function(e,n){switch(e){case"first_name":return t(L,n),void(0,o.notaBene)(L);case"last_name":return t(I,n),void(0,o.notaBene)(I);case"sex_row":return(0,a.show)(F),void t(F,n);case"birthdate_row":return void t(U,n)}n&&(0,l.showMsg)(M,n,"error",!0)},showProgress:function(){return d.FlatButton.lock(j)},hideProgress:function(){return d.FlatButton.unlock(j)}})}},G=function(){var e=Number(S.val())||0,t=Number(B.val())||0,n=Number(O.val())||0,r=new Date(0);e&&r.setDate(e),t&&r.setMonth(t),n&&r.setFullYear(n),c.registrationItemStat.logFieldInteraction(c.RegistrationFieldItemNames.BDAY,r.getTime().toString())},$=function(){var e=window.cur;e.isJoinFieldDirty||(c.registrationItemStat.logEvent(c.RegistrationItemEventTypes.START_REG_TAP,e.eventScreen,void 0,{force:!0}),e.isJoinFieldDirty=!0)};if(c.registrationItemStat.logFieldInteraction(c.RegistrationFieldItemNames.FIRST_NAME,L.value,!0),L.addEventListener("keyup",(function(){$(),c.registrationItemStat.logFieldInteraction(c.RegistrationFieldItemNames.FIRST_NAME,L.value)})),c.registrationItemStat.logFieldInteraction(c.RegistrationFieldItemNames.LAST_NAME,I.value,!0),I.addEventListener("keyup",(function(){$(),c.registrationItemStat.logFieldInteraction(c.RegistrationFieldItemNames.LAST_NAME,I.value)})),[L,I].forEach((function(e){(0,s.placeholderInit)(e),e.addEventListener("keydown",(function(e){10!==e.keyCode&&13!==e.keyCode||q()}))})),"index"!==w&&requestAnimationFrame((function(){return(0,a.elfocus)(L)})),c.registrationItemStat.logFieldInteraction(c.RegistrationFieldItemNames.BDAY,"",!0),S=new window.Dropdown(A,(0,u.generateDays)(T,x),{big_text:!0,multiselect:!1,zeroPlaceholder:!0,selectedItems:P,onChange:function(){$(),G()}}),B=new window.Dropdown(N,h,{big_text:!0,multiselect:!1,zeroPlaceholder:!0,selectedItems:x,onChange:function(e){$(),G(),(0,u.updateDayDropdown)(O.val(),e,S,P)}}),O=new window.Dropdown(R,m,{big_text:!0,multiselect:!1,zeroPlaceholder:!0,selectedItems:T,onChange:function(e){$(),G(),(0,u.updateDayDropdown)(e,B.val(),S,P)}}),window.radioBtns.join_form_sex={els:(0,r.__spreadArray)([],(0,r.__read)(W)),val:0},c.registrationItemStat.logFieldInteraction(c.RegistrationFieldItemNames.SEX,Number((0,o.radioval)(_)).toString(),!0),W.forEach((function(e){e.addEventListener("click",(function(){var t=Number(e.dataset.sex);(0,o.radiobtn)(e,t,_),$(),c.registrationItemStat.logFieldInteraction(c.RegistrationFieldItemNames.SEX,t.toString())}))})),void 0!==E.sex){var Y=E.sex,X=e.querySelector('.JoinForm__sexRadio[data-sex="'+Y+'"]');X&&X.click()}if(j.addEventListener("click",(function(e){e.preventDefault(),q()})),v){var Q=window.cur;Q.fbApp=v,Q.fbState=g,Q.fbLocale=y,window.Index.fbCheck(v,"",H)}null==K||K.addEventListener("click",(function(e){e.preventDefault(),window.Index.fbJoin("",K)})),V&&C&&V.addEventListener("click",C),z&&D&&z.addEventListener("click",D);var J=(0,i.curBox)();J&&J.setOptions({onClean:function(){S&&S.destroy(),B&&B.destroy(),O&&O.destroy()}}),window.stManager.add([window.jsc("web/tooltips.js"),"tooltips.css"]).catch((function(){}))}}},442:(e,t,n)=>{"use strict";n.d(t,{generateDays:()=>a,updateDayDropdown:()=>i});var r=n(9397),o=n(6886);function a(e,t){for(var n=[[0,(0,o.getLang)("index_sel_bday")]],a=(0,r.getLastDayOfMonth)(e,t),i=1;i<=a;++i)n.push([i,String(i)]);return n}function i(e,t,n,o){Number(n.val())>(0,r.getLastDayOfMonth)(e,t)&&n.clear(),n.setData(a(e,t).slice(Number(o)?1:0))}},1142:(e,t,n)=>{"use strict";function r(){return window.vk.loginDomain}n.d(t,{getLoginDomain:()=>r})},3246:(e,t,n)=>{"use strict";n.d(t,{createModule:()=>l,destroyModule:()=>u});var r=n(655),o=n(6018),a=n(7685);function i(e,t,n,r){(0,a.addEvent)(t,n,r),e._registeredHandlers.push({handlerType:"bind",elem:t,types:n,handler:r})}function s(e,t,n,r,a){(0,o.addDelegateEvent)(t,n,r,a),e._registeredHandlers.push({handlerType:"delegate",elem:t,types:n,selector:r,handler:a})}function l(e){var t={_registeredHandlers:[]};return e.handlers((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return i.apply(void 0,(0,r.__spreadArray)([t],(0,r.__read)(e)))}),(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return s.apply(void 0,(0,r.__spreadArray)([t],(0,r.__read)(e)))})),t}function u(e){e._registeredHandlers.forEach((function(e){var t=e.handlerType,n=e.elem,r=e.types,i=e.handler;"delegate"===t?(0,o.removeDelegateEvent)(n,r,e.selector,i):(0,a.removeEvent)(n,r,i)})),e._registeredHandlers=[]}},1437:(e,t,n)=>{"use strict";n.d(t,{getLang:()=>i,default:()=>s});var r=n(7557),o=n(6886),a={};function i(e,t,n){void 0===t&&(t=!1);var i="number"==typeof t,s=t||i,l=e+(s?".raw":"");if(void 0===a[l]){var u=s?(0,o.getLang)(e,"raw"):(0,o.getLang)(e);"string"==typeof u?a[l]=(0,r.decodeHTMLEntities)(u):Array.isArray(u)?a[l]=u.map(r.decodeHTMLEntities):a[l]="object"==typeof u&&null!==u?Object.keys(u).reduce((function(e,t){return e[t]=(0,r.decodeHTMLEntities)(u[t]),e}),{}):u}if(i){var c=t;return(0,o.langNumeric)(c,a[l],n)}return a[l]||""}const s={getLang:i}},1257:(e,t,n)=>{"use strict";n(3369),n(3075),n(1988),n(2699)},3767:(e,t,n)=>{"use strict";n.d(t,{parseLikeObjectId:()=>o,getElementLikeButtonCount:()=>a,getElementLikeButtonIcon:()=>i});var r=n(655);function o(e){var t=e.match(/^([a-z_]+)([0-9\-_]+)$/);if(!t)return null;var n=(0,r.__read)(t,3);return{objectType:n[1],objectId:n[2]}}var a=function(e){var t;return null!==(t=null==e?void 0:e.querySelector(".like_button_count, ._like_button_count"))&&void 0!==t?t:void 0},i=function(e){var t;return null!==(t=null==e?void 0:e.querySelector(".like_button_icon, ._like_button_icon"))&&void 0!==t?t:void 0}},8155:(e,t,n)=>{"use strict";n.d(t,{LikeButtonTypes:()=>r});var r={like:"like",share:"share",views:"views",comment:"comment"}},6905:(e,t,n)=>{"use strict";n.d(t,{LoginBoxForm:()=>s});var r=n(3020),o=n(5456),a=n(1563),i=n(3078),s=function(){function e(e){this.rootEl=e,this.init()}return e.prototype.init=function(){var e=this.rootEl,t=e.querySelector(".LoginBox__form");if(t){var n=e.querySelector(".LoginBox__formExpire"),s=e.querySelector(".LoginBox__buttonSignIn"),l=e.querySelector(".LoginBox__buttonSignUp"),u=e.querySelector('[name="email"]'),c=e.querySelector('[name="pass"]'),d=e.querySelector('[name="ul"]');s&&(u&&(0,r.placeholderInit)(u),c&&(0,r.placeholderInit)(c),null==n||n.addEventListener("click",(function(e){e.preventDefault(),(0,o.checkbox)(n)})),c&&c.addEventListener("input",(function(){t.classList.toggle("LoginBox--showExpire",c.value.trim().length>0)})),l&&(l.onclick=function(){return(0,a.showBox)("join.php",{act:"box",from:window.nav.strLoc}),!1}),t.onsubmit=function(){if(i.FlatButton.isLocked(s))return!1;var e=window.submitQuickLoginForm;if(!e)return!0;var t=u?u.value.trim():"",r=c?c.value.trim():"",a=Number((0,o.isChecked)(n));if(u&&!t)return(0,o.notaBene)(u),!1;if(!r)return(0,o.notaBene)(c),!1;var l={expire_input:a};return d&&d.value&&(l.ul=d.value),e(t,r,{prg:"login_button",params:l}),i.FlatButton.lock(s),!1},requestAnimationFrame((function(){var e;null===(e=u||c)||void 0===e||e.focus()})))}},e}()},2372:(e,t,n)=>{"use strict";n.d(t,{LoginRecentUsersGallery:()=>o});var r=n(655),o=function(){function e(e){this.containerEl=e,this.viewportEl=e.firstElementChild,this.layerEl=this.viewportEl.firstElementChild,this.initializeSlides()}return e.prototype.init=function(){this.setIndex(0)},e.prototype.initializeSlides=function(){var e;this.slides=(0,r.__spreadArray)([],(0,r.__read)(this.layerEl.children)).map((function(e,t){return{coordX:t*e.offsetWidth,width:e.offsetWidth,el:e}})),this.viewportEl.style.width=(null===(e=this.slides[0])||void 0===e?void 0:e.width)+"px";var t=this.containerEl.offsetWidth,n=this.viewportEl.offsetWidth;this.layerWidth=this.slides.reduce((function(e,t){return t.width+e}),0),this.min=n-(t-n)/2-this.layerWidth,this.max=0},e.prototype.validateIndent=function(e){var t=this.min,n=this.max;return e<t?t:e>n?n:e},e.prototype.calculateIndent=function(e){var t=this.slides,n=t.length?t[e]:null;if(n){var r=n.coordX;return this.validateIndent(-1*r)}return 0},e.prototype.render=function(){var e=this,t=this.calculateIndent(this.currentIndex);requestAnimationFrame((function(){e.layerEl.style.transform="translateX("+t+"px)"})),(0,r.__spreadArray)([],(0,r.__read)(this.layerEl.children)).forEach((function(t,n){t.classList.toggle("LoginRecentUsersGallery__slide--prev2",n===e.currentIndex-2),t.classList.toggle("LoginRecentUsersGallery__slide--active",n===e.currentIndex),t.classList.toggle("LoginRecentUsersGallery__slide--next2",n===e.currentIndex+2)}))},e.prototype.setRelativeIndex=function(e){this.currentIndex=Math.max(0,Math.min(this.currentIndex+e,this.slides.length-1)),this.onChange(this.currentIndex),this.render()},e.prototype.setIndex=function(e){this.currentIndex=Math.max(0,Math.min(e,this.slides.length-1)),this.onChange(this.currentIndex),this.render()},e}()},1183:(e,t,n)=>{"use strict";n.d(t,{MARKET_EVENT_COUNTER_SECTION_ID:()=>o,updateMarketMenuEventCounter:()=>a});var r=n(4914),o="page_menu_group_market";function a(e,t){var n=document.querySelector(e+" .ui_rmenu_count");n&&(n.innerHTML=String(t),t>0?(0,r.removeClass)(n,"unshown"):(0,r.addClass)(n,"unshown"))}},3170:(e,t,n)=>{"use strict";n.d(t,{highlightModule:()=>u});var r,o,a=n(2685),i=n(1229),s=n(7663),l=n(4914);function u(e){var t,n=document.getElementById(e.module);if(n&&n.classList.contains("module")){window.cur.__narrowBarForceNotFixed=!0;var u=e.speed?e.speed:300;(0,s.scrollToY)((0,l.getXY)(n)[1]-100,u);var c=function(){r&&(r.hideTT(),(0,s.enableBodyScroll)(),delete window.cur.__narrowBarForceNotFixed,(0,i.updateNarrow)(),e.onClose&&e.onClose())};(r=new a.default(n,e.text,{highlight:!0,width:250,offset:[0,-17],side:"bottom",withCloseButton:!0,onBGClick:c,onCloseButtonClick:c})).show(),(0,s.disableBodyScroll)(),e.autoCancelDelay&&(o=setTimeout((function(){c(),o=null}),e.autoCancelDelay),null===(t=window.cur.destroy)||void 0===t||t.push((function(){o&&clearTimeout(o)})))}}},3420:(e,t,n)=>{"use strict";n.d(t,{PROFILE_MEDIA_NARROW_BLOCK_ID:()=>r});var r="profile_media_narrow_block"},1700:(e,t,n)=>{"use strict";n.d(t,{SUPPORTED_OBJECT_TYPES:()=>r,REACTIONS_COUNTS_RESPONSE_FIELD:()=>o});var r={wall:"wall",wall_reply:"wall_reply"},o="reactions_counts"},8012:(e,t,n)=>{"use strict";n.d(t,{previewVisibilityUseCurrent:()=>r});n(7792);var r={kind:"useCurrent"}},7792:(e,t,n)=>{"use strict";n.d(t,{PreviewVariantActionBar:()=>r,PreviewVariantActionStatusBar:()=>o,PreviewVariantHidden:()=>a,PreviewVariants:()=>i});var r="action_bar",o="action_status_bar",a="hidden",i=[r,o,a]},3093:(e,t,n)=>{"use strict";n.d(t,{reactionsCountsUpdatePayload:()=>a,reactionsCountsOnlyUpdatePayload:()=>i});var r=n(655),o=n(7796),a=function(e,t){return(0,r.__assign)((0,r.__assign)({kind:o.PayloadKindFull},e),{reactionIdState:{reactionId:t.id}})},i=function(e){return(0,r.__assign)({kind:o.PayloadKindCountsOnly},e)}},7796:(e,t,n)=>{"use strict";n.d(t,{PayloadKindCountsOnly:()=>r,PayloadKindFull:()=>o});var r="counts_only",o="counts_with_current_reaction"},3393:(e,t,n)=>{"use strict";n.d(t,{triggerReactionsUpdate:()=>s});var r=n(3767),o=n(1700),a=n(155),i=n(3093),s=function(e,t,n,s){var l=(0,r.parseLikeObjectId)(e);l&&l.objectType===o.SUPPORTED_OBJECT_TYPES.wall&&l.objectId?(0,a.emitEvent)(a.WallDataEvents.post_reactions_counts_update,function(e,t,n,r){var o={counts:e,isFromWkLayer:null==t?void 0:t.isFromWkLayer,isPrimaryLikeButtonClick:null==t?void 0:t.isPrimaryLikeButtonClick,isQueueUpdate:null==t?void 0:t.isQueueUpdate,isUserAction:t.isUserAction,postFullId:n.objectId,previewVisibility:t.previewVisibility,reactionIdState:r?{reactionId:r.id}:void 0};return r?(0,i.reactionsCountsUpdatePayload)(o,r):(0,i.reactionsCountsOnlyUpdatePayload)(o)}(t,s,l,n)):l&&l.objectType===o.SUPPORTED_OBJECT_TYPES.wall_reply&&l.objectId?(0,a.emitEvent)(a.WallDataEvents.reply_reactions_counts_update,{counts:t,replyFullId:l.objectId,reactionIdState:n?{reactionId:n.id}:void 0}):console.warn("Unsupported reactions object update",e)}},2998:(e,t,n)=>{"use strict";n.d(t,{default:()=>u});var r=n(7999),o=n(7975),a=n(774),i=n(469),s=n(4418),l=n(2098);const u=function(){function e(){var e=this;this.destroy=function(){e.gallery&&e.gallery.destroy()},this.moduleEl=document.querySelector(".narratives_module"),this.isWide=this.moduleIsWide(this.moduleEl),this.initGallery(),this.needOnBoard()&&this.showOnboardTooltipIfNeeded(),window.cur.destroy&&window.cur.destroy.push((function(){e.destroy()}))}return e.prototype.initGallery=function(){if(this.isWide&&(this.galleryEl=document.querySelector(".NarrativeBlock"),this.galleryEl)){var e=this.galleryEl.querySelectorAll(".ui_gallery_item"),t={scrollY:!1};(!e||e.length<7)&&(t.scrollX=!1),this.gallery=new s.UIGallery(this.galleryEl,t)}},e.prototype.moduleIsWide=function(e){if(e){var t=e.getAttribute("data-is-wide");return!!(0,r.intval)(t)}return!1},e.prototype.getOnboardHash=function(){var e;return null===(e=this.moduleEl)||void 0===e?void 0:e.dataset.onboardHash},e.prototype.openNarrativeBox=function(){var e=this.getOwnerId(),t=e>0?i.NarrativeAnalyticNavScreen.profile:i.NarrativeAnalyticNavScreen.club;this.showBox(),(0,i.sendNarrativeAnalytic)(i.NarrativeAnalyticEventType.openNarrativeList,{ownerId:e},t)},e.prototype.seeMore=function(){var e=this.getOwnerId(),t=e>0?i.NarrativeAnalyticNavScreen.profile:i.NarrativeAnalyticNavScreen.club;this.showBox(),(0,i.sendNarrativeAnalytic)(i.NarrativeAnalyticEventType.seeMore,{ownerId:e},t)},e.prototype.showBox=function(){var e=this.getOwnerId(),t={ownerId:e,onSave:function(){return(0,a.updateNarrativeBlock)()},onRemove:function(){return(0,a.updateNarrativeBlock)()},onReorder:function(){return(0,a.updateNarrativeBlock)()},navScreen:e>0?i.NarrativeAnalyticNavScreen.profile:i.NarrativeAnalyticNavScreen.club};(0,o.showNarrativeBox)(t)},e.prototype.showNarrativeEditorBox=function(){var e=this.getOwnerId(),t=e>0?i.NarrativeAnalyticNavScreen.profile:i.NarrativeAnalyticNavScreen.club;if((0,i.sendNarrativeAnalytic)(i.NarrativeAnalyticEventType.createNarrative,{ownerId:e},t),e<0)window.nav.go(location.pathname+"?act=narrative_create");else{var n={onSave:function(){return(0,a.updateNarrativeBlock)()},navScreen:t};(0,o.showNarrativeEditorBox)(e,n)}},e.prototype.getOwnerId=function(){return(0,r.intval)(window.cur.oid)},e.prototype.showOnboardTooltipIfNeeded=function(){var e=this.getOnboardHash();e&&(window.cur.storyLayer&&l.hideAllLayers(!0),window.boxQueue.hideAll(),(0,a.highlightNarrativeBlock)(e))},e.prototype.needOnBoard=function(){return Boolean(window.cur.needNarrativeOnboard)},e}()},5206:(e,t,n)=>{"use strict";n.d(t,{InputWithPrefix:()=>s});var r=n(655),o=n(7294),a=n(1265),i=n(5456),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.inputRef=o.createRef(),t.componentRef=o.createRef(),t}return(0,r.__extends)(t,e),t.prototype.notaBene=function(){var e,t=null===(e=this.componentRef)||void 0===e?void 0:e.current;t&&(0,i.notaBene)(t)},t.prototype.focus=function(){var e,t;null===(t=null===(e=this.inputRef)||void 0===e?void 0:e.current)||void 0===t||t.focus()},t.prototype.render=function(){var e=this.props,t=e.className,n=e.prefix,i=(0,r.__rest)(e,["className","prefix"]);return o.createElement("div",{className:(0,a.classNames)("InputWithPrefix",t),ref:this.componentRef},o.createElement("div",{className:"InputWithPrefix__text"},n),o.createElement("input",(0,r.__assign)({className:"InputWithPrefix__input"},i,{ref:this.inputRef})))},t}(o.Component)},8909:(e,t,n)=>{"use strict";n.d(t,{NarrativeBox:()=>P});var r=n(655),o=n(7294),a=n(1554),i=n(1150),s=n(1437),l=n(8384),u=n(4344),c=n(6239),d=n(6325),_=n(3e3),p=n(8434),h=n(7975),m=n(1260),f=n(7999),v=n(6612),g=n(9739),y=n(9433),w=n(2232),b=n(5933),E=n(4956),C=n(1536),D=n(5653),k=n(469),P=function(e){function t(t){var n=e.call(this,t)||this;return n.getBoxActionButtons=function(){var e=n.props,t=e.onClose,r=e.boxData,a=e.type,l=[o.createElement(i.default,{key:"close",appearance:"primary",onClick:function(){return t()}},(0,s.getLang)("global_close"))];if(a===u.BoxType.edit&&r.userId===r.ownerId){var c=r.ownerDomain||"id"+r.userId;l.unshift(o.createElement(v.default,{key:"archive",href:c+"?w=stories",onClick:function(){t(),(0,y.showWiki)({w:"stories"})},className:"NarrativeBox__additionalFooterButton"},(0,s.getLang)("stories_archive")))}return l},n.onNarrativeClick=function(e,t){if(!e.ctrlKey&&!e.metaKey){e.preventDefault(),e.stopPropagation();var r=n.props.list?n.props.list:"narrative"+t.ownerId+"_"+t.id;(0,c.showNarrative)(t.ownerId,t.id,0,r,{trackCode:n.props.trackCode,source:n.props.source})}},n.onCreateNarrativeClick=function(){var e=n.props,t=e.boxData,r=e.navScreen,o=t.ownerId;if((0,k.sendNarrativeAnalytic)(k.NarrativeAnalyticEventType.createNarrative,{ownerId:o},r),o>0)n.openNarrativeEditorBox();else{var a=t.ownerDomain?t.ownerDomain:"club"+-o;window.open("https://"+location.hostname+"/"+a+"?act=narrative_create")}},n.openNarrativeEditorBox=function(e){var t=n.props,o=t.onSave,a=t.boxData,i=t.onClose,s=t.navScreen;if(o){var l=[];(null==e?void 0:e.stories.length)&&(l=(0,r.__spreadArray)([],(0,r.__read)(e.stories)));var u={narrative:e,selectedStories:l,publishHash:a.publishHash,onSave:function(e){o(e),i()},navScreen:s};(0,h.showNarrativeEditorBox)(a.ownerId,u)}},n.getNarrativeItemActions=function(e){var t=[];if(n.canEdit())t.push({text:(0,s.getLang)("global_edit"),onClick:function(){return n.editNarrative(e)}}),t.push({text:(0,s.getLang)("stories_share"),onClick:function(){return n.shareNarrative(e)}}),t.push({separator:!0}),t.push({text:(0,s.getLang)("global_delete"),onClick:function(){return n.removeNarrative(e)}});else{var r=e.isBookmarked?(0,s.getLang)("global_remove_from_bookmarks"):(0,s.getLang)("global_add_to_bookmarks");t.push({text:r,onClick:function(){return n.bookmarkNarrative(e)}}),t.push({text:(0,s.getLang)("stories_share"),onClick:function(){return n.shareNarrative(e)}})}return t},n.state={isLoad:!1,draggingNarrativeRawId:""},n.scrollContainerRef=o.createRef(),n.gridRef=o.createRef(),n.sentinelRef=o.createRef(),n}return(0,r.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.narratives,r=t.onClose,i=t.boxData,s=this.state,l=s.isLoad,u=s.draggingNarrativeRawId,c=n.length<i.count,_=this.canEdit();return o.createElement(a.BoxModal,{className:"NarrativeBox",title:this.getTitle(),actionButtons:this.getBoxActionButtons(),onClose:r,hasScroll:!1},o.createElement("div",{className:"NarrativeBox__scrollContainer",ref:this.scrollContainerRef},o.createElement("div",{className:"NarrativeBox__scrollInner"},o.createElement("div",{className:"NarrativeBox__list",ref:this.gridRef},_&&o.createElement(o.Fragment,null,o.createElement(d.NarrativeRowCreation,{key:"create",onClick:this.onCreateNarrativeClick}),n.map((function(t){return o.createElement(b.NarrativeRow,{className:E.BOX_ITEM_DRAGGABLE_CLASS,narrative:t,key:t.rawId,onClick:function(n){return e.onNarrativeClick(n,t)},aside:o.createElement("div",{className:"NarrativeBox__aside"},t.rawId===u&&o.createElement("div",{className:"NarrativeBox__action NarrativeBox__action--more"},o.createElement(C.default,null)),t.rawId!==u&&o.createElement(g.default,{position:"b",align:"center",trigger:"hover",data:e.getNarrativeItemActions(t)},o.createElement("div",{className:"NarrativeBox__action NarrativeBox__action--more"},o.createElement(C.default,null))),o.createElement("div",{className:"NarrativeBox__action NarrativeBox__action--burger"},o.createElement(D.default,null)))})}))),!_&&o.createElement(o.Fragment,null,n.map((function(t){return o.createElement(b.NarrativeRow,{narrative:t,key:t.rawId,onClick:function(n){return e.onNarrativeClick(n,t)},aside:o.createElement("div",{className:"NarrativeBox__aside"},o.createElement(g.default,{position:"b",align:"right",trigger:"hover",data:e.getNarrativeItemActions(t)},o.createElement("div",{className:"NarrativeBox__action NarrativeBox__action--more"},o.createElement(C.default,null))))})})))),l&&o.createElement("div",{className:"NarrativeBox__loader",key:"loader"},o.createElement(p.default,null)),c&&o.createElement("div",{className:"NarrativeBox__sentinel",ref:this.sentinelRef}))))},t.prototype.canEdit=function(){var e=this.props,t=e.type,n=e.onSave,r=e.onReorder,o=e.onRemove;return t===u.BoxType.edit&&Boolean(n)&&Boolean(r)&&Boolean(o)},t.prototype.componentDidMount=function(){this.initSorter(),this.observeNarrativeScrollIfNeeded()},t.prototype.componentWillUnmount=function(){this.deInitSorter(),this.unObserveNarrativeScrollIfNeeded()},t.prototype.editNarrative=function(e){var t=this.props.boxData;(0,k.sendNarrativeAnalytic)(k.NarrativeAnalyticEventType.clickToEditNarrative,e,this.props.navScreen),t.ownerId>0?this.openNarrativeEditorBox(e):window.open("https://"+location.hostname+location.pathname+"?act=narrative_edit&nid="+e.id)},t.prototype.shareNarrative=function(e){w.Likes.share("narrative"+e.rawId),(0,k.sendNarrativeAnalytic)(k.NarrativeAnalyticEventType.shareNarrative,e,this.props.navScreen)},t.prototype.bookmarkNarrative=function(e){var t=this.props.onBookmark;(0,y.bookmark)(e.ownerId,e.id,"narrative",e.bookmarkHash,e.isBookmarked),(0,k.sendNarrativeAnalytic)(k.NarrativeAnalyticEventType.addToBookmarks,e,this.props.navScreen),t(e)},t.prototype.removeNarrative=function(e){var t,n;null===(n=(t=this.props).onRemove)||void 0===n||n.call(t,e)},t.prototype.observeNarrativeScrollIfNeeded=function(){var e=this,t=this.props,n=t.narratives,r=t.boxData;if(n.length<r.count){var o=this.scrollContainerRef.current,a=this.sentinelRef.current;if(!a)return;this.observer=new IntersectionObserver((function(t){t.forEach((function(t){t.intersectionRatio>0&&e.loadViewers()}))}),{threshold:[0],root:o,rootMargin:"0px 0px 480px 0px"}),this.observer.observe(a)}},t.prototype.unObserveNarrativeScrollIfNeeded=function(){this.observer&&this.observer.disconnect()},t.prototype.loadViewers=function(){var e=this,t=this.props.loadMore;this.state.isLoad||(this.setState({isLoad:!0}),t().finally((function(){e.setState({isLoad:!1})})))},t.prototype.initSorter=function(){var e,t,n=this,r=this.props.boxData;if(this.canEdit()){var o=null===(e=this.scrollContainerRef)||void 0===e?void 0:e.current,a=null===(t=this.gridRef)||void 0===t?void 0:t.current;if(a&&o){var i={dragThreshold:0,wrapNode:o,onDragFinish:function(){n.setState({draggingNarrativeRawId:""})},onDragStart:function(e){var t=n.getNarrativeIdByEl(e);n.setState({draggingNarrativeRawId:r.ownerId+"_"+t})},onReorder:function(e){var t=n.getNarrativeIdByEl(e),r=Array.from(a.querySelectorAll("."+E.BOX_ITEM_DRAGGABLE_CLASS));if(1!==r.length){var o=0,i=0,s=r.findIndex((function(e){return n.getNarrativeIdByEl(e)===t}));r[s-1]&&(o=n.getNarrativeIdByEl(r[s-1])),r[s+1]&&(i=n.getNarrativeIdByEl(r[s+1])),n.saveReorder(t,i,o)}}};this.sorter=new _.default(a,"",i)}}},t.prototype.saveReorder=function(e,t,n){var r=this,o=this.props,a=o.boxData,i=o.onReorder;if(i){var l=a.ownerId;window.ajax.post("al_stories.php",{act:"narratives_reorder",narrative_id:e,before_narrative_id:t,after_narrative_id:n,hash:a.reorderHash,owner_id:l},{onDone:function(){var t,n=r.props.narratives,o=null===(t=r.gridRef)||void 0===t?void 0:t.current;if(o){var a=Array.from(o.querySelectorAll("."+E.BOX_ITEM_DRAGGABLE_CLASS)),s=[];a.forEach((function(e){var t=r.getNarrativeIdByEl(e),o=n.find((function(e){return e.id===t}));o&&s.push(o)})),(0,k.sendNarrativeAnalytic)(k.NarrativeAnalyticEventType.changeSort,{ownerId:l,id:e},r.props.navScreen),i(s)}},onFail:function(e){return(0,m.showDoneBox)(e||(0,s.getLang)("global_error")),!0}})}},t.prototype.getNarrativeIdByEl=function(e){return(0,f.intval)(e.getAttribute("data-id"))},t.prototype.getTitle=function(){var e=this.props,t=e.title,n=e.boxData,r=e.showNarrativeNumber;return o.createElement(l.NarrativeBoxTitle,{title:t||(0,s.getLang)("stories_narratives_title"),count:n.count,showNarrativeNumber:r})},t.prototype.deInitSorter=function(){this.sorter&&this.sorter.destroy()},t.defaultProps={type:u.BoxType.view,showNarrativeNumber:!0},t}(o.Component)},4344:(e,t,n)=>{"use strict";var r;n.d(t,{BoxType:()=>r}),function(e){e[e.view=0]="view",e[e.edit=1]="edit"}(r||(r={}))},8384:(e,t,n)=>{"use strict";n.d(t,{NarrativeBoxTitle:()=>o});var r=n(7294),o=function(e){var t=e.title,n=e.count,o=void 0===n?0:n,a=e.showNarrativeNumber,i=void 0===a||a;return r.createElement("div",{className:"NarrativeBoxTitle"},t,i&&o>0&&r.createElement("span",{className:"NarrativeBoxTitle__count"},o))}},5464:(e,t,n)=>{"use strict";n.d(t,{NarrativeChooseBox:()=>g});var r=n(655),o=n(7294),a=n(1554),i=n(1150),s=n(1437),l=n(3558),u=n(1265),c=n(8861),d=n(6325),_=n(5933),p=n(1260),h=n(7975),m=n(6239),f=n(9050),v=n(469),g=function(e){function t(t){var n=e.call(this,t)||this;return n.loadMore=function(){var e=n.props,t=e.loadMore,o=e.story,a=n.state.selectedNarrativeIds;return t().then((function(e){void 0===e&&(e=[]),n.setState({selectedNarrativeIds:(0,r.__assign)((0,r.__assign)({},a),n.getSelectedNarrativeIdsMap(o.id,e))})}))},n.onCheckboxClick=function(e){var t=n.state.selectedNarrativeIds,o=(0,r.__assign)({},t);o[e.id]?delete o[e.id]:o[e.id]=!0,n.setState({selectedNarrativeIds:o})},n.getBoxActionButtons=function(){var e=n.props,t=e.onClose,r=e.story,a=e.narratives,u=n.state,c=u.isLoad,d=u.selectedNarrativeIds,_=n.getSelectedNarrativeIdsMap(r.id,a),p=n.getDiffOperations(r.id,d,_);return[o.createElement(i.default,{key:"close",appearance:"tertiary",onClick:function(){return t()}},(0,s.getLang)("global_close")),o.createElement(l.default,{key:"save",appearance:"primary",disabled:!p.length,onClick:n.save,loading:c},(0,s.getLang)("global_save"))]},n.save=function(){var e=n.props,t=e.story,r=e.narratives,o=e.boxData,a=e.onClose,i=e.onSave,l=e.navScreen,u=n.state.selectedNarrativeIds,c=n.getSelectedNarrativeIdsMap(t.id,r),d=n.getDiffOperations(t.id,u,c),_=Boolean(Object.keys(u).length),h=o.ownerId;n.setState({isLoad:!0}),window.ajax.post("al_stories.php",{act:"batch_edit",owner_id:h,operations:JSON.stringify(d),hash:o.editHash},{onDone:function(){i(_),a(),(0,v.sendNarrativeAnalytic)(v.NarrativeAnalyticEventType.addStoryToNarrative,{ownerId:h},l),(0,p.showDoneBox)(n.getDoneText(d))},onFail:function(e){return(0,p.showDoneBox)(e||(0,s.getLang)("global_error")),!0},hideProgress:function(){n.setState({isLoad:!1})}})},n.onCreateNarrativeClick=function(){var e=n.props,t=e.story,r=e.narratives,o=e.onSave,a=e.onClose,i=e.boxData,s=e.navScreen,l=i.ownerId;if(l>0){var u=n.getSelectedNarrativeIdsMap(t.id,r),c=Boolean(Object.keys(u).length),d={selectedStories:[t],onSave:function(){c=!0},onClose:function(){o(c),a()},navScreen:s};return(0,h.showNarrativeEditorBox)(l,d),void(0,v.sendNarrativeAnalytic)(v.NarrativeAnalyticEventType.createNarrative,{ownerId:l},s)}var _=i.ownerDomain?i.ownerDomain:"club"+-i.ownerId;window.nav.go(_+"?act=narrative_create&story_id="+t.id)},n.onNarrativeClick=function(e,t){e.ctrlKey||e.metaKey||((0,m.showNarrative)(t.ownerId,t.id,0,"narrative"+t.ownerId+"_"+t.id),e.preventDefault(),e.stopPropagation())},n.state={isLoad:!1,selectedNarrativeIds:n.getSelectedNarrativeIdsMap(t.story.id,t.narratives)},n}return(0,r.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.onClose,r=t.narratives,i=t.boxData,l=this.state.selectedNarrativeIds,p=r.length<i.count;return o.createElement(a.BoxModal,{className:"NarrativeChooseBox",title:(0,s.getLang)("stories_narrative_choosing"),actionButtons:this.getBoxActionButtons(),onClose:n,hasScroll:!1,appearance:"blue"},o.createElement(c.default,{className:"NarrativeChooseBox__list",itemHeight:80,loadMore:this.loadMore,hasMore:p},o.createElement(d.NarrativeRowCreation,{key:"create",onClick:this.onCreateNarrativeClick,clickable:!0,size:50}),r.map((function(t){return o.createElement(_.NarrativeRow,{narrative:t,key:t.rawId,onClick:function(){return e.onCheckboxClick(t)},size:50,noBorder:!0,clickable:!0,aside:o.createElement("div",{className:(0,u.classNames)("NarrativeChooseBox__checkbox",{"NarrativeChooseBox__checkbox--checked":l[t.id]})})})}))))},t.prototype.getDoneText=function(e){var t=e.filter((function(e){return e.op===f.BatchOperationType.Add})).length;if(t>1)return(0,s.getLang)("stories_saved_in_narratives_text");if(1===t)return(0,s.getLang)("stories_saved_in_narrative_text");var n=e.filter((function(e){return e.op===f.BatchOperationType.Delete})).length;return n>1?(0,s.getLang)("stories_deleted_in_narratives_text"):1===n?(0,s.getLang)("stories_deleted_in_narrative_text"):(0,s.getLang)("stories_settings_saved")},t.prototype.getDiffOperations=function(e,t,n){var r=[];return Object.keys(t).forEach((function(t){n[t]||r.push({op:f.BatchOperationType.Add,story_id:e,narrative_id:Number(t)})})),Object.keys(n).forEach((function(n){t[n]||r.push({op:f.BatchOperationType.Delete,story_id:e,narrative_id:Number(n)})})),r},t.prototype.getSelectedNarrativeIdsMap=function(e,t){return t.reduce((function(t,n){return n.stories.find((function(t){return t.id===e}))&&(t[n.id]=!0),t}),{})},t}(o.Component)},5984:(e,t,n)=>{"use strict";n.d(t,{MAX_THUMB_HEIGHT:()=>p,MAX_THUMB_WIDTH:()=>h,NarrativeCoverCropper:()=>m});var r=n(655),o=n(7294),a=n(1554),i=n(1150),s=n(1437),l=n(7277),u=n(1563),c=n(1386),d=n(3558),_=n(6557),p=604,h=468,m=function(e){function t(t){var n=e.call(this,t)||this;return n.onSaveCrop=function(){var e=n.props,t=e.onSave,r=e.onClose,o=e.coverUrl,a=n.crop;a&&(n.setState({isLoading:!0}),(0,_.getCroppedImage)(o,a.left,a.top,a.width,a.height).then((function(e){return t(n.getCropForSaving(a),e.src)})).then(r).catch((function(e){n.setState({isLoading:!1}),(0,u.showFastBox)((0,s.getLang)("global_error"),e||(0,s.getLang)("global_unknown_error")),console.error(e),(0,c.logError)(new Error("error with onSaveCrop"+(e?": "+e:"")))})))},n.onCropUpdate=function(e){n.crop=e},n.state={isLoading:!1},n}return(0,r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.onClose,n=e.coverUrl,r=e.coverHeight,u=e.coverWidth,c=e.thumbHeight,_=e.thumbWidth,p=e.crop,h=this.state.isLoading;return o.createElement(a.BoxModal,{className:"NarrativeCoverCropper",appearance:"white",title:(0,s.getLang)("stories_cover_cropper_title"),onClose:t,hasScroll:!1},o.createElement("div",{className:"NarrativeCoverCropper__inner"},o.createElement("div",{className:"NarrativeCoverCropper__info"},o.createElement("div",null,(0,s.getLang)("stories_cover_cropper_info_1")),o.createElement("div",null,(0,s.getLang)("stories_cover_cropper_info_2"))),o.createElement("div",{className:"NarrativeCoverCropper__frame"},o.createElement(l.PhotoAreaSelector,{className:"NarrativeCoverCropper__tagger",imgSrc:n,imgHeight:r,imgWidth:u,previewHeight:c,previewWidth:_,minHeight:75,minWidth:75,isSquare:!0,preview100:!0,cropRect:this.getCropForTagger(p),onCropUpdated:this.onCropUpdate})),o.createElement("div",{className:"NarrativeCoverCropper__footer"},o.createElement(d.default,{loading:h,onClick:this.onSaveCrop},(0,s.getLang)("stories_cover_next")),o.createElement(i.default,{disabled:h,appearance:"secondary",onClick:t},(0,s.getLang)("stories_cover_back")))))},t.prototype.getCropForTagger=function(e){var t,n=this.props,r=n.coverWidth,o=n.coverHeight;if(e){var a=Math.round(e.width*r),i=Math.round(e.height*o);if(Math.abs(i-a)>1)return t;i=a,t={top:Math.round(e.y*o),left:Math.round(e.x*r),width:a,height:i}}return t},t.prototype.getCropForSaving=function(e){var t=this.props,n=t.coverWidth,r=t.coverHeight;return{y:e.top/r,x:e.left/n,width:e.width/n,height:e.height/r}},t}(o.Component)},127:(e,t,n)=>{"use strict";n.d(t,{NarrativeCreateLiteBox:()=>p});var r=n(655),o=n(7294),a=n(1437),i=n(3558),s=n(1554),l=n(2699),u=n(4956),c=n(4286),d=n(2610),_=n(5456),p=function(e){function t(t){var n=e.call(this,t)||this;return n.onNameChange=function(e){var t=e.target.value,r=(0,l.trim)(t)?t:"";n.setState({name:r})},n.getBoxActionButtons=function(){var e=n.state.isLoad;return[o.createElement(i.default,{key:"publish",appearance:"primary",onClick:n.save,loading:e},(0,a.getLang)("groups_edit_narrative_publish"))]},n.save=function(){var e=n.state.isLoad,t=n.state.name,r=void 0===t?"":t;e||((r=(0,l.trim)(r))?(n.setState({isLoad:!0}),n.props.onSave(r).catch((function(){n.setState({isLoad:!1})}))):(0,_.notaBene)(n.nameInputRef.current))},n.state={isLoad:!1,name:"",coverStory:t.stories[0]},n.nameInputRef=o.createRef(),n}return(0,r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.onClose,n=e.ownerName,r=e.stories,i=this.state,l=i.name,_=i.coverStory,p=null==_?void 0:_.preview;return o.createElement(s.BoxModal,{className:"NarrativeCreateLiteBox",title:(0,a.getLang)("stories_creating_narrative"),actionButtons:this.getBoxActionButtons(),onClose:t,hasScroll:!1,appearance:"blue"},o.createElement("div",{className:"NarrativeCreateLiteBox__inner"},o.createElement("div",{className:"NarrativeCreateLiteBox__title"},(0,a.getLang)("groups_edit_narrative_title")),o.createElement("input",{type:"text",className:"NarrativeCreateLiteBox__nameInput",value:l,onChange:this.onNameChange,placeholder:(0,a.getLang)("stories_enter_name"),maxLength:u.NARRATIVE_MAX_TITLE_LENGTH,ref:this.nameInputRef,autoFocus:!0}),o.createElement("div",{className:"NarrativeCreateLiteBox__title"},(0,a.getLang)("groups_edit_narrative_preview")),o.createElement("div",{className:"NarrativeCreateLiteBox__text"},(0,a.getLang)("groups_edit_narrative_pin_text")),o.createElement("div",{className:"NarrativeCreateLiteBox__previews"},o.createElement("div",{className:"NarrativeCreateLiteBox__previewWrapper"},o.createElement("div",{className:"NarrativeCreateLiteBox__previewTitle"},(0,a.getLang)("stories_narrative_preview_block_title")),o.createElement("div",{className:"NarrativeCreateLiteBox__smallPreview"},o.createElement(c.NarrativeItemPreviewCover,{cover:p}),o.createElement("span",{className:"NarrativeCreateLiteBox__smallPreviewName"},l||(0,a.getLang)("stories_narrative_name_full")))),o.createElement("div",{className:"NarrativeCreateLiteBox__previewWrapper NarrativeCreateLiteBox__previewWrapper--snippet"},o.createElement("div",{className:"NarrativeCreateLiteBox__previewTitle"},(0,a.getLang)("stories_narrative_preview_feed_title")),o.createElement(d.NarrativeSnippet,{className:"NarrativeCreateLiteBox__snippet",ownerName:n,coverUrl:p,title:l,storyCount:r.length})))))},t}(o.Component)},6689:(e,t,n)=>{"use strict";n.d(t,{NarrativeEditor:()=>w});var r=n(655),o=n(7294),a=n(1437),i=n(9727),s=n(1150),l=n(5456),u=n(1260),c=n(3558),d=n(1893),_=n(4827),p=n(2699),h=n(1554),m=n(774),f=n(7180),v=n(7280),g=n(469),y=n(3638),w=function(e){function t(t){var n=e.call(this,t)||this;n.onSelectedStoriesUpdate=function(e){void 0===e&&(e=[]);var t=n.props.storyMap,r=n.state.cover,o=null==r?void 0:r.coverStoryId,a={selectedStoryIds:e};if((null==r?void 0:r.customPhotoId)||o&&e.includes(o))e.length||(a.cover=null);else{var i=e[0];e[0]?a.cover={url:t[i].preview,coverStoryId:i}:a.cover=null}n.setState(a)},n.openCoverSelection=function(){var e=n.state.cover;((null==e?void 0:e.coverStoryId)||(null==e?void 0:e.customPhotoId))&&n.setState({section:i.EditorSectionType.cover})},n.confirmCover=function(e){var t=n.state.cover;n.setState({cover:e||t,section:i.EditorSectionType.main})},n.onNameChange=function(e){var t=e.target.value,r=(0,p.trim)(t)?t:"";n.setState({name:r})},n.close=function(e,t){var o=n.props,a=o.ownerId,i=o.narrativeRawId,s=o.navScreen;if(!e){var l="";i&&(l=(0,r.__read)(i.split("_"),2)[1]),(0,g.sendNarrativeAnalytic)(g.NarrativeAnalyticEventType.close,{ownerId:a,id:Number(l)},s)}n.props.close(t)},n.onSave=function(e){n.props.onSave(e)},n.getFooterButtons=function(){var e=n.props.type,t=n.state,r=t.selectedStoryIds,l=t.loading;return[o.createElement(s.default,{key:"close",appearance:"tertiary",onClick:function(){return n.close(!1)},disabled:l},(0,a.getLang)("global_cancel")),o.createElement(c.default,{loading:l,key:"save",onClick:n.save,disabled:0===r.length},e===i.EditorModeType.edit?(0,a.getLang)("global_save"):(0,a.getLang)("stories_create_narrative"))]},n.save=function(){var e=n.props,t=e.publishHash,o=e.editHash,s=e.type,c=e.navScreen,d=e.ownerId,_=n.state,h=_.cover,f=_.loading,v=n.getSelectedStories(),y=n.state.name,w=void 0===y?"":y,b=n.props.narrativeRawId;if(!f)if(w=(0,p.trim)(w)){if((null==h?void 0:h.coverStoryId)||(null==h?void 0:h.customPhotoId)){var E="publish_narrative",C=t;s===i.EditorModeType.edit&&(E="edit_narrative",C=o);var D={act:E,owner_id:d,title:w,hash:C,story_ids:(0,m.prepareStoriesForPublishing)(v)};if(b){var k=(0,r.__read)(b.split("_"),2)[1];D.narrative_id=k}h.customPhotoId&&(D.custom_cover_photo_id=h.customPhotoId),h.coverStoryId&&(D.cover_story_id=h.coverStoryId),h.crop&&(D.crop_y=h.crop.y,D.crop_x=h.crop.x,D.crop_height=h.crop.height,D.crop_width=h.crop.width),window.ajax.post("al_stories.php",D,{onDone:function(e){b||(b=d+"_"+e);var t=n.getPublishDoneHtml(b,w,s);n.onSave(b),n.close(!0,(function(){return(0,u.showDoneBox)(t)})),(0,g.sendNarrativeAnalytic)(s===i.EditorModeType.edit?g.NarrativeAnalyticEventType.editNarrative:g.NarrativeAnalyticEventType.publishNarrative,{ownerId:Number(d),id:Number(e)},c)},onFail:function(e){return(0,u.showDoneBox)(e||(0,a.getLang)("global_error")),!0},hideProgress:function(){n.setState({loading:!1})}}),n.setState({loading:!0})}}else n.dataPanelRef.current&&(0,l.notaBene)(n.dataPanelRef.current.getInputEl())};var d=t.cover,_=t.selectedStoryIds[0];return!d&&_&&(d={url:t.storyMap[_].preview,coverStoryId:_}),n.state={tabKey:t.activeTabKey,name:t.name,selectedStoryIds:t.selectedStoryIds,cover:d,loading:!1,section:i.EditorSectionType.main},n.dataPanelRef=o.createRef(),n}return(0,r.__extends)(t,e),t.prototype.render=function(){var e=this;return this.props.appearance===i.EditorViewType.box?o.createElement(h.BoxModal,{className:"NarrativeEditor NarrativeEditor--box",appearance:"blue",title:this.getBoxTitle(),onClose:function(){return e.close()},hasScroll:!1},this.renderInner()):o.createElement("div",{className:"NarrativeEditor NarrativeEditor--page"},this.renderInner())},t.prototype.renderInner=function(){var e=this.props,t=e.storyIds,n=e.storyMap,r=e.onStoryLinkUpdate,a=e.isEditingLinksAvailable,s=e.linkData,l=e.appearance,u=e.loadMore,c=e.hasMore,p=e.coverUploadConfig,h=e.ownerId,m=this.state,g=m.name,y=m.selectedStoryIds,w=m.cover,b=m.section,E=this.getSelectedStories(),C=(null==w?void 0:w.url)||"";return o.createElement("div",{className:"NarrativeEditor__inner"},b===i.EditorSectionType.main&&o.createElement(v.NarrativeEditorSection,{appearance:l,actionFooterButtons:this.getFooterButtons()},o.createElement(_.NarrativeEditorDataPanel,{className:"NarrativeEditor__dataPanel",coverUrl:C,name:g,selectedStoriesCount:y.length,onNameChange:this.onNameChange,onSubmit:this.save,onCoverClick:this.openCoverSelection,ref:this.dataPanelRef}),o.createElement(d.NarrativeEditorStoriesTabPanel,{appearance:l,onSelectedStoriesUpdate:this.onSelectedStoriesUpdate,storyIds:t,loadMore:u,hasMore:c,selectedStoryIds:y,storyMap:n,linkData:s,isEditingLinksAvailable:a,onStoryLinkUpdate:r})),b===i.EditorSectionType.cover&&o.createElement(f.NarrativeEditorCoverSection,{ownerId:h,appearance:l,cover:w,stories:E,onSave:this.confirmCover,coverUploadConfig:p,storyMap:n}))},t.prototype.getBoxTitle=function(){var e=this.props.type;return this.state.section===i.EditorSectionType.cover?(0,a.getLang)("stories_choose_cover_title"):e===i.EditorModeType.create?(0,a.getLang)("stories_creating_narrative"):(0,a.getLang)("stories_editing_narrative")},t.prototype.getPublishDoneHtml=function(e,t,n){var o=this.props.getPublishDoneHTML;if(o)return o(e,t,n);var s=(0,r.__read)(e.split("_"),2),l=s[0],u=s[1],c="if (!event.metaKey && !event.ctrlKey) { showNarrative("+Number(l)+", "+Number(u)+", 0, 'narrative"+e+"'); return false; }";return'\n      <div class="top_result_header">\n        '+(n===i.EditorModeType.create?(0,a.getLang)("stories_narrative_created"):(0,a.getLang)("stories_narrative_edited")).replace("{name}",'<a href="/narrative'+e+'" onclick="'+c+'">'+(0,p.clean)(t)+"</a>")+'\n      </div>\n      <a href="#" class="link" onclick="window.Likes.share(\'narrative'+e+"'); return false;\">"+(0,a.getLang)("stories_manage_share_narrative")+"</a>\n    "},t.prototype.getSelectedStories=function(){var e=this;return this.state.selectedStoryIds.map((function(t){return e.props.storyMap[t]}))},t.prototype.componentWillUnmount=function(){this.revokeCustomUrls()},t.prototype.revokeCustomUrls=function(){var e=this.state.cover;e&&(0,y.isCustomCover)(e)&&[e.url,e.customPhotoOriginalUrl].forEach((function(e){(null==e?void 0:e.startsWith("blob:"))&&URL.revokeObjectURL(e)}))},t.defaultProps={name:"",type:i.EditorModeType.create,activeTabKey:i.EditorTabKey.selected,isEditingLinksAvailable:!1,appearance:i.EditorViewType.page},t}(o.Component)},9727:(e,t,n)=>{"use strict";var r,o,a,i;n.d(t,{EditorModeType:()=>r,EditorTabKey:()=>o,EditorViewType:()=>a,EditorSectionType:()=>i}),function(e){e[e.create=0]="create",e[e.edit=1]="edit"}(r||(r={})),function(e){e.all="all",e.selected="selected"}(o||(o={})),function(e){e.box="box",e.page="page"}(a||(a={})),function(e){e.main="main",e.cover="cover"}(i||(i={}))},1997:(e,t,n)=>{"use strict";n.d(t,{NarrativeEditorAllTab:()=>_});var r=n(655),o=n(7294),a=n(9727),i=n(5735),s=n(6943),l=n(4956),u=n(9397),c=n(1386),d=n(8434),_=function(e){function t(t){var n=e.call(this,t)||this;return n.tabRef=o.createRef(),n.onScroll=function(){n.props.hasMore&&n.checkLoading()},n.checkLoading=(0,u.throttle)((function(){var e=n.props,t=e.loadMore,r=e.hasMore,o=n.state.isLoading,a=n.getScrollContainer(),i=n.getTabEl();r&&i&&(!o&&n.isMount&&(a instanceof HTMLElement?i.scrollTop+i.clientHeight>=i.scrollHeight-l.SCROLL_LOADING_MORE_GAP:window.innerHeight+l.SCROLL_LOADING_MORE_GAP>=i.getBoundingClientRect().bottom)&&(n.setState({isLoading:!0}),t().catch((function(e){console.error(e),(0,c.logError)(e)})).finally((function(){n.setState({isLoading:!1})}))))}),l.SCROLL_THROTTLE_DELAY),n.state={isLoading:!1},n}return(0,r.__extends)(t,e),t.prototype.render=function(){var e,t=this,n=this.props,r=n.stories,a=n.selectedStoriesMap,l=n.className,c=n.onToggleCheck,_=n.isEditingLinksAvailable,p=n.onStoryLinkUpdate,h=n.linkData,m=this.state.isLoading;return o.createElement("div",{className:(0,u.classNames)("NarrativeEditorAllTab ScrollContainer",l),ref:this.tabRef},o.createElement(i.StoryArchivePreviewGrid,{className:"NarrativeEditorAllTab__grid"},r.map((function(n){var r=!1,i=new Date(1e3*n.time).toDateString();return e&&i===e||(e=i,r=!0),o.createElement("div",{className:"NarrativeEditorAllTab__story",key:n.rawId},o.createElement(s.StoryArchivePreview,{story:n,checked:!!a[n.id],selectable:t.isSelectable(n),onToggleCheck:c,onStoryLinkUpdate:p,isEditingLinksAvailable:_,linkData:h,needShowDate:r}))}))),m&&o.createElement("div",{className:"NarrativeEditorAllTab__loader"},o.createElement(d.default,null)))},t.prototype.isSelectable=function(e){var t=this.props.selectedStoriesMap,n=Object.keys(t).length;return!e.isUnavailable&&!!(n<l.MAX_NARRATIVE_STORIES||t[e.id])},t.prototype.componentDidMount=function(){this.isMount=!0,this.initScrollListener()},t.prototype.componentWillUnmount=function(){this.isMount=!1,this.deInitScrollContainer()},t.prototype.initScrollListener=function(){var e=this.getScrollContainer(),t=this.getTabEl();e&&t&&e.addEventListener("scroll",this.onScroll,!0)},t.prototype.deInitScrollContainer=function(){var e;null===(e=this.getScrollContainer())||void 0===e||e.removeEventListener("scroll",this.onScroll)},t.prototype.getScrollContainer=function(){return this.props.appearance===a.EditorViewType.box?this.getTabEl():window},t.prototype.getTabEl=function(){var e;return null===(e=this.tabRef)||void 0===e?void 0:e.current},t.defaultProps={isEditingLinksAvailable:!1,hasMore:!1},t}(o.Component)},7180:(e,t,n)=>{"use strict";n.d(t,{NarrativeEditorCoverSection:()=>k});var r=n(655),o=n(7294),a=n(9727),i=n(9397),s=n(5735),l=n(6943),u=n(1437),c=n(1150),d=n(3558),_=n(7280),p=n(614),h=n(7685),m=n(2323),f=n(1285),v=n(4707),g=n(5321),y=n(1563),w=n(7975),b=n(6557),E=n(1386),C=n(5984),D=n(3638),k=function(e){function t(t){var n,a=e.call(this,t)||this;a.scrollContainerRef=o.createRef(),a.isMount=!1,a.isCropSubmitted=!1,a.onFilesLoad=function(e){a.file=e[0],a.file&&a.uploadCover()},a.uploadCover=function(){if(a.file){var e=a.file,t=a.props.coverUploadConfig,n=new g.UploadPhoto(t,a.onUploadCoverProgress);n.validate(e).then((function(){if(a.isMount){var t=URL.createObjectURL(e),o={id:D.CustomCoverId,url:t,customPhotoOriginalUrl:t,percent:0,status:D.CoverUploadStatus.uploading};return a.setState({customCover:o}),n.upload(e).then((function(e){if(a.isMount){var t=JSON.stringify(e);a.setState({customCover:(0,r.__assign)((0,r.__assign)({},o),{percent:100,status:D.CoverUploadStatus.uploaded,uploadResponse:t}),checkedCoverId:D.CustomCoverId})}}))}})).catch((function(e){if(a.isMount){var t=a.state.customCover;t&&(t=(0,r.__assign)((0,r.__assign)({},t),{percent:0,status:D.CoverUploadStatus.failed})),console.error(e),e=(0,i.isObject)(e)?e.text:String(e),(0,y.showFastBox)((0,u.getLang)("global_error"),e||(0,u.getLang)("global_unknown_error")),(0,E.logError)(new Error("error with uploadCover"+(e?": "+e:""))),a.setState({customCover:t})}}))}},a.onUploadCoverProgress=function(e,t){var n=Math.min(e/t*100,90);a.setState((function(e){var t=e.customCover;return t?{customCover:(0,r.__assign)((0,r.__assign)({},t),{percent:n})}:null}))},a.selectCustomCover=function(){a.setState({checkedCoverId:D.CustomCoverId})},a.toggleCheck=function(e){a.setState({checkedCoverId:e.rawId})},a.openCropper=function(){var e=a.state.checkedCoverId,t=a.getCoverById(e);if(t){var n=a.getCoverOriginalUrl(t);n&&(0,b.loadImage)(n).then((function(e){if(a.isMount){var o=e.width,i=e.height,s=(0,r.__read)(a.getThumbSizes(o,i),2),l=s[0],u=s[1];a.setState({isModalOpen:!0}),(0,w.showNarrativeCropCoverBox)({coverUrl:n,coverHeight:i,coverWidth:o,thumbHeight:u,thumbWidth:l,crop:t.crop,onSave:a.onCropSave,onClose:a.onCropClose})}})).catch((function(e){console.error(e),e=String(e),(0,y.showFastBox)((0,u.getLang)("global_error"),e||(0,u.getLang)("global_unknown_error")),(0,E.logError)(new Error("error with cover openCropper"+(e?": "+e:"")))}))}},a.onCropSave=function(e,t){return a.saveCustomPhotoIfNeeded().then((function(n){a.isCropSubmitted=!0;var o=a.state.covers;(0,D.isSelectableCustomCover)(n)?a.setState({customCover:(0,r.__assign)((0,r.__assign)({},n),{url:t,crop:e})}):a.setState({covers:o.map((function(o){return o.id===n.id?(0,r.__assign)((0,r.__assign)({},n),{url:t,crop:e}):o}))})}))},a.onCropClose=function(){var e=a.props.onSave,t=a.state.checkedCoverId;a.setState({isModalOpen:!1});var n=a.getCoverById(t);n&&a.isCropSubmitted&&e({url:n.url,coverStoryId:n.coverStoryId,customPhotoOriginalUrl:n.customPhotoOriginalUrl,customPhotoId:n.customPhotoId,crop:n.crop})},a.getFooterButtons=function(){var e=a.props.onSave,t=a.state.customCover;return[o.createElement(c.default,{key:"close",appearance:"tertiary",onClick:function(){return e()}},(0,u.getLang)("global_cancel")),o.createElement(d.default,{key:"save",onClick:a.openCropper,disabled:(null==t?void 0:t.status)===D.CoverUploadStatus.uploading},(0,u.getLang)("stories_narrative_cover_next_step"))]},a.onDragEnter=function(e){var t,n,r,o;("file"===(null===(n=null===(t=null==e?void 0:e.dataTransfer)||void 0===t?void 0:t.items[0])||void 0===n?void 0:n.kind)||(null===(o=null===(r=null==e?void 0:e.dataTransfer)||void 0===r?void 0:r.types)||void 0===o?void 0:o.includes("Files")))&&(clearTimeout(a.dragLeaveTimeout),delete a.dragLeaveTimeout,a.setState({showDropArea:!0})),(0,h.cancelEvent)(e)},a.onDragLeave=function(e){clearTimeout(a.dragLeaveTimeout),a.dragLeaveTimeout=setTimeout((function(){delete a.dragLeaveTimeout,a.setState({showDropArea:!1})}),100),(0,h.cancelEvent)(e)},a.onDragDrop=function(e){var t,n;a.onDragLeave(e),(null===(n=null===(t=null==e?void 0:e.dataTransfer)||void 0===t?void 0:t.files)||void 0===n?void 0:n.length)&&a.onFilesLoad(Array.from(e.dataTransfer.files));var r=a.getScrollContainer();r&&r.scrollTo({top:0,behavior:"smooth"}),(0,h.cancelEvent)(e)};var s=(0,r.__read)(a.buildCovers(t),2),l=s[0],_=s[1],p=null===(n=l[0])||void 0===n?void 0:n.id;if(t.cover){var m=t.cover.customPhotoId,f=t.cover.coverStoryId;p=m?D.CustomCoverId:f?t.storyMap[f].rawId:t.stories[0].rawId}return a.state={showDropArea:!1,covers:l,customCover:_,checkedCoverId:p,isModalOpen:!1},a}return(0,r.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.className,r=t.appearance,c=t.stories,d=this.state,h=d.customCover,g=d.checkedCoverId,y=d.showDropArea,w=d.isModalOpen;return o.createElement(_.NarrativeEditorSection,{className:(0,i.classNames)("NarrativeEditorCoverSection",n),appearance:r,actionFooterButtons:this.getFooterButtons()},o.createElement("div",{className:"ScrollContainer",ref:this.scrollContainerRef},o.createElement("div",{className:"NarrativeEditorCoverSection__hint StoryGridHint"},(0,u.getLang)("stories_choose_cover_hint")),o.createElement(s.StoryArchivePreviewGrid,{className:"NarrativeEditorCoverSection__grid"},o.createElement("div",{className:"NarrativeEditorCoverSection__create"},o.createElement(p.StoryLoadFile,{text:(0,u.getLang)("stories_upload_narrative_cover"),onFilesLoad:this.onFilesLoad})),h&&o.createElement(v.StoryCustomCoverPreview,{uploadingStatus:h.status,coverUrl:h.customPhotoOriginalUrl,checked:h.id===g,uploadingPercent:h.percent,onToggleCheck:this.selectCustomCover,retryUpload:this.uploadCover}),c.map((function(t){return o.createElement("div",{className:"NarrativeEditorCoverSection__story",key:t.rawId},o.createElement(l.StoryArchivePreview,{story:t,checked:g===t.rawId,selectable:!0,onToggleCheck:e.toggleCheck}))})))),y&&!w&&r===a.EditorViewType.box&&o.createElement(m.UploadDropBoxArea,null),y&&!w&&r===a.EditorViewType.page&&o.createElement(f.UploadDropPageArea,null))},t.prototype.getThumbSizes=function(e,t){var n,r,o=e/t;return e>=t?(n=Math.min(e,C.MAX_THUMB_WIDTH),(r=Math.floor(n/o))>C.MAX_THUMB_HEIGHT&&(r=C.MAX_THUMB_HEIGHT,n=Math.floor(r*o))):(r=Math.min(t,C.MAX_THUMB_HEIGHT),(n=Math.floor(r*o))>C.MAX_THUMB_WIDTH&&(n=C.MAX_THUMB_WIDTH,r=Math.floor(n/o))),[n,r]},t.prototype.saveCustomPhotoIfNeeded=function(){var e=this,t=this.props,n=t.ownerId,o=t.coverUploadConfig,a=this.state.checkedCoverId,i=this.getCoverById(a);return i?(0,D.needSavePhoto)(i)?new Promise((function(t,a){window.ajax.post("al_stories.php",{act:"save_narrative_cover",owner_id:n,upload_response:i.uploadResponse,hash:o.hash},{onDone:function(n){var o=e.state.customCover;if(e.isMount&&o){var i=(0,r.__assign)((0,r.__assign)({},o),{customPhotoId:n});t(i)}else a()},onFail:function(e){return console.error(e),a(e),!0}})})):Promise.resolve(i):Promise.reject()},t.prototype.componentDidMount=function(){this.isMount=!0;var e=this.getDragAndDropContainer();e&&(e.addEventListener("drop",this.onDragDrop),e.addEventListener("dragenter",this.onDragEnter),e.addEventListener("dragover",this.onDragEnter),e.addEventListener("dragleave",this.onDragLeave))},t.prototype.componentWillUnmount=function(){this.isMount=!1,null!=this.dragLeaveTimeout&&clearTimeout(this.dragLeaveTimeout);var e=this.getDragAndDropContainer();e&&(e.removeEventListener("drop",this.onDragDrop),e.removeEventListener("dragenter",this.onDragEnter),e.removeEventListener("dragover",this.onDragEnter),e.removeEventListener("dragleave",this.onDragLeave))},t.prototype.getDragAndDropContainer=function(){return this.props.appearance===a.EditorViewType.box?window.boxLayerWrap:document.body},t.prototype.getScrollContainer=function(){return this.props.appearance===a.EditorViewType.box?this.scrollContainerRef.current:document.documentElement},t.prototype.buildCovers=function(e){var t,n=e.cover,o=e.stories;return n&&(0,D.isCustomCover)(n)&&(t=(0,r.__assign)({id:D.CustomCoverId},n)),[o.map((function(e){return(null==n?void 0:n.coverStoryId)===e.id?(0,r.__assign)({id:e.rawId},n):{id:e.rawId,url:e.preview,coverStoryId:e.id}})),t]},t.prototype.getCoverById=function(e){return e===D.CustomCoverId?this.state.customCover:this.state.covers.find((function(t){return t.id===e}))},t.prototype.getCoverOriginalUrl=function(e){var t,n=this.props.storyMap,r="";return(0,D.isSelectableCustomCover)(e)?r=e.customPhotoOriginalUrl:e.coverStoryId&&(r=null===(t=n[e.coverStoryId])||void 0===t?void 0:t.originalPreviewUrl),r},t}(o.Component)},3638:(e,t,n)=>{"use strict";var r;function o(e){return Boolean(e.customPhotoId||e.uploadResponse)}function a(e){return Boolean(e.customPhotoId)}function i(e){return e.uploadResponse&&!e.customPhotoId}function s(e){var t={url:e.coverUrl,crop:e.coverCrop};return e.customCover?(t.customPhotoId=e.customCover.photoId,t.customPhotoOriginalUrl=e.customCover.originalPhotoUrl):t.coverStoryId=e.coverStoryId,t}n.d(t,{CoverUploadStatus:()=>r,isSelectableCustomCover:()=>o,isCustomCover:()=>a,needSavePhoto:()=>i,getPreparedCover:()=>s,CustomCoverId:()=>l}),function(e){e[e.uploaded=0]="uploaded",e[e.uploading=1]="uploading",e[e.failed=2]="failed"}(r||(r={}));var l="custom"},4827:(e,t,n)=>{"use strict";n.d(t,{NarrativeEditorDataPanel:()=>_});var r=n(655),o=n(7294),a=n(1437),i=n(9397),s=n(4286),l=n(4956),u=n(7685),c=n(6566),d=n(2199),_=function(e){function t(t){var n=e.call(this,t)||this;return n.getInputEl=function(){return n.nameInputRef&&n.nameInputRef.current},n.onKeyDown=function(e){e.keyCode===u.KEY.ENTER&&(e.ctrlKey||e.metaKey&&c.browser.mac)&&n.props.onSubmit()},n.nameInputRef=o.createRef(),n}return(0,r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.name,n=e.onNameChange,r=e.selectedStoriesCount,u=e.coverUrl,c=e.onCoverClick,_=e.className,p=0===r,h="";return p||(h=(0,a.getLang)("stories_choose_cover")),o.createElement("div",{className:(0,i.classNames)("NarrativeEditorDataPanel",_)},o.createElement("div",{className:"NarrativeEditorDataPanel__preview"},o.createElement(s.NarrativeItemPreviewCover,{className:(0,i.classNames)("NarrativeEditorDataPanel__cover",{"NarrativeEditorDataPanel__cover--active":!p}),onClick:c,cover:u,title:h,extra:!p&&o.createElement("div",{className:"NarrativeEditorDataPanel__pencil"},o.createElement(d.default,null))}),o.createElement("span",{className:(0,i.classNames)("NarrativeEditorDataPanel__name",{"NarrativeEditorDataPanel__name--empty":!t})},t||(0,a.getLang)("stories_narrative_name_full"))),o.createElement("div",{className:"NarrativeEditorDataPanel__form"},o.createElement("span",{className:"NarrativeEditorDataPanel__nameLabel"},(0,a.getLang)("stories_narrative_name")),o.createElement("input",{className:"NarrativeEditorDataPanel__nameInput",value:t,onChange:n,onKeyDown:this.onKeyDown,type:"text",placeholder:(0,a.getLang)("stories_enter_name"),maxLength:l.NARRATIVE_MAX_TITLE_LENGTH,ref:this.nameInputRef,autoFocus:!0}),r>0&&o.createElement("span",{className:"NarrativeEditorDataPanel__selectedStoryCount"},(0,a.getLang)("stories_selected_count",r))))},t}(o.Component)},8488:(e,t,n)=>{"use strict";n.d(t,{NarrativeEditorFooter:()=>i});var r=n(7294),o=n(1265),a=n(4415),i=function(e){var t=e.appearance,n=e.actionButtons;return r.createElement("div",{className:(0,o.classNames)("NarrativeEditorFooter","NarrativeEditorFooter--"+t)},r.createElement(a.ModalFooter,{actionButtons:n}))}},7280:(e,t,n)=>{"use strict";n.d(t,{NarrativeEditorSection:()=>s});var r=n(655),o=n(7294),a=n(8488),i=n(1265),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scrollContainerRef=o.createRef(),t}return(0,r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=e.appearance,s=e.actionFooterButtons;return o.createElement("div",{className:(0,i.classNames)("NarrativeEditorSection",t),ref:this.scrollContainerRef},o.createElement("div",{className:"NarrativeEditorSection__body"},n),Boolean(s)&&o.createElement(a.NarrativeEditorFooter,{appearance:r,actionButtons:s}))},t.prototype.getSectionEl=function(){var e;return null===(e=this.scrollContainerRef)||void 0===e?void 0:e.current},t}(o.Component)},5994:(e,t,n)=>{"use strict";n.d(t,{NarrativeEditorSelectedTab:()=>_});var r=n(655),o=n(7294),a=n(9727),i=n(5735),s=n(6943),l=n(1265),u=n(4956),c=n(3e3),d="NarrativeEditorSelectedTab__storyPreview",_=function(e){function t(t){var n=e.call(this,t)||this;return n.gridContainerRef=o.createRef(),n.tabRef=o.createRef(),n.state={draggingStoryRawId:""},n}return(0,r.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.stories,r=t.selectedStoriesMap,a=t.className,u=t.isEditingLinksAvailable,c=t.onStoryLinkUpdate,_=t.linkData,p=t.onToggleCheck,h=this.state.draggingStoryRawId;return o.createElement("div",{className:(0,l.classNames)("NarrativeEditorSelectedTab ScrollContainer",a),ref:this.tabRef},o.createElement(i.StoryArchivePreviewGrid,{ref:this.gridContainerRef},n.map((function(t){return o.createElement("div",{className:"NarrativeEditorSelectedTab__story",key:t.rawId},o.createElement(s.StoryArchivePreview,{className:d,story:t,draggable:!0,isDragged:t.rawId===h,checked:!!r[t.id],selectable:e.isSelectable(t),onToggleCheck:p,onStoryLinkUpdate:c,isEditingLinksAvailable:u,linkData:_}))}))))},t.prototype.isSelectable=function(e){var t=this.props.selectedStoriesMap,n=Object.keys(t).length;return!e.isUnavailable&&!!(n<u.MAX_NARRATIVE_STORIES||t[e.rawId])},t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.onReorder,r=t.appearance,o=this.getGridContainer(),i={dragThreshold:0,onDragFinish:function(){e.setState({draggingStoryRawId:""})},onDragStart:function(t){var n=t.querySelector("."+d);if(n){var r=n.dataset.id;e.setState({draggingStoryRawId:r})}},onReorder:function(){var t=e.props.stories,r=document.querySelectorAll("."+d),o=[];r.forEach((function(e){var n=e.getAttribute("data-id"),r=t.find((function(e){return e.rawId===n}));r&&o.push(r.id)})),n(o)}};o&&(r===a.EditorViewType.box&&(i.wrapNode=this.getTabEl()),this.sorter=new c.default(o,"",i))},t.prototype.componentWillUnmount=function(){this.sorter&&this.sorter.destroy()},t.prototype.getTabEl=function(){var e;return null===(e=this.tabRef)||void 0===e?void 0:e.current},t.prototype.getGridContainer=function(){var e,t;return null===(t=null===(e=this.gridContainerRef)||void 0===e?void 0:e.current)||void 0===t?void 0:t.getGridContainer()},t}(o.Component)},1893:(e,t,n)=>{"use strict";n.d(t,{NarrativeEditorStoriesTabPanel:()=>_});var r=n(655),o=n(7294),a=n(9727),i=n(1437),s=n(9814),l=n(5994),u=n(1997),c=n(1265),d=n(4956),_=function(e){function t(t){var n=e.call(this,t)||this;return n.onTabClick=function(e,t){n.setState({tabKey:t,selectedTabStoryIds:(0,r.__spreadArray)([],(0,r.__read)(n.props.selectedStoryIds))})},n.onReorder=function(e){var t=n.props.onSelectedStoriesUpdate,r=n.getSelectedStoriesMap(),o=e.filter((function(e){return r[e]}));n.setState({selectedTabStoryIds:e}),t(o)},n.onStorySelectToggle=function(e){var t,o=n.props,i=o.selectedStoryIds,s=o.onSelectedStoriesUpdate,l=n.state,u=l.tabKey,c=l.selectedTabStoryIds,_=n.getSelectedStoriesMap();if(!(Object.keys(_).length>=d.MAX_NARRATIVE_STORIES)||_[e.id]){if(!c.length)return n.setState({selectedTabStoryIds:[e.id]}),void s([e.id]);if(_[e.id]){s(i.filter((function(t){return t!==e.id})))}else{var p=[],h=(0,r.__assign)((0,r.__assign)({},_),((t={})[e.id]=e,t));if(u===a.EditorTabKey.selected)p=c.filter((function(e){return h[e]}));else if(u===a.EditorTabKey.all){if(c.includes(e.id))p=c.filter((function(e){return h[e]}));else p=(0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(c)),[e.id]).filter((function(e){return h[e]})),n.setState({selectedTabStoryIds:(0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(c)),[e.id])})}s(p)}}},n.state={tabKey:t.selectedStoryIds.length?a.EditorTabKey.selected:a.EditorTabKey.all,selectedTabStoryIds:(0,r.__spreadArray)([],(0,r.__read)(t.selectedStoryIds))},n}return(0,r.__extends)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.selectedStoryIds,r=t.appearance,d=t.isEditingLinksAvailable,_=t.linkData,p=t.onStoryLinkUpdate,h=t.loadMore,m=t.hasMore,f=this.state.tabKey,v=this.getSelectedStoriesMap(),g=this.getAllStories();return o.createElement("div",{className:"NarrativeEditorStoriesTabPanel"},o.createElement(s.default,{className:"NarrativeEditorStoriesTabPanel__tabs",onTabClick:this.onTabClick,active:f,disabledTabMap:(e={},e[a.EditorTabKey.selected]=!n.length,e)},o.createElement("span",{key:a.EditorTabKey.selected},(0,i.getLang)("stories_narrative_editor_selected_tab"),n.length>0&&o.createElement("span",{className:"Tabs__desc"},n.length)),o.createElement("span",{key:a.EditorTabKey.all},(0,i.getLang)("stories_narrative_editor_all_tab"))),f===a.EditorTabKey.selected&&o.createElement(l.NarrativeEditorSelectedTab,{className:(0,c.classNames)("NarrativeEditorSelectPanel__grid","NarrativeEditorSelectPanel__grid--"+r),appearance:r,stories:this.getSelectedTabStories(),onReorder:this.onReorder,onToggleCheck:this.onStorySelectToggle,selectedStoriesMap:v,onStoryLinkUpdate:p,isEditingLinksAvailable:d,linkData:_}),f===a.EditorTabKey.all&&o.createElement(u.NarrativeEditorAllTab,{className:(0,c.classNames)("NarrativeEditorSelectPanel__grid","NarrativeEditorSelectPanel__grid--"+r),appearance:r,stories:g,loadMore:h,hasMore:m,onToggleCheck:this.onStorySelectToggle,selectedStoriesMap:v,onStoryLinkUpdate:p,isEditingLinksAvailable:d,linkData:_}))},t.prototype.getSelectedTabStories=function(){var e=this;return this.state.selectedTabStoryIds.map((function(t){return e.props.storyMap[t]}))},t.prototype.getAllStories=function(){var e=this;return this.props.storyIds.map((function(t){return e.props.storyMap[t]}))},t.prototype.getSelectedStoriesMap=function(){var e=this;return this.props.selectedStoryIds.reduce((function(t,n){return t[n]=e.props.storyMap[n],t}),{})},t.defaultProps={isEditingLinksAvailable:!1},t}(o.Component)},4286:(e,t,n)=>{"use strict";n.d(t,{NarrativeItemPreviewCover:()=>a});var r=n(7294),o=n(1265),a=r.memo((function(e){var t=e.title,n=e.onClick,a=e.cover,i=e.href,s=e.className,l=void 0===s?"":s,u=e.extra,c=e.noBorder,d=void 0!==c&&c,_=e.isDraft,p=void 0!==_&&_,h=e.size,m=void 0===h?58:h,f=a?{backgroundImage:"url("+a+")"}:{},v=(0,o.classNames)("NarrativeItemPreviewCover","NarrativeItemPreviewCover--size"+m,l,{"NarrativeItemPreviewCover--noBorder":d,"NarrativeItemPreviewCover--isDraft":p}),g=r.createElement("div",{className:"NarrativeItemPreviewCover__image",style:f,title:t||void 0},u);return r.createElement(r.Fragment,null,i&&r.createElement("a",{href:i,className:v,onClick:n},g),!i&&r.createElement("div",{className:v,onClick:n},g))}))},5933:(e,t,n)=>{"use strict";n.d(t,{NarrativeRow:()=>u});var r=n(7294),o=n(4286),a=n(3143),i=n(9397),s=n(1437),l=n(1114),u=r.memo((function(e){var t,n,u,c,d=e.narrative,_=e.aside,p=e.onClick,h=e.className,m=e.clickable,f=e.size,v=e.noBorder,g=!d.storiesCount,y=g?"":"/narrative"+d.ownerId+"_"+d.id;return g?(t=r.createElement(o.NarrativeItemPreviewCover,{isDraft:!0,extra:r.createElement(l.default,null),size:f}),n=r.createElement(r.Fragment,null,(0,s.getLang)("groups_narrative_box_stories_count",d.storiesCount),r.createElement("span",{className:"dvd"}),r.createElement("span",null,(0,s.getLang)("stories_narratives_draft")))):(t=r.createElement(o.NarrativeItemPreviewCover,{onClick:p,size:f,cover:d.coverUrl,href:y,noBorder:v}),n=r.createElement("span",null,(0,s.getLang)("groups_narrative_box_stories_count",d.storiesCount))),m?u=p:g||(c=p),r.createElement("div",{className:(0,i.classNames)("NarrativeRow NarrativeListItem",h,{"NarrativeRow--clickable":m}),"data-id":d.id,onClick:u},r.createElement(a.NarrativeRowBase,{className:"NarrativeRow__inner",href:y,onClick:c,preview:t,id:d.id,title:d.title,subtitle:n,size:f,aside:_}))}))},3143:(e,t,n)=>{"use strict";n.d(t,{NarrativeRowBase:()=>s});var r=n(655),o=n(7294),a=n(8862),i=n(9397),s=o.memo((function(e){e.id;var t,n=e.title,s=e.subtitle,l=e.preview,u=e.aside,c=e.href,d=e.onClick,_=e.className,p=void 0===_?"":_,h=e.size,m=void 0===h?58:h,f=(0,r.__rest)(e,["id","title","subtitle","preview","aside","href","onClick","className","size"]),v=Boolean(d||c);return n=(0,a.decodeHTMLEntities)(n),t=c?o.createElement("a",{href:c,className:"NarrativeRowBase__title",onClick:d},n):o.createElement("span",{className:"NarrativeRowBase__title",onClick:d},n),o.createElement("div",(0,r.__assign)({className:(0,i.classNames)("NarrativeRowBase","NarrativeRowBase--previewSize"+m,p,{"NarrativeRowBase--clickable":v})},f),o.createElement("div",{className:"NarrativeRowBase__preview"},l),o.createElement("div",{className:"NarrativeRowBase__inner"},o.createElement("div",{className:"NarrativeRowBase__main"},o.createElement("div",{className:"NarrativeRowBase__title"},t),s&&o.createElement("div",{className:"NarrativeRowBase__subtitle"},s)),u&&o.createElement("div",{className:"NarrativeRowBase__aside"},u)))}))},6325:(e,t,n)=>{"use strict";n.d(t,{NarrativeRowCreation:()=>u});var r=n(655),o=n(7294),a=n(3143),i=n(1437),s=n(9397),l=n(7083),u=o.memo((function(e){var t=e.onClick,n=e.clickable,u=void 0!==n&&n,c=e.size,d=void 0===c?58:c,_=(0,i.getLang)("stories_create_new_narrative"),p=o.createElement("div",{className:(0,s.classNames)("NarrativeRowCreation__preview","NarrativeRowCreation__preview--size"+d)},o.createElement(l.default,null));return o.createElement("div",(0,r.__assign)({className:(0,s.classNames)("NarrativeRowCreation NarrativeListItem",{"NarrativeRowCreation--clickable":u})},{nodrag:"true"}),o.createElement(a.NarrativeRowBase,{className:"NarrativeRowCreation__inner",title:_,onClick:t,preview:p,size:d}))}))},2610:(e,t,n)=>{"use strict";n.d(t,{NarrativeSnippet:()=>i});var r=n(7294),o=n(1437),a=n(9397),i=function(e){var t=e.className,n=e.coverUrl,i=e.title,s=e.ownerName,l=e.storyCount;return r.createElement("div",{className:(0,a.classNames)("NarrativeSnippet",t)},r.createElement("div",{className:"NarrativeSnippet__inner"},r.createElement("div",{className:"NarrativeSnippet__cover"},r.createElement("div",{className:"NarrativeSnippet__image",style:{backgroundImage:"url("+n+")"}})),r.createElement("div",{className:"NarrativeSnippet__info"},r.createElement("div",{className:(0,a.classNames)("NarrativeSnippet__title",{"NarrativeSnippet__title--empty":!i})},i||(0,o.getLang)("stories_narrative_name_full")),r.createElement("span",{className:"NarrativeSnippet__author"},s),r.createElement("span",{className:"NarrativeSnippet__description"},r.createElement("span",null,(0,o.getLang)("global_type_narrative")),r.createElement("span",{className:"dvd"}),r.createElement("span",null,(0,o.getLang)("global_narrative_stories_count",l))))))}},6943:(e,t,n)=>{"use strict";n.d(t,{StoryArchivePreview:()=>p});var r=n(655),o=n(7294),a=n(1265),i=n(1437),s=n(7975),l=n(1386),u=n(1296),c=n(81),d=n(4022),_=n(8434),p=function(e){function t(t){var n=e.call(this,t)||this;return n.videoRef=o.createRef(),n.needPauseAfterLoading=!1,n.onLinkButtonClick=function(e){var t=n.props,r=t.story,o=t.onStoryLinkUpdate,a=t.linkData;t.isDragged||((0,s.showStoryLinkEditorBox)({story:r,onStoryLinkUpdate:o,linkData:a}),e.stopPropagation())},n.onMouseEnter=function(){n.setState({isHovered:!0})},n.onMouseLeave=function(){n.setState({isHovered:!1})},n.onToggleCheck=function(){var e=n.props,t=e.onToggleCheck,r=e.story;!e.isDragged&&t&&t(r)},n.state={isHovered:!1,preloadVideo:!1,canPlayVideo:!1,isLoading:!1},n}return(0,r.__extends)(t,e),t.prototype.componentDidUpdate=function(e,t){var n=this.props,r=n.story,o=n.isDragged,a=this.state.isHovered;r.videoUrl&&(o||(!t.isHovered&&a?this.playVideo():t.isHovered&&!a&&this.pauseVideo()),!e.isDragged&&o&&this.pauseVideo(),e.isDragged&&!o&&a&&this.playVideo())},t.prototype.componentWillUnmount=function(){this.cleanVideoPlayTimeout(),this.cleanVideoPauseTimeout(),this.cleanVideoLoaderTimeout()},t.prototype.playVideo=function(e){var t=this;void 0===e&&(e=!1),null!=this.videoPauseDelayTimeout&&this.cleanVideoPauseTimeout();var n=function(){delete t.videoPlayDelayTimeout,t.videoRef.current&&(t.videoRef.current.muted=!0,t.videoRef.current.play().then((function(){var e;if(t.hideLoader(),t.setState({canPlayVideo:!0}),t.needPauseAfterLoading)return null===(e=t.videoRef.current)||void 0===e||e.pause(),void(t.needPauseAfterLoading=!1)})).catch((function(e){t.hideLoader(),console.error(e),(0,l.logError)(e)})))};e?n():null==this.videoPlayDelayTimeout&&(this.videoLoaderTimeout=setTimeout((function(){t.setState({isLoading:!0})}),800),this.setState({preloadVideo:!0}),this.videoPlayDelayTimeout=setTimeout((function(){n()}),200))},t.prototype.pauseVideo=function(e){var t=this;void 0===e&&(e=!1),null!=this.videoPlayDelayTimeout&&this.cleanVideoPlayTimeout();var n=function(){var e;if(delete t.videoPauseDelayTimeout,t.hideLoader(),t.state.canPlayVideo){var n=null===(e=t.videoRef)||void 0===e?void 0:e.current;null==n||n.pause()}else t.needPauseAfterLoading=!0};e?n():null==this.videoPauseDelayTimeout&&(this.videoPauseDelayTimeout=setTimeout((function(){n()}),200))},t.prototype.cleanVideoPlayTimeout=function(){this.videoPlayDelayTimeout&&(clearTimeout(this.videoPlayDelayTimeout),delete this.videoPlayDelayTimeout)},t.prototype.cleanVideoPauseTimeout=function(){this.videoPauseDelayTimeout&&(clearTimeout(this.videoPauseDelayTimeout),delete this.videoPauseDelayTimeout)},t.prototype.cleanVideoLoaderTimeout=function(){this.videoLoaderTimeout&&(clearTimeout(this.videoLoaderTimeout),delete this.videoLoaderTimeout)},t.prototype.hideLoader=function(){this.state.isLoading&&this.setState({isLoading:!1}),this.cleanVideoLoaderTimeout()},t.prototype.render=function(){var e=this,t=this.props,n=t.story,r=t.checked,s=t.selectable,l=t.draggable,p=t.className,h=t.isEditingLinksAvailable,m=t.needShowDate,f=this.state,v=f.preloadVideo,g=f.canPlayVideo,y=f.isLoading,w=Boolean(n.videoUrl),b=new Date(1e3*n.time);return o.createElement("div",{className:(0,a.classNames)("StoryArchivePreview","StoryPreviewContainer",p,{"StoryArchivePreview--video":w,"StoryArchivePreview--checked":r}),onClick:this.onToggleCheck,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,"data-id":n.rawId},o.createElement("div",{className:"StoryArchivePreview__wrapper"},w&&o.createElement(o.Fragment,null,v&&o.createElement("video",{className:(0,a.classNames)("StoryArchivePreview__media",{"StoryArchivePreview__media--hidden":!g}),src:n.videoUrl,ref:this.videoRef,controls:!1,preload:"metadata",loop:!0,playsInline:!0}),!g&&o.createElement("img",{className:"StoryArchivePreview__media",src:n.preview,alt:""})),!w&&o.createElement("img",{className:"StoryArchivePreview__media",src:n.preview,alt:""}),m&&o.createElement("div",{className:"StoryArchivePreview__date"},o.createElement("div",{className:"StoryArchivePreview__day"},b.getDate()),o.createElement("div",{className:"StoryArchivePreview__month"},o.createElement(c.default,null,(0,i.getLang)("months_sm_of")[b.getMonth()+1]))),l&&!m&&o.createElement("div",{className:"StoryArchivePreview__draggableIcon"}),s&&o.createElement("div",{className:(0,a.classNames)("StoryArchivePreview__select",{"StoryArchivePreview__select--on":r})}),(h||n.videoUrl)&&o.createElement("div",{className:"StoryArchivePreview__footer"},o.createElement("div",{className:"StoryArchivePreview__footerInner"},n.videoUrl&&o.createElement("div",{className:"StoryArchivePreview__play"},o.createElement(d.default,null),o.createElement("span",{className:"StoryArchivePreview__playTime"},(0,u.formatTime)(n.duration))),h&&o.createElement("div",{className:"StoryArchivePreview__linkBtn",onClick:function(t){return e.onLinkButtonClick(t)}},n.linkUrl?(0,i.getLang)("stories_edit_link"):(0,i.getLang)("stories_add_link")))),y&&o.createElement("div",{className:"StoryArchivePreview__loader"},o.createElement(_.default,{size:24,strokeWidth:3,color:"#fff"}))))},t.defaultProps={checked:!1,selectable:!1,draggable:!1,isDragged:!1,className:"",isEditingLinksAvailable:!1,onToggleCheck:function(){},onStoryLinkUpdate:function(){},linkData:[]},t}(o.PureComponent)},5735:(e,t,n)=>{"use strict";n.d(t,{StoryArchivePreviewGrid:()=>i});var r=n(655),o=n(7294),a=n(1265),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gridContainerRef=o.createRef(),t}return(0,r.__extends)(t,e),t.prototype.getGridContainer=function(){return this.gridContainerRef.current},t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=e.isScrolling;return o.createElement("div",{className:(0,a.classNames)("StoryArchivePreviewGrid",t,{"StoryArchivePreviewGrid--scrolling":r})},o.createElement("div",{className:"StoryArchivePreviewGrid__inner",ref:this.gridContainerRef},n))},t.defaultProps={className:""},t}(o.Component)},4707:(e,t,n)=>{"use strict";n.d(t,{StoryCustomCoverPreview:()=>c});var r=n(655),o=n(7294),a=n(9397),i=n(1903),s=n(902),l=n(1437),u=n(3638),c=function(e){function t(t){return e.call(this,t)||this}return(0,r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.checked,n=e.coverUrl,r=e.onToggleCheck,c=e.uploadingStatus,d=e.uploadingPercent,_=e.retryUpload,p=c===u.CoverUploadStatus.uploaded,h=c===u.CoverUploadStatus.uploading,m=c===u.CoverUploadStatus.failed,f=p;return o.createElement("div",{className:(0,a.classNames)("StoryCustomCoverPreview StoryPreviewContainer",{"StoryCustomCoverPreview--empty":h||m}),onClick:function(){f&&r()}},p&&o.createElement("div",{className:"StoryCustomCoverPreview__coverFrame"},o.createElement("div",{className:"StoryCustomCoverPreview__coverWrap"},o.createElement("img",{src:n,className:"StoryCustomCoverPreview__cover",alt:""}))),h&&o.createElement(i.StoryProgressSpinner,{percent:d}),m&&o.createElement(o.Fragment,null,o.createElement(s.default,null),o.createElement("span",{className:"StoryCustomCoverPreview__errorText"},(0,l.getLang)("stories_upload_error_text")),o.createElement("div",{className:"StoryCustomCoverPreview__repeat",onClick:_},(0,l.getLang)("stories_upload_repeat"))),f&&o.createElement("div",{className:(0,a.classNames)("StoryCustomCoverPreview__select",{"StoryCustomCoverPreview__select--on":t})}))},t.defaultProps={uploadingStatus:u.CoverUploadStatus.uploaded},t}(o.PureComponent)},5669:(e,t,n)=>{"use strict";n.d(t,{StoryLinkEditorBox:()=>v});var r=n(655),o=n(7294),a=n(1437),i=n(1150),s=n(1554),l=n(5206),u=n(9503),c=n(9211),d=n(2699),_=n(1563),p=n(5456),h=n(1386),m=n(3558),f=n(1260),v=function(e){function t(t){var n=e.call(this,t)||this;return n.inputRef=o.createRef(),n.needCleanLink=!1,n.onChangeLink=function(e){var t=(0,d.trim)(e.target.value);n.needCleanLink&&(n.needCleanLink=!1,t=n.cleanLink(t)||t),n.setState({link:t,needShowHint:!n.isLinkValid(t)})},n.onKeyUpLink=function(){var e=n.state.link;n.setState({needShowHint:!n.isLinkValid(e)})},n.onPasteLink=function(){n.needCleanLink=!0},n.onChangeLinkType=function(e){n.setState({linkType:String(e.selected.value)})},n.onSave=function(){var e,t,r,o,i=n.props.linkData,s=n.state.linkType,l=n.state.link;if(l=(0,d.trim)(l),!n.isLinkValid(l))return null===(t=null===(e=n.inputRef)||void 0===e?void 0:e.current)||void 0===t||t.focus(),null===(o=null===(r=n.inputRef)||void 0===r?void 0:r.current)||void 0===o||o.notaBene(),void n.setState({needShowHint:!0});var u=l?"https://vk.com/"+l:"";i.needShowHint?(0,_.showFastBox)((0,a.getLang)("stories_saving_link"),(0,a.getLang)("stories_link_editing_warning"),(0,a.getLang)("global_save"),(function(e){n.edit(u,s,!0,e)}),(0,a.getLang)("global_cancel")):n.edit(u,s)},n.onDelete=function(){n.props.linkData.needShowHint?(0,_.showFastBox)((0,a.getLang)("stories_deleting_link"),(0,a.getLang)("stories_link_deleting_warning"),(0,a.getLang)("global_delete"),(function(e){n.delete(e)}),(0,a.getLang)("global_cancel")):n.delete()},n.state={link:t.story.linkUrl?n.cleanLink(t.story.linkUrl):"",linkType:t.story.linkType||t.linkData.items[0].value,needShowHint:!1,isSaving:!1,isDeleting:!1},n}return(0,r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.onClose,n=e.linkData,r=this.state,i=r.linkType,d=r.link,_=r.needShowHint,p=this.isEditMode()?(0,a.getLang)("stories_edit_link_title"):(0,a.getLang)("stories_add_link_title");return o.createElement(s.BoxModal,{className:"StoryLinkEditorBox",appearance:"blue",onClose:t,title:p,actionButtons:this.getActionButtons(),hasScroll:!1},o.createElement("div",{className:"StoryLinkEditorBox__inner"},o.createElement("div",{className:"StoryLinkEditorBox__row"},o.createElement("span",{className:"StoryLinkEditorBox__label"},(0,a.getLang)("stories_link_label_url")),o.createElement("div",{className:"StoryLinkEditorBox__control"},o.createElement(c.StoryLinkHint,{open:_,text:(0,a.getLang)("stories_upload_link_format")},o.createElement("div",{className:"StoryLinkHint__input"},o.createElement(l.InputWithPrefix,{className:"StoryLinkEditorBox__input",prefix:"https://vk.com/",value:d,onChange:this.onChangeLink,onKeyUp:this.onKeyUpLink,onPaste:this.onPasteLink,autoFocus:!0,ref:this.inputRef}))))),o.createElement("div",{className:"StoryLinkEditorBox__row"},o.createElement("span",{className:"StoryLinkEditorBox__label"},(0,a.getLang)("stories_link_label_text")),o.createElement("div",{className:"StoryLinkEditorBox__control"},o.createElement(u.default,{className:"StoryLinkEditorBox__select",appearance:"secondary",options:n.items,value:i,onChange:this.onChangeLinkType})))))},t.prototype.isEditMode=function(){return Boolean(this.props.story.linkUrl)},t.prototype.isLinkValid=function(e){return Boolean(e)&&e.length>=2&&Boolean(e.match(/^[a-z0-9\/\-._%=?&@#]+$/i))&&!decodeURIComponent(e).match(/away.php/)},t.prototype.cleanLink=function(e){var t=(e=(0,d.trim)(e)).match(/[https?:\/\/]*((?:[a-z0-9_\-]+\.)+(?:[a-z]{2,9})\/)(.*?)?(\#.*?)?(?:[\.!:;,\*\(\)&]*&nbsp;|[ \t\r\n \u00A0]|$)/i);return(t&&t[2]?t[2]:"")+(t&&t[3]?t[3]:"")},t.prototype.edit=function(e,t,n,r){var o=this;void 0===e&&(e=""),void 0===t&&(t=""),void 0===n&&(n=!0);var i=this.props,s=i.onStoryLinkUpdate,l=i.onClose,u=i.story,c=i.linkData;window.ajax.post("al_stories.php",{act:"edit_link",story_raw_id:u.rawId,link_url:e,link_text:t,hash:c.editHash},{onDone:function(){l(),s(u.rawId,e,t)},onFail:function(e){(0,f.showDoneBox)(e||(0,a.getLang)("global_unknown_error"));var t="Link saving error in StoryLinkEditor"+(e?": "+e:"");return(0,h.logError)(new Error(t)),!0},showProgress:function(){n?o.setState({isSaving:!0}):o.setState({isDeleting:!0}),(0,p.lockButton)(r)},hideProgress:function(){var e;r&&(null===(e=(0,f.curBox)())||void 0===e||e.hide(),(0,p.unlockButton)(r)),n?o.setState({isSaving:!1}):o.setState({isDeleting:!1})}})},t.prototype.delete=function(e){this.edit("","",!1,e)},t.prototype.getActionButtons=function(){var e=this.props.onClose,t=this.state,n=t.isSaving,r=t.isDeleting,s=[o.createElement(i.default,{key:"close",appearance:"tertiary",onClick:function(){return e()}},(0,a.getLang)("global_cancel")),o.createElement(m.default,{loading:n,key:"save",appearance:"primary",onClick:this.onSave},this.isEditMode()?(0,a.getLang)("global_save"):(0,a.getLang)("stories_add_link"))];return this.isEditMode()&&s.unshift(o.createElement(m.default,{loading:r,appearance:"link",key:"delete",className:"StoryLinkEditorBox__extraFooterBtn",onClick:this.onDelete},(0,a.getLang)("stories_delete_link"))),s},t}(o.Component)},9211:(e,t,n)=>{"use strict";n.d(t,{StoryLinkHint:()=>a});var r=n(7294),o=n(7841),a=function(e){var t=e.text,n=e.children,a=e.open,i=void 0!==a&&a,s=r.createElement("div",{className:"StoryLinkHint"},r.createElement("div",{className:"StoryLinkHint__inner"},t));return r.createElement(o.Popper,{open:i,position:"t",align:"left",content:s},n)}},614:(e,t,n)=>{"use strict";n.d(t,{StoryLoadFile:()=>a});var r=n(7294),o=n(8124),a=function(e){var t=e.text,n=e.multiple,a=void 0!==n&&n,i=e.onFilesLoad;return r.createElement("div",{className:"StoryLoadFile StoryPreviewContainer"},r.createElement(o.default,null),r.createElement("span",{className:"StoryLoadFile__text"},t),r.createElement("input",{type:"file",className:"StoryLoadFile__input",multiple:a,onChange:function(e){var t=e.currentTarget.files;t&&i(Array.from(t))}}))}},1903:(e,t,n)=>{"use strict";n.d(t,{StoryProgressSpinner:()=>i});var r=n(7294),o=3,a=2*Math.PI*22,i=r.memo((function(e){var t=e.percent,n=void 0===t?60:t,i=e.width,s=void 0===i?24:i,l=e.height,u=void 0===l?24:l,c=(a-o)*n/100+o;return r.createElement("svg",{className:"StoryProgressSpinner",width:s,height:u,viewBox:"0 0 50 50"},r.createElement("circle",{cx:"25",cy:"25",r:22,stroke:"#fff",fill:"none",strokeWidth:"6",strokeMiterlimit:"10",strokeDashoffset:"0",strokeDasharray:c+","+a,strokeLinecap:"round"}))}))},2323:(e,t,n)=>{"use strict";n.d(t,{UploadDropBoxArea:()=>a});var r=n(7294),o=n(1437),a=function(){return r.createElement("div",{className:"UploadDropBoxArea"},r.createElement("div",{className:"UploadDropBoxArea__inner"},r.createElement("div",{className:"UploadDropBoxArea__text"},(0,o.getLang)("stories_narrative_cover_drop_hint"))))}},1285:(e,t,n)=>{"use strict";n.d(t,{UploadDropPageArea:()=>i});var r=n(7294),o=n(1437),a=n(3805),i=function(){return r.createElement(a.WithPortal,null,r.createElement("div",{className:"UploadDropPageArea"},r.createElement("div",{className:"UploadDropPageArea__inner"},r.createElement("div",{className:"UploadDropPageArea__image"}),r.createElement("div",{className:"UploadDropPageArea__text"},(0,o.getLang)("stories_drop_page_area_label")))))}},4956:(e,t,n)=>{"use strict";n.d(t,{MAX_NARRATIVE_STORIES:()=>r,NARRATIVE_MAX_TITLE_LENGTH:()=>o,BOX_ITEM_DRAGGABLE_CLASS:()=>a,SCROLL_THROTTLE_DELAY:()=>i,SCROLL_LOADING_MORE_GAP:()=>s});var r=100,o=23,a="NarrativeBox__draggable",i=34,s=400},774:(e,t,n)=>{"use strict";n.d(t,{prepareStoriesForPublishing:()=>p,updateNarrativeBlock:()=>h,highlightNarrativeBlock:()=>m,updateNarrativeSnippetsFromQueueByPost:()=>f});var r=n(4914),o=n(1260),a=n(3170),i=n(6886),s=n(7999),l=n(2998),u=n(3420),c=n(5283),d=n(1386),_=n(6353);function p(e){return e.map((function(e){return e.id})).join(",")}function h(e){void 0===e&&(e=!1);var t=(0,s.intval)(window.cur.oid);if(window.cur.narrativeBlock)window.ajax.post("al_stories.php",{act:"get_narrative_block",owner_id:t},{onDone:function(e){var t=(0,s.intval)(window.cur.oid),n=document.getElementById("narratives_module"+t+"_wrapper");if(n)if(e)(0,r.domReplaceEl)(n,e),window.cur.narrativeBlock&&window.cur.narrativeBlock.destroy(),window.NarrativeBlock&&(window.cur.narrativeBlock=new l.default);else{var o=n.parentElement;(null==o?void 0:o.children.length)&&(null==o?void 0:o.children.length)>1?n.remove():null==o||o.remove(),window.cur.narrativeBlock&&window.cur.narrativeBlock.destroy(),delete window.cur.narrativeBlock}(0,c.removeStoryList)("narratives"+t)}});else if(t>0&&"profile"===window.cur.module){var n=document.getElementById(u.PROFILE_MEDIA_NARROW_BLOCK_ID),a=!n;window.ajax.post("al_stories.php",{act:"get_narrative_block",owner_id:t,need_wrap_block:(0,s.intval)(a)},{onDone:function(e){if(n)n.insertAdjacentHTML("afterbegin",e);else{var r=document.getElementById("narrow_column");if(!r)return;r.insertAdjacentHTML("beforeend",e)}window.cur.narrativeBlock&&window.cur.narrativeBlock.destroy(),window.NarrativeBlock&&(window.cur.narrativeBlock=new l.default,window.cur.narrativeBlock.showOnboardTooltipIfNeeded()),(0,c.removeStoryList)("narratives"+t)}})}else e&&function(e){window.boxQueue.hideAll();var t=document.querySelector("#box_layer_wrap"),n=document.querySelector("#box_loader");window.nav.reload({onDone:function(){e&&e()},showProgress:function(){(0,r.show)(t),(0,r.show)(n),(0,o.boxRefreshCoords)(n)},hideProgress:function(){(0,r.hide)(t),(0,r.hide)(n)}})}((function(){window.cur.needNarrativeOnboard=!0}))}function m(e){if(e){var t="narratives_module"+window.vk.id;(0,a.highlightModule)({module:t,text:(0,i.getLang)("stories_narrative_block_onboarding_text"),onClose:function(){delete window.cur.needNarrativeOnboard,window.ajax.post("al_index.php",{act:"hide_feature_tt",hash:e,type:"profile_narrative"})},autoCancelDelay:1e4,speed:600})}}function f(e){if(window.vk.id&&(0,_.partConfigEnabled)("update_private_snippets_by_queue")){var t=Array.from(e.querySelectorAll(".NarrativeSnippet"));if(t.length){var n=[];t.forEach((function(e){if(window.vk.id&&e.dataset.needUpdate){var t=e.dataset.narrativeRawId;t&&n.push({narrative_raw_id:t,snippet_type:e.dataset.snippetType,from:e.dataset.from})}})),n.length&&window.ajax.post("al_stories.php",{act:"get_narrative_snippets",narrative_snippets:JSON.stringify(n)},{onDone:function(e){t.forEach((function(t){t.dataset.narrativeRawId&&e[t.dataset.narrativeRawId]&&(t.outerHTML=e[t.dataset.narrativeRawId])}))},onFail:function(){return(0,d.logError)(new Error("Fail: updateNarrativeSnippetFromQueueByPost")),!0}})}}}},7975:(e,t,n)=>{"use strict";n.d(t,{showNarrativeEditorBox:()=>b,showNarrativeBox:()=>E,showStoryLinkEditorBox:()=>C,showNarrativeCropCoverBox:()=>D});var r=n(655),o=n(7294),a=n(9727),i=n(8862),s=n(897),l=n(8909),u=n(4344),c=n(1260),d=n(6886),_=n(5456),p=n(1563),h=(n(5464),n(127),n(5669)),m=n(1386),f=n(6689),v=n(469),g=n(5984),y=n(3638),w=560;function b(e,t){void 0===t&&(t={});var n={},l=t.narrative,u=t.onClose,_=t.onSave,p=t.navScreen,h=t.stories,v=t.selectedStories,g=void 0===v?[]:v,w=t.publishHash,b=t.editHash,E=t.linkData,C=t.isEditingLinksAvailable,D=t.storiesCount,k=t.coverUploadConfig,P=t.getPublishDoneHTML,x=!1;function T(){window.stManager.add(["NarrativeEditor.css"]).then((function(){n.box=(0,s.showComponentInBox)(I(),{width:638,onDestroy:function(e){(0,s.destroyComponentInBox)(e),u&&u(x)}})})).catch((function(e){console.error(e),(0,m.logError)(e)}))}function S(){return(null==h?void 0:h.length)?new Promise((function(t,n){if(!(null==h?void 0:h.length))return n("empty stories");window.ajax.post("al_stories.php",{act:"get_archive_stories",owner_id:e,offset:h.length},{onDone:function(e,o){if(h){h=(0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(h)),(0,r.__read)(e));var a=(D=o)>h.length;t(a),M()}else n("empty stories after loading")},onFail:function(e){return n(e),!0}})})):Promise.reject("empty stories")}function B(e){x=!0,_&&_(e)}function O(e){n.box&&n.box.hide(),e&&e()}function M(){(null==h?void 0:h.length)&&w&&b&&(0,s.updateCurrentComponentInBox)(I())}function L(e,t,n){if(null==h?void 0:h.length){var o=function(o){return null==o?void 0:o.map((function(o){return o.rawId===e?(0,r.__assign)((0,r.__assign)({},o),{linkUrl:t,linkType:n}):o}))};h=o(h),g=o(g)||[],M()}}function I(){if((null==h?void 0:h.length)&&w&&b&&D&&k){var t=h.reduce((function(e,t){return e[t.id]=t,e}),{});t=g.reduce((function(e,t){return e[t.id]=t,e}),t);var n=h.map((function(e){return e.id})),r=g.map((function(e){return e.id})),s=l?a.EditorModeType.edit:a.EditorModeType.create,u=(null==l?void 0:l.title)?(0,i.decodeHTMLEntities)(l.title):"",c=D>h.length,d=l?(0,y.getPreparedCover)(l):void 0;return o.createElement(f.NarrativeEditor,{ownerId:e,type:s,name:u,narrativeRawId:null==l?void 0:l.rawId,cover:d,selectedStoryIds:r,storyIds:n,hasMore:c,storyMap:t,close:O,loadMore:S,onSave:B,publishHash:w,editHash:b,linkData:E,isEditingLinksAvailable:C,onStoryLinkUpdate:L,appearance:a.EditorViewType.box,navScreen:p,coverUploadConfig:k,getPublishDoneHTML:P})}}h&&w&&b&&D&&k?T():new Promise((function(t,n){window.ajax.post("al_stories.php",{act:"get_narrative_editor_data",owner_id:e},{loader:!0,onDone:function(e){h=e.stories,D=e.storiesCount,w=e.publishHash,b=e.editHash,E=e.linkData,C=e.isEditingLinksAvailable,k=e.coverUploadConfig,t([h,D,w,b,E,C,k])},onFail:function(e){return n(e),!0}})})).then((function(){T()})).catch((function(e){(0,c.showDoneBox)(e||(0,d.getLang)("global_error")),(0,m.logError)(e)}))}function E(e){var t=e.ownerId,n=e.onClose,a=e.onSave,i=e.onRemove,h=e.onReorder,m=e.navScreen,f={narratives:[],ownerId:t,boxAct:"get_narrative_box_data"},g=!1;function y(){return P(f).then((function(){b()})).catch((function(e){(0,c.showDoneBox)(e||(0,d.getLang)("global_error"))}))}function b(){if(f.boxData){var e=f.boxData.canEdit?u.BoxType.edit:u.BoxType.view;(0,s.updateCurrentComponentInBox)(o.createElement(l.NarrativeBox,{type:e,boxData:f.boxData,narratives:f.narratives,onClose:x,onSave:E,onRemove:C,onBookmark:S,onReorder:T,loadMore:y,navScreen:m}))}}function E(e){a&&a(e),g=!0}function C(e){var t,n,r;t=e,n={title:(0,d.getLang)("global_warning")},r=function(e){var n=f.boxData;n&&window.ajax.post("al_stories.php",{act:"remove_narrative",narrative_raw:t.rawId,hash:n.removeHash},{onDone:function(){n.count-=1,(0,v.sendNarrativeAnalytic)(v.NarrativeAnalyticEventType.deleteNarrative,t,m),f.narratives=f.narratives.filter((function(e){return e.rawId!==t.rawId})),b(),(0,c.showDoneBox)((0,d.getLang)("stories_deleted_narrative")),i&&i()},onFail:function(e){return(0,c.showDoneBox)(e||(0,d.getLang)("global_error")),!0},showProgress:function(){return(0,_.lockButton)(e)},hideProgress:function(){(0,c.curBox)().hide(),(0,_.unlockButton)(e)}})},(0,p.showFastBox)(n,(0,d.getLang)("stories_narrative_remove_warning"),(0,d.getLang)("stories_remove_confirm"),r,(0,d.getLang)("global_cancel"))}function D(){g&&x()}function x(){f.box&&f.box.hide()}function T(e){f.narratives=e,b(),h&&h()}function S(e){e.isBookmarked=!e.isBookmarked,b()}k(f).then((function(e){var t=(0,r.__read)(e,3),a=t[0],i=t[1],c=t[2];f.narratives=a,f.boxData=i,f.startFrom=c,f.box=function(e,t){var r=t.canEdit?u.BoxType.edit:u.BoxType.view;return(0,s.showComponentInBox)(o.createElement(l.NarrativeBox,{type:r,boxData:t,narratives:e,loadMore:y,onClose:x,onSave:E,onReorder:T,onBookmark:S,onRemove:C,navScreen:m}),{width:w,onShow:D,onDestroy:function(e){(0,s.destroyComponentInBox)(e),n&&n()}})}(a,i)})).catch((function(e){(0,c.showDoneBox)(e||(0,d.getLang)("global_error")),n&&n()}))}function C(e){var t=e.story,n=e.onClose,a=e.onStoryLinkUpdate,i=e.linkData;t.linkType&&t.linkText&&(i.items.find((function(e){return e.value===t.linkType}))||(i=(0,r.__assign)((0,r.__assign)({},i),{items:(0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(i.items)),[{value:t.linkType,label:t.linkText}])})));var l=(0,s.showComponentInBox)(o.createElement(h.StoryLinkEditorBox,{story:t,onClose:function(){l&&l.hide()},onStoryLinkUpdate:a,linkData:i}),{width:450,onDestroy:function(e){(0,s.destroyComponentInBox)(e),n&&n()}})}function D(e){var t=e.coverUrl,n=e.coverHeight,r=e.coverWidth,a=e.thumbHeight,i=e.thumbWidth,l=e.onClose,u=e.onSave,c=e.crop,d=(0,s.showComponentInBox)(o.createElement(g.NarrativeCoverCropper,{coverUrl:t,coverHeight:n,coverWidth:r,thumbHeight:a,thumbWidth:i,onClose:function(){d&&d.hide()},onSave:u,crop:c}),{width:638,onDestroy:function(e){(0,s.destroyComponentInBox)(e),l&&l()}})}function k(e,t){return void 0===t&&(t=!1),new Promise((function(n,r){window.ajax.post("al_stories.php",{act:e.boxAct,owner_id:e.ownerId,start_from:e.startFrom,track_code:e.trackCode},{loader:!e.narratives.length&&!t,onDone:function(e,t,r){n([e,t,r])},onFail:function(e){return r(e),!0}})}))}function P(e){return k(e).then((function(t){var n,o=(0,r.__read)(t,3),a=o[0],i=o[2];return e.narratives=(null===(n=e.narratives)||void 0===n?void 0:n.concat(a))||a,e.startFrom=i,a}))}},2098:(e,t,n)=>{"use strict";n.d(t,{hideAllLayers:()=>c});n(4624);var r=n(7685),o=n(4914),a=(n(1260),[]),i=function(){window.cur.storyLayer&&window.cur.storyLayer.onVisibilityChange()},s=function(){window.cur.storyLayer&&window.cur.storyLayer.onResize()},l=function(e){window.cur.storyLayer&&window.cur.storyLayer.onKeyDown(e)},u=function(e){window.cur.storyLayer&&window.cur.storyLayer.onKeyUp(e)};function c(e){void 0===e&&(e=!1);for(var t=0;t<a.length;t++)a[t].hide(!0);if(window.layers.fullhide=!1,(0,o.removeClass)(document.body,"stories_layer_shown"),(0,o.re)("stories_layers_background"),(0,r.removeEvent)(window,"visibilitychange",i),(0,r.removeEvent)(window,"resize",s),(0,r.removeEvent)(document,"keydown",l),(0,r.removeEvent)(document,"keyup",u),e){var n=window.nav.objLoc;delete n.w,window.nav.setLoc(n)}window.cur.needUpdateFeedStories&&window.Stories.updateFeedStories(),a=[]}window.LayersX=a},5283:(e,t,n)=>{"use strict";n.d(t,{removeStoryList:()=>r});n(5797),n(4914);function r(e){delete window.cur["stories_list_"+e]}},7534:(e,t,n)=>{"use strict";n.d(t,{createAppearanceModifier:()=>o,createSizeModifier:()=>a,createElement:()=>i,setContent:()=>s});var r=n(2459);function o(e){return"FlatButton--"+e}function a(e){return"FlatButton--size-"+e}function i(e,t){var n=document.createElement(e);return t&&(n.className=t),n}function s(e,t){null!=t&&((0,r.emptyNode)(e),"string"==typeof t?e.innerHTML=t:e.appendChild(t))}},3078:(e,t,n)=>{"use strict";n.d(t,{FlatButton:()=>c});var r=n(9397),o=n(7874),a=n(5410),i=n(7534),s=n(7401),l=n(8358);function u(e){return!!e&&e.classList.contains("FlatButton--locked")}var c={isFlatButton:function(e){return Boolean(e&&e.classList&&e.classList.contains("FlatButton"))},lock:function(e){if(e&&!u(e)){var t=e.classList.contains((0,i.createSizeModifier)(s.FlatButtonSize.L)),n=t?(0,a.getIcon24Spinner)().icon:(0,o.getIcon16Spinner)().icon,l=(0,i.createElement)("span",(0,r.classNames)("FlatButton__spinner",{"FlatButton__spinner--l":t}));l.innerHTML=n,e.appendChild(l),e.classList.add("FlatButton--locked")}},unlock:function(e){var t;e&&(null===(t=e.querySelector(".FlatButton__spinner"))||void 0===t||t.remove(),e.classList.remove("FlatButton--locked"))},isLocked:u,render:l.render,setDisabled:function(e,t){void 0===t&&(t=!0),e&&("button"===e.tagName.toLowerCase()&&(e.disabled=t),e.classList.toggle("FlatButton--disabled",t))},setAppearance:function(e,t){e&&Object.values(s.FlatButtonAppearance).forEach((function(n){e.classList.toggle((0,i.createAppearanceModifier)(n),n===t)}))},setSize:function(e,t){e&&Object.values(s.FlatButtonSize).forEach((function(n){e.classList.toggle((0,i.createSizeModifier)(n),n===t)}))},setLabel:function(e,t){var n=null==e?void 0:e.querySelector(".FlatButton__content");n&&(0,i.setContent)(n,t)},setBefore:function(e,t){var n=null==e?void 0:e.querySelector(".FlatButton__in");if(n){var r=e.querySelector(".FlatButton__before");null!=t?r?(0,i.setContent)(r,t):n.prepend((0,l.renderBefore)(t)):null==r||r.remove()}},setAfter:function(e,t){var n=null==e?void 0:e.querySelector(".FlatButton__in");if(n){var r=e.querySelector(".FlatButton__after");null!=t?r?(0,i.setContent)(r,t):n.prepend((0,l.renderAfter)(t)):null==r||r.remove()}}}},8358:(e,t,n)=>{"use strict";n.d(t,{render:()=>i,renderBefore:()=>s,renderAfter:()=>l});var r=n(655),o=n(9397),a=n(7534);function i(e){var t,n=e.children,i=e.before,u=e.after,c=e.className,d=e.appearance,_=e.size,p=e.round,h=e.wide,m=e.flexWide,f=e.href,v=e.disabled,g=e.restAttrs,y=void 0===g?{}:g,w=(0,r.__assign)({},y);f?(t=document.createElement("a"),w.href=f):(t=document.createElement("button"),w.type||(w.type="button")),t.className=(0,o.classNames)("FlatButton",(0,a.createAppearanceModifier)(d),(0,a.createSizeModifier)(_),{"FlatButton--round":p,"FlatButton--wide":h,"FlatButton--flexWide":m,"FlatButton--disabled":v},c),Object.entries(w).forEach((function(e){var n=(0,r.__read)(e,2),o=n[0],a=n[1];null!=a&&t.setAttribute(o,String(a))})),v&&"button"===t.tagName.toLowerCase()&&(t.disabled=!0);var b=(0,a.createElement)("span","FlatButton__in");t.appendChild(b);var E=(0,a.createElement)("span","FlatButton__content");return(0,a.setContent)(E,n),i&&b.appendChild(s(i)),b.appendChild(E),u&&b.appendChild(l(u)),t}function s(e){var t=(0,a.createElement)("span","FlatButton__before");return(0,a.setContent)(t,e),t}function l(e){var t=(0,a.createElement)("span","FlatButton__after");return(0,a.setContent)(t,e),t}},7401:(e,t,n)=>{"use strict";n.d(t,{FlatButtonAppearance:()=>r,FlatButtonSize:()=>o});var r={PRIMARY:"primary",SECONDARY:"secondary",TERTIARY:"tertiary",POSITIVE:"positive",OVERLAY_PRIMARY:"overlay-primary"},o={S:"s",M:"m",L:"l"}},3845:(e,t,n)=>{"use strict";n.d(t,{UnauthActionBox:()=>d});var r=n(655),o=n(6238),a=n(6471),i=n(8775),s=n(1563),l=n(9397),u=n(3841),c=n(2419);var d={show:function(e,t){var n=e.withForm,d=new s.MessageBox({title:"",width:n?796:450,hideButtons:!0,containerClass:(0,l.classNames)("UnauthActionBoxContainer",{"UnauthActionBoxContainer--form":n}),onHide:function(){t&&t()}});d.content(e.html),d.changed=!0;var _=d.bodyNode.querySelector(".UnauthActionBox__close"),p=d.bodyNode.querySelector(".UnauthActionBox__join"),h=d.bodyNode.querySelector(".UnauthActionBox__login"),m=function(t){o.marketingTransitionItemStat.logEvent(a.MarketingTransitionItemCampaignType.UNAUTH_ACTION_BOX,t,e.action,window.location.href)};null==_||_.addEventListener("click",(function(){m(a.MarketingTransitionItemEventType.CLOSE),d.hide()})),null==p||p.addEventListener("click",(function(){m(a.MarketingTransitionItemEventType.CLICK_SIGN_UP),(0,i.showJoinBox)()})),null==h||h.addEventListener("click",(function(){m(a.MarketingTransitionItemEventType.CLICK_SIGN_IN),(0,i.showQuickLoginBox)()})),m(a.MarketingTransitionItemEventType.OPEN),d.show();var f=d.bodyNode.querySelector(".LoginCombinedBox"),v=d.bodyNode.querySelector(".JoinForm"),g=function(e){e.preventDefault(),m(a.MarketingTransitionItemEventType.CLOSE),d.hide()};return d.bodyNode.querySelectorAll(".LoginBox").forEach((function(e){(0,u.initLoginBoxForm)(e)})),d.bodyNode.querySelectorAll(".LoginBox__notNow").forEach((function(e){e.addEventListener("click",g)})),d.bodyNode.querySelectorAll(".JoinForm__signIn, .LoginRecentBox__alternative").forEach((function(e){e.addEventListener("click",(function(){m(a.MarketingTransitionItemEventType.CLICK_SIGN_IN)}))})),d.bodyNode.querySelectorAll(".LoginBox__buttonSignUp").forEach((function(e){e.addEventListener("click",(function(){m(a.MarketingTransitionItemEventType.CLICK_SIGN_UP)}))})),f?(0,u.initLoginCombinedBoxForm)(f,e.formOptions):v&&(0,c.initJoinForm)(v,(0,r.__assign)((0,r.__assign)({},e.formOptions),{onSignInClick:function(){(0,i.showQuickLoginBox)()},onNotNowClick:g,ref:"box"})),requestAnimationFrame((function(){return window.tooltips&&window.tooltips.hideAll()})),d}}},4854:(e,t,n)=>{"use strict";n.d(t,{isUnauthorizedMediaLayerBoxAvailable:()=>s,UnauthorizedSourceType:()=>i.UnauthorizedSourceType,Unauthorized:()=>u});var r,o=n(3845),a=n(6353),i=n(576);function s(){return!window.vk.id&&!window.layers.visible&&(0,a.partConfigEnabled)("unauthorized_media_layer_box")&&!!document.querySelector(".PageBottomBanner--unauth")}var l=!1;var u={initScrollMoreBox:function(e){var t,n=function(){l=!1,window.removeEventListener("scroll",r)};n(),r=function(){var t;l||((null===(t=window.layers)||void 0===t?void 0:t.visible)||window.cur.unauthScrollMoreBox||window.pageYOffset>=2*window.innerHeight&&(l=!0,o.UnauthActionBox.show(e)))},e.showOnLoad&&(l=!0,o.UnauthActionBox.show(e)),window.addEventListener("scroll",r),null===(t=window.cur.beforeNavigateRequestHandlers)||void 0===t||t.push((function(){return n()}))},showMoreBox:function(e,t,n,r){e&&e.preventDefault(),window.ajax.post("/al_index.php?act=a_unauthorized_box",{action:"more",owner_id:t,source:n},{loader:!0,onDone:function(e){e.unauth_action_box?o.UnauthActionBox.show(e.unauth_action_box,r):r&&r()}})}}},155:(e,t,n)=>{"use strict";n.d(t,{WallDataEvents:()=>a,emitEvent:()=>s});n(655);var r=n(793),o=n(7451),a={post_reactions_counts_update:"wall/post_reactions_counts_update",reply_reactions_counts_update:"wall/reply_reactions_counts_update"},i=(0,o.makeSharedState)("wall-data",(function(){return{emitter:new r.default,keyedListeners:Object.create(null)}})),s=function(e,t){i().emitter.emit(e,t)}},8354:(e,t,n)=>{"use strict";n.d(t,{updateAriaLabelCounter:()=>a});var r=n(6886),o=n(8155),a=function(e,t,n){if("number"==typeof t&&e instanceof HTMLElement&&e.classList.contains("PostBottomAction")){var a=function(e){var t=void 0;switch(e){case o.LikeButtonTypes.comment:t=(0,r.getLang)("likes_comments_N_aria_short","raw");break;case o.LikeButtonTypes.like:t=(0,r.getLang)("likes_likes_N_aria_short","raw");break;case o.LikeButtonTypes.share:t=(0,r.getLang)("likes_shares_N_aria_short","raw")}return t}(n);if(a){var i=(0,r.langNumeric)(t,a,!1);e.setAttribute("aria-label",i)}}}},1150:(e,t,n)=>{"use strict";n.d(t,{default:()=>i});var r=n(655),o=n(7294),a=n(9397);const i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.appearance,i=e.wide,s=e.overflow,l=e.size,u=(0,r.__rest)(e,["className","appearance","wide","overflow","size"]),c=e.disabled,d=a.classNames.apply(void 0,(0,r.__spreadArray)((0,r.__spreadArray)(["Button"],(0,r.__read)(function(e){return Array.isArray(e)?e.map((function(e){return"Button--"+e})):["Button--"+e]}(n))),["Button--size-"+l,{"Button--wide":i,"Button--overflow":!!s,"Button--disabled":c},t]));return o.createElement("button",(0,r.__assign)({},u,{className:d}),e.children)},t.defaultProps={appearance:"primary",size:"m",wide:!1,disabled:!1},t}(o.Component)},3558:(e,t,n)=>{"use strict";n.d(t,{default:()=>l});var r=n(655),o=n(7294),a=n(9397),i=n(767),s=n(1150);const l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.loading,l=e.children,u=(0,r.__rest)(e,["className","loading","children"]),c=["primary","positive"].some((function(e){return e===u.appearance}));return o.createElement(s.default,(0,r.__assign)({},u,{className:(0,a.classNames)("ButtonWithProgress",{"ButtonWithProgress--loading":n},t)}),o.createElement("span",{className:"ButtonWithProgress__content"},l),n&&o.createElement(i.default,{inverted:c,className:"ButtonWithProgress__progress"}))},t.defaultProps={appearance:"primary",size:"m",wide:!1,disabled:!1,loading:!1},t}(o.Component)},81:(e,t,n)=>{"use strict";n.d(t,{default:()=>a});var r=n(655),o=n(7294);const a=function(e){var t=e.children,n=e.element,a=void 0===n?"span":n,i=e.className,s=(0,r.__rest)(e,["children","element","className"]),l=t?String(t):"",u=a;return o.createElement(u,(0,r.__assign)({},s,{dangerouslySetInnerHTML:{__html:l},className:i||""}))}},1189:(e,t,n)=>{"use strict";n.d(t,{ModalBody:()=>a});var r=n(7294),o=n(2237),a=function(e){var t=e.children,n=e.hasScroll;return void 0===n||n?r.createElement(o.Scroll,{className:"ModalBody"},t):r.createElement("div",{className:"ModalBody"},t)}},4415:(e,t,n)=>{"use strict";n.d(t,{ModalFooter:()=>a});var r=n(7294),o=n(9397),a=function(e){var t=e.className,n=e.actionButtons,a=e.hint,i=e.children;return r.createElement("div",{className:(0,o.classNames)("ModalFooter",t)},r.createElement("div",{className:"ModalFooter__inner"},a&&r.createElement("div",{className:"ModalFooter__hint"},a),i&&r.createElement("div",{className:"ModalFooter__content"},i),n))}},8480:(e,t,n)=>{"use strict";n.d(t,{ModalHeader:()=>a});var r=n(7294),o=n(9397),a=function(e){var t=e.className,n=e.title,a=e.onClose,i=e.backText,s=e.onBack,l=(0,o.classNames)("ModalHeader",t);return r.createElement("div",{className:l},i&&r.createElement("button",{className:"ModalHeader__back",onClick:s},i),r.createElement("h1",{className:"ModalHeader__title"},n),r.createElement("button",{className:"ModalHeader__cross",type:"button",onClick:a},"Закрыть"))}},7277:(e,t,n)=>{"use strict";n.d(t,{Targets:()=>r,PhotoAreaSelector:()=>_});var r,o=n(655),a=n(7294),i=n(9397),s=n(4744);!function(e){e.NONE="none",e.MAIN="main",e.PREVIEW_50="50",e.PREVIEW_100="100",e.NW="nw",e.NE="ne",e.N="n",e.SW="sw",e.SE="se",e.S="s",e.W="w",e.E="e"}(r||(r={}));var l=[r.NW,r.NE,r.N,r.SW,r.SE,r.S,r.W,r.E],u=[r.NW,r.NE,r.SW,r.SE],c=[r.MAIN,r.PREVIEW_50,r.PREVIEW_100],d=(0,o.__spreadArray)((0,o.__spreadArray)([],(0,o.__read)(l)),(0,o.__read)(c)),_=function(e){var t=e.className,n=e.minWidth,_=e.minHeight,h=e.rect,m=e.rotate,f=void 0===m?0:m,v=e.onCropUpdated,g=e.preview50,y=void 0!==g&&g,w=e.preview100,b=void 0!==w&&w,E=e.isSquare,C=void 0!==E&&E,D=(0,a.useRef)(null),k=C?1:e.minAspectRatio||1,P=C?1:e.maxAspectRatio||1,x=C?u:l,T=h||(0,s.getInitRect)(e),S=(0,o.__read)((0,s.getThumbSize)(e,T),7),B=S[0],O=S[1],M=S[2],L=S[3],I=S[4],A=S[5],N=S[6];function R(e){return e*N}function F(e){return e/N}var W=(0,s.getInitCrop)(e,T,k,P,F),U=(0,o.__read)((0,a.useState)(r.NONE),2),j=U[0],H=U[1],K=(0,o.__read)((0,a.useState)(W),2),V=K[0],z=K[1],q=(0,o.__read)((0,a.useState)(W),2),G=q[0],$=q[1],Y=(0,o.__read)((0,a.useState)({x:0,y:0}),2),X=Y[0],Q=Y[1],J=(0,o.__read)((0,a.useState)({x:0,y:0}),2),Z=J[0],ee=J[1],te=(0,o.__read)((0,a.useState)({x:0,y:0}),2),ne=te[0],re=te[1],oe=(0,o.__read)((0,a.useState)(!1),2),ae=oe[0],ie=oe[1],se=(0,o.__read)((0,a.useState)(!1),2),le=se[0],ue=se[1];(0,a.useEffect)((function(){var t=(0,s.getInitCrop)(e,T,k,P,F);t.left===V.left&&t.top===V.top&&t.width===V.width&&t.height===V.height||(z(t),$(t)),v({left:Math.floor(t.left),top:Math.floor(t.top),width:Math.floor(t.width),height:Math.floor(t.height)})}),[f]);var ce=d.reduce((function(e,t){var n;return e[t]=(n=t,function(e){var t=e.pageX,o=e.pageY,a=(0,s.getXY)(D.current),i={x:V.left,y:V.top};if(l.includes(n)){var u=[n.charAt(0),n.length>1?n.charAt(1):n.charAt(0)];i={x:i.x+(u[1]==r.W?0:V.width),y:i.y+(u[0]==r.N?0:V.height)}}H(n),Q(a),$(V),ee({x:t,y:o}),re(i),ie(!0),e.stopPropagation(),e.preventDefault()}),e}),{}),de=function(e){var t={x:e.pageX,y:e.pageY};c.includes(j)?((0,s.move)(T,V,G,Z,t,z,F),document.body.style.cursor="move"):l.includes(j)&&((0,s.resize)(T,t,ne,V,j,X,n,_,k,P,F,re,H,z),document.body.style.cursor=j+"-resize"),e.stopPropagation(),e.preventDefault()},_e=function(e){H(r.NONE),ie(!1),v(V),document.body.style.cursor="",e.stopPropagation(),e.preventDefault()};(0,a.useEffect)((function(){return ae?(window.addEventListener("mousemove",de),window.addEventListener("mouseup",_e)):(window.removeEventListener("mousemove",de),window.removeEventListener("mouseup",_e)),function(){window.removeEventListener("mousemove",de),window.removeEventListener("mouseup",_e)}}),[ae,de,_e]);var pe=(0,i.classNames)("PhotoAreaSelector",ae?"PhotoAreaSelector--drag-yes":"PhotoAreaSelector--drag-no",t),he=(0,o.__read)((0,s.rectToThumbSize)(V,T,R),6),me=he[0],fe=he[1],ve=he[2],ge=he[3],ye=he[4],we=he[5],be=f%4*90,Ee="center";return 1===f?Ee=L/2+"px "+L/2+"px":3===f&&(Ee=M/2+"px "+M/2+"px"),a.createElement("div",{className:pe},a.createElement("div",{className:"PhotoAreaSelector__mainWrapper",style:{width:B,height:O}},a.createElement("div",{className:"PhotoAreaSelector__frameWrapper",style:{width:B,height:O}},a.createElement("img",{src:e.imgSrc,style:{transformOrigin:Ee,width:M,height:L,willChange:"transform",transform:"translate("+I+"px, "+A+"px) rotate("+be+"deg)"},ref:D})),a.createElement("div",{className:"PhotoAreaSelector__faded"}),a.createElement("div",{className:"PhotoAreaSelector__linza",style:{width:me,height:fe}},a.createElement("div",{className:"PhotoAreaSelector__linzaFrame",style:{transform:"translate("+ve+"px, "+ge+"px)"},onMouseDown:ce[r.MAIN]},a.createElement("div",{className:"PhotoAreaSelector__linzaBorder"},a.createElement("img",{className:(0,i.classNames)("PhotoAreaSelector__linzaImage",{"PhotoAreaSelector__linzaImage--loaded":le}),onLoad:function(){return ue(!0)},src:e.imgSrc,style:{transformOrigin:Ee,width:M,height:L,transform:"translate("+-ye+"px, "+-we+"px) rotate("+be+"deg)"}})))),a.createElement(a.Fragment,null,x.map((function(e){var t=0,n=0;if(1===e.length)e===r.N||e===r.S?(t=R(V.left+V.width/2)-5,n=R(V.top+(e===r.N?0:V.height))-5):(t=R(V.left+(e===r.W?0:V.width))-5,n=R(V.top+V.height/2)-5);else{var o=e.charAt(0),s=e.charAt(1);t=R(V.left+(s===r.W?0:V.width))-5,n=R(V.top+(o===r.N?0:V.height))-5}var l=(0,i.classNames)("PhotoAreaSelector__handler","PhotoAreaSelector__handler--type-"+e,ae?"PhotoAreaSelector__handler--dragged-yes":"PhotoAreaSelector__handler--dragged-no");return a.createElement("div",{key:e,className:l,style:{transform:"translate("+t+"px, "+n+"px)"},onMouseDown:ce[e]})})))),C&&(y||b)?a.createElement("div",{className:"PhotoAreaSelector__previewsWrapper"},b&&p(100,V,T,e,ce[r.PREVIEW_50]),y&&p(50,V,T,e,ce[r.PREVIEW_100])):null)};function p(e,t,n,r,o){var s=r.imgWidth,l=r.imgHeight,u=r.rotate,c=void 0===u?0:u,d=(0,i.classNames)("PhotoAreaSelector__preview","PhotoAreaSelector__preview--"+e),_=(0,i.classNames)("PhotoAreaSelector__previewWrapper","PhotoAreaSelector__previewWrapper--"+e),p=-Math.floor((n.left+t.left)*e/t.width),h=-Math.floor((n.top+t.top)*e/t.width),m=Math.ceil(s*e/t.width),f=Math.ceil(l*e/t.height),v=c%4*90,g="center";return 1===c?g=f/2+"px "+f/2+"px":3===c&&(g=m/2+"px "+m/2+"px"),a.createElement("div",{className:d},a.createElement("div",{onMouseDown:o,className:_},a.createElement("img",{src:r.imgSrc,style:{width:m,height:f,transformOrigin:g,willChange:"transform",transform:"translate("+p+"px, "+h+"px) rotate("+v+"deg)"}})))}},4744:(e,t,n)=>{"use strict";n.d(t,{resize:()=>a,move:()=>i,getInitRect:()=>s,getThumbSize:()=>l,getInitCrop:()=>u,rectToThumbSize:()=>c,getXY:()=>_});var r=n(655),o=n(7277);function a(e,t,n,r,a,i,s,l,u,c,_,h,m,f){var v=function(e,t,n,r){return{x:p(Math.max(0,r(e.x-t.x)-n.left)),y:p(Math.max(0,r(e.y-t.y)-n.top))}}(t,i,e,_),g=v.x-n.x,y=v.y-n.y;if(s=_(s),l=_(l),g||y){var w=e.width,b=e.height,E=r.left,C=r.top,D=r.width,k=r.height,P=0,x=0;2===a.length?(P=a.startsWith(o.Targets.N)?-1:1,x=a.charAt(1)===o.Targets.W?-1:1):(P=a===o.Targets.N?-1:a===o.Targets.S?1:0,x=a===o.Targets.W?-1:a===o.Targets.E?1:0),P&&k+d(P)*y<l/2&&(P=-P,y=v.y-(r.top+(P>0?r.height:0))),x&&D+d(x)*g<s/2&&(x=-x,g=v.x-(r.left+(x>0?r.width:0)));var T=P?d(P):0,S=x?d(x):0;u>0&&D+S*g<(k+T*y)*u&&(x?g=S*Math.ceil((k+T*y)*u-D):y=T*Math.floor(D/u-k)),c>0&&D+S*g>(k+T*y)*c&&(P?y=T*Math.ceil((D+S*g)/c-k):g=S*Math.floor(k*c-D)),P&&((k+=d(P)*y)<l?(C-=P>0?0:l-k-y,k=l):C+=P>0?0:y),x&&((D+=d(x)*g)<s?(E-=x>0?0:s-D-g,D=s):E+=x>0?0:g);var B=0,O=0,M=0,L=0;E<0?(B=E,E=0):D>w-E&&(B=w-E-D),B&&(D+=B,u>0&&D<u*k&&(k+=L=Math.floor(D/u)-k,C-=P>0?0:L)),C<0?(O=C,C=0):k>b-C&&(O=b-C-k),O&&(k+=O,c>0&&D>c*k&&(D+=M=Math.floor(k*c)-D,E-=x>0?0:M));var I=P>0?o.Targets.S:P<0?o.Targets.N:"",A=x>0?o.Targets.E:x<0?o.Targets.W:"",N={left:p(E),top:p(C),width:p(D),height:p(k)};if(r.top!==N.top||r.left!==N.left||r.width!==N.width||r.height!==N.height){f(N),h({x:N.left+(x>0?N.width:0),y:N.top+(P>0?N.height:0)});var R=I+A;R!==a&&m(R)}}}function i(e,t,n,o,a,i,s){var l=Math.round(n.left+s(a.x-o.x)),u=Math.round(n.top+s(a.y-o.y)),c=p(Math.min(Math.floor(e.width-t.width),Math.max(0,l))),d=p(Math.min(Math.floor(e.height-t.height),Math.max(0,u)));t.left===c&&t.top===d||i((0,r.__assign)((0,r.__assign)({},t),{left:c,top:d}))}function s(e){var t=e.rotate,n=void 0===t?0:t;return{left:0,top:0,width:n%2?e.imgHeight:e.imgWidth,height:n%2?e.imgWidth:e.imgHeight}}function l(e,t){var n=e.previewWidth,r=e.previewHeight,o=e.imgWidth,a=e.imgHeight,i=t.left,s=t.top,l=t.width,u=t.height,c=l-i,d=u-s;if(n){var _=n,p=_/l,h=Math.floor(u*p);return r&&c<d&&(p=(h=r)/u,_=Math.floor(l*p)),[_,h,_*(o/l),h*(a/u),-1*i*p,-1*s*p,p]}return[c,d,o,a,-i,-s,1]}function u(e,t,n,r,o){if(e.cropRect)return e.cropRect;var a=t.width,i=t.height,s=e.minWidth,l=e.minHeight;s=o(s),l=o(l);var u={left:Math.floor(.1*a),top:Math.floor(.1*i),width:Math.floor(.8*a),height:Math.floor(.8*i)};if(u.width<s){var c=s>a?a:s;u.left=Math.max(0,u.left-Math.floor((c-u.width)/2)),u.width=c}if(u.height<l){var d=l>i?i:l;u.left=Math.max(0,u.top-Math.floor((d-u.height)/2)),u.height=d}return u.width<u.height*n&&(u.top=Math.max(0,u.top-Math.floor((u.width/n-u.height)/4)),u.height=Math.floor(u.width/n)),u.width>u.height*r&&(u.left=Math.max(0,u.left-Math.floor((u.height*r-u.width)/2)),u.width=Math.floor(u.height*r)),(a<u.left+u.width||i<u.top+u.height)&&(a<i?(u.left=0,u.top=Math.max(0,Math.floor((i-a)/2)),u.width=a,u.height=a):(u.left=Math.max(0,Math.floor((a-i)/2)),u.top=0,u.width=i,u.height=i)),u}function c(e,t,n){return[p(n(e.width)),p(n(e.height)),p(n(e.left)),p(n(e.top)),p(n(e.left+t.left)),p(n(e.top+t.top))]}function d(e){return e<0?-1:1}function _(e){var t=e.ownerDocument,n=e.getBoundingClientRect();if(!t)return{x:0,y:0};var r=t.documentElement;return{x:n.left+r.scrollLeft-(r.clientLeft||0),y:n.top+r.scrollTop-(r.clientTop||0)}}function p(e){return Number(e.toFixed(2))}},7841:(e,t,n)=>{"use strict";n.d(t,{Popper:()=>l});var r=n(655),o=n(7294),a=n(3805),i=n(6751),s=n(9397),l=o.forwardRef((function(e,t){var n=e.open,l=void 0===n||n,u=e.position,c=void 0===u?"auto":u,d=e.mode,_=void 0===d?"side":d,p=e.align,h=void 0===p?"auto":p,m=e.attachTarget,f=void 0===m?document.body:m,v=e.content,g=e.children,y=(0,r.__rest)(e,["open","position","mode","align","attachTarget","content","children"]),w=(0,o.useRef)(null),b=(0,i.useCombinedRefs)(t,w),E=(0,r.__read)((0,o.useState)(null),2),C=E[0],D=E[1],k=(0,r.__read)((0,o.useState)(null),2),P=k[0],x=k[1],T=(0,r.__read)((0,o.useState)(null),2),S=T[0],B=T[1],O=(0,r.__assign)((0,r.__assign)({},g.props),{ref:b});return(0,o.useEffect)((function(){if(b&&b.current){var e=(0,r.__read)(function(e,t,n,r,o,a){if(!a)return[null,null,null];var i="auto";if(!e)return[{top:0,left:0,width:0,height:0},o===i?"left":o,r===i?"b":r];var l=(0,s.getOffsetRect)(e),u=(0,s.getOffsetRect)(t),c=r===i||o===i,d=c?window.innerWidth:0,_=c?window.innerHeight:0,p=c?window.pageYOffset||document.documentElement.scrollTop:0,h=c?window.pageXOffset||document.documentElement.scrollLeft:0;if(r===i){var m=l.top-p;r=p+_-l.top-l.height>m?"b":"t"}if(o===i){var f=l.left+.5*l.width,v=h+2*d/3;o=f>=h+d/3&&f<=v?"center":f>v?"right":"left"}var g=l.left,y=l.top;if("side"===n)return[{top:("b"===r?y+l.height:y)-u.top,left:("r"===r?g+l.width:g)-u.left,width:"t"===r||"b"===r?l.width:0,height:"l"===r||"r"===r?l.height:0},o,r];switch(r){case"t":g+=.5*l.width;break;case"r":g+=l.width,y+=.5*l.height;break;case"b":g+=.5*l.width,y+=l.height;break;case"l":y+=.5*l.height}return[{top:y-u.top,left:g-u.left,width:0,height:0},o,r]}(b.current,f,_,c,h,l),3),t=e[0],n=e[1],o=e[2];D(t),x(n),B(o)}}),[_,c,h,b.current,l,f]),o.createElement(o.Fragment,null,o.cloneElement(g,O),l&&o.createElement(a.WithPortal,(0,r.__assign)({},y,{className:(0,s.classNames)("Popper",P&&"Popper--"+P,S&&"Popper--"+S),"data-align":P,"data-position":S,portalContainerParent:f,style:C||void 0}),v))}))},767:(e,t,n)=>{"use strict";n.d(t,{default:()=>s});var r=n(655),o=n(7294),a=n(9397),i=function(e){var t=e.inverted,n=e.size,i=e.className,s=(0,r.__rest)(e,["inverted","size","className"]),l=(0,a.classNames)("Progress",{"Progress--inverted":!!t},"Progress--size-"+n,i);return o.createElement("div",(0,r.__assign)({className:l},s),o.createElement("div",{className:"Progress__item"}),o.createElement("div",{className:"Progress__item"}),o.createElement("div",{className:"Progress__item"}))};i.defaultProps={inverted:!1,size:"s"};const s=i},9503:(e,t,n)=>{"use strict";n.d(t,{default:()=>l});var r=n(655),o=n(7294),a=n(3935),i=n(9397),s=n(5775).default;const l=function(e){function t(t){var n,a=e.call(this,t)||this;return a.handleMouseDown=function(e){a.props.onFocus&&"function"==typeof a.props.onFocus&&a.props.onFocus(a.state.opened),"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),a.props.disabled||a.props.alwaysOpened||a.toggle(!a.state.opened))},a.getOptionByValue=function(e,t){for(var n=0;n<e.length;n++)if(e.hasOwnProperty(n)){var r=e[n];if("object"==typeof r){if("group"===r.type&&void 0!==r.items){var o=a.getOptionByValue(r.items||[],t);if(o)return o}if(r.value===t)return r}else if(r===t)return r}},a.setValue=function(e,t,n){n&&n.stopPropagation(),"object"==typeof t&&a.props.searchable&&(t=t.props.title);var r={value:e,label:"object"==typeof t?t:t.toString()},o={selected:r};a.fireChangeEvent(r),a.setState(o),a.props.alwaysOpened||a.toggle(!1)},a.fireChangeEvent=function(e){e!==a.state.selected&&a.props.onChange&&a.props.onChange({name:a.props.name,selected:e})},a.renderOption=function(e){var t=(0,i.classNames)("Select__option",{"Select__option--selected":e===a.state.selected}),n=void 0!==e.value?e.value:e.label||e,r=void 0!==e.label?e.label:e;return o.createElement("div",{key:n,className:t,onMouseDown:function(e){return a.setValue(n,r,e)},onClick:function(e){return a.setValue(n,r,e)},title:e.title},r)},a.buildMenu=function(){var e=a.state.filteredOptions.map((function(e){return"string"!=typeof e&&"group"===e.type?o.createElement("div",{className:"Select__group",key:e.name},e.name&&o.createElement("div",{className:"Select__title"},e.name),e.items&&e.items.map((function(e){return a.renderOption(e)}))):a.renderOption(e)}));return e.length?e:o.createElement("div",{className:"Select__noresults"},a.props.searchPlaceholder)},a.renderMenu=function(){return a.props.customMenu?a.props.customMenu(a.state.filteredOptions,a.setValue,a.state.selected):o.createElement("div",{className:"Select__menu"},a.buildMenu())},a.filterOptions=function(e,t){var n=e.toLowerCase();return t.filter((function(e){return"string"==typeof e?e.toLowerCase().includes(n):"string"==typeof e.label?e.label.toLowerCase().includes(n):"object"==typeof e.label&&e.label.props.title.toLowerCase().indexOf(n)>=0}))},a.handleSearchType=function(e){var t=a.filterOptions(e.target.value,a.state.allOptions);a.setState({selected:{value:e.target.value,label:e.target.value},filteredOptions:t}),a.toggle(!0),a.props.onType&&a.props.onType(e.target.value)},a.handleEditableType=function(e){a.setState({opened:!0}),a.props.onEdit&&a.props.onEdit(e.target.value)},a.buildControl=function(e){var t,n="",l=a.props,u=l.searchable,c=l.editable,d=l.inputOtherProps,_=(0,i.classNames)("Select__input",d&&d.className);return e&&"string"==typeof e&&(n=e),e&&"object"==typeof e&&(e&&"string"==typeof e.label&&(n=e.label),e&&"object"==typeof e.label&&u&&(n=e.label.props.title||""),e&&"object"==typeof e.label&&!u&&(t=e.label)),u?o.createElement("div",{className:"Select__control",onClick:a.handleMouseDown},o.createElement(s,(0,r.__assign)({placeholder:a.props.placeholder,value:n||"",onChange:a.handleSearchType.bind(a),onFocus:a.props.onInputFocus,onBlur:function(e){var t,n;return null===(n=(t=a.props).onInputBlur)||void 0===n?void 0:n.call(t,e,a.state.filteredOptions)},disabled:a.props.disabled,isControlledOutside:!0},d,{className:_})),o.createElement("span",{className:"Select__arrow"})):c?o.createElement("div",{className:"Select__control",onClick:a.handleMouseDown},o.createElement(s,(0,r.__assign)({placeholder:a.props.placeholder,id:a.props.id,value:n||"",onChange:a.handleEditableType,onFocus:a.props.onInputFocus,onBlur:a.props.onInputBlur,disabled:a.props.disabled,isControlledOutside:!0,autoComplete:"off"},d,{className:_})),o.createElement("span",{className:"Select__arrow"})):o.createElement("div",{className:"Select__control",onClick:a.handleMouseDown},o.createElement("div",{className:"Select__placeholder"},n||t),o.createElement("span",{className:"Select__arrow"}))},a.handleDocumentClick=function(e){a.mounted&&a.state.opened&&!a.props.alwaysOpened&&a.el&&!a.el.contains(e.target)&&a.toggle(!1)},n=void 0!==t.value?t.editable&&void 0!==t.customValue?{label:t.customValue,value:t.customValue}:a.getOptionByValue(t.options,t.value):{label:a.getLabel(t),value:""},a.state={filteredOptions:t.options,allOptions:t.options,selected:n,opened:!!t.alwaysOpened},a.mounted=!0,a}return(0,r.__extends)(t,e),t.prototype.getLabel=function(e){return this.props.searchable?this.props.value||"":e.placeholder||"Select..."},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.setState({filteredOptions:e.options,allOptions:e.options}),this.props.editable&&void 0!==e.customValue?this.setState({selected:{label:e.customValue,value:e.customValue}}):void 0!==e.value&&e.value!==this.state.selected?this.setState({selected:this.getOptionByValue(e.options,e.value)}):void 0===e.value&&this.setState({selected:{label:this.getLabel(e),value:""}})},t.prototype.componentDidMount=function(){this.el=a.findDOMNode(this),document.addEventListener("mousedown",this.handleDocumentClick,!1),document.addEventListener("touchend",this.handleDocumentClick,!1)},t.prototype.componentWillUnmount=function(){this.mounted=!1,document.removeEventListener("mousedown",this.handleDocumentClick,!1),document.removeEventListener("touchend",this.handleDocumentClick,!1)},t.prototype.toggle=function(e){var t=this;this.setState({opened:e},(function(){var e,n,r,o;t.state.opened?null===(n=(e=t.props).onShow)||void 0===n||n.call(e):null===(o=(r=t.props).onHide)||void 0===o||o.call(r)}))},t.prototype.render=function(){var e=this.props,t=e.className,n=e.appearance,r=e.style,a=e.searchable,s=e.editable,l=e.disabled,u=this.state,c=u.selected,d=u.opened,_=c&&"object"==typeof c&&!c.value||!1,p=a||s?"secondary":n,h=(0,i.classNames)("Select","Select--"+p,{"Select--opened":!!d,"Select--disabled":!!l,"Select--empty":_},t),m=this.buildControl(c);return o.createElement("div",{className:h,style:r},m,this.state.opened&&this.renderMenu())},t.defaultProps={appearance:"primary",searchPlaceholder:"No options found",searchable:!1,editable:!1,inputOtherProps:{},onShow:function(){},onHide:function(){}},t}(o.Component)},9814:(e,t,n)=>{"use strict";n.d(t,{default:()=>i});var r=n(655),o=n(7294),a=n(9397);const i=function(e){function t(t){var n=e.call(this,t)||this;return n.getActiveTabKey=function(){var e=n.props,t=e.active,r=e.activeRequired,a=[],i=null;return o.Children.forEach(n.props.children,(function(e){o.isValidElement(e)&&(e.key===t?i=e.key:a.push(e))})),i||("number"==typeof t&&a.length>t?a[t].key||t:r&&a.length?a[0].key||0:null)},n.onClick=function(e,t){if(t!==n.state.active){var r=n.refsStore[t],o=n.getTransform(r);n.setState({active:t,isAnimating:!0,transform:o}),n.props.onTabClick&&n.props.onTabClick(e,t)}},n.onTransitionEnd=function(e){"transform"===e.propertyName&&n.setState({isAnimating:!1})},n.storeRef=function(e,t){t&&(n.refsStore[e]=t)},n.refsStore={},n.state={isAnimating:!1,active:n.getActiveTabKey()},n}return(0,r.__extends)(t,e),t.reactifyTabs=function(e){return(Array.isArray(e)?e:Object.values(e)).map((function(e){return o.createElement("a",{key:e[0],href:e[2],onClick:function(){}},e[1]?e[1]:"")}))},t.prototype.componentDidUpdate=function(e){void 0!==this.props.active&&this.props.active!==e.active&&this.setState({active:this.props.active})},t.prototype.getTransform=function(e){var t=e.offsetWidth;return"translateX("+(e.offsetLeft-50+.5*t)+"px) scaleX("+t/100+")"},t.prototype.componentDidMount=function(){if(this.state.active){var e=this.refsStore[this.state.active];this.setState({transform:this.getTransform(e)})}},t.prototype.render=function(){var e=this,t={"Tabs--animating":this.state.isAnimating};return o.createElement("nav",{className:(0,a.classNames)("Tabs",this.props.className,t),style:this.props.style},o.createElement("ul",{className:"Tabs__list"},o.Children.map(this.props.children,(function(t,n){var r;if(!o.isValidElement(t))return null;var i=t.key||n;return o.createElement("li",{className:(0,a.classNames)("Tabs__item",{"Tabs__item--active":e.state.active===i,"Tabs__item--disabled":null===(r=e.props.disabledTabMap)||void 0===r?void 0:r[i]}),onClick:function(t){return e.onClick(t,i)},ref:function(t){return e.storeRef(i,t)},key:i},t)}))),this.props.aside&&o.createElement("div",{className:"Tabs__aside"},this.props.aside),o.createElement("div",{style:{transform:this.state.transform},className:"Tabs__divider",onTransitionEnd:this.onTransitionEnd}))},t.defaultProps={active:0,activeRequired:!0,aside:null,style:{},className:""},t}(o.Component)},3805:(e,t,n)=>{"use strict";n.d(t,{WithPortal:()=>s});var r=n(655),o=n(7294),a=n(3935),i=function(){return document.createElement("div")},s=(0,o.forwardRef)((function(e,t){var n=e.children,s=e.portalContainerParent,l=void 0===s?document.body:s,u=e.renderNodeFactory,c=void 0===u?i:u,d=(0,r.__rest)(e,["children","portalContainerParent","renderNodeFactory"]),_=(0,o.useRef)(null);return _.current||(_.current=c(),l.appendChild(_.current)),(0,o.useEffect)((function(){return function(){_.current&&_.current.remove()}}),[]),a.createPortal(o.createElement("div",(0,r.__assign)({},d,{ref:t}),n),_.current)}))},6751:(e,t,n)=>{"use strict";n.d(t,{useCombinedRefs:()=>o});var r=n(7294);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,r.useRef)(null);return r.useEffect((function(){e.forEach((function(e){null!==e&&null!==n&&(e.current=n.current)}))}),[e]),n}},655:(e,t,n)=>{"use strict";n.d(t,{__extends:()=>o,__assign:()=>a,__rest:()=>i,__awaiter:()=>s,__generator:()=>l,__values:()=>u,__read:()=>c,__spreadArray:()=>d});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}Object.create;function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}function d(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||t)}Object.create},4795:function(e,t,n){var r;!function(t){"use strict";function o(){}var a=o.prototype,i=t.EventEmitter;function s(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function l(e){return function(){return this[e].apply(this,arguments)}}function u(e){return"function"==typeof e||e instanceof RegExp||!(!e||"object"!=typeof e)&&u(e.listener)}a.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp)for(n in t={},r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n]);else t=r[e]||(r[e]=[]);return t},a.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},a.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},a.addListener=function(e,t){if(!u(t))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(e),o="object"==typeof t;for(n in r)r.hasOwnProperty(n)&&-1===s(r[n],t)&&r[n].push(o?t:{listener:t,once:!1});return this},a.on=l("addListener"),a.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},a.once=l("addOnceListener"),a.defineEvent=function(e){return this.getListeners(e),this},a.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},a.removeListener=function(e,t){var n,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&-1!==(n=s(o[r],t))&&o[r].splice(n,1);return this},a.off=l("removeListener"),a.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},a.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},a.manipulateListeners=function(e,t,n){var r,o,a=e?this.removeListener:this.addListener,i=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)a.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(o=t[r])&&("function"==typeof o?a.call(this,r,o):i.call(this,r,o));return this},a.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},a.removeAllListeners=l("removeEvent"),a.emitEvent=function(e,t){var n,r,o,a,i=this.getListenersAsObject(e);for(a in i)if(i.hasOwnProperty(a))for(n=i[a].slice(0),o=0;o<n.length;o++)!0===(r=n[o]).once&&this.removeListener(e,r.listener),r.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this},a.trigger=l("emitEvent"),a.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},a.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},a._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},a._getEvents=function(){return this._events||(this._events={})},o.noConflict=function(){return t.EventEmitter=i,o},void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}("undefined"!=typeof window?window:this||{})}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __webpack_exports__={};(()=>{"use strict";var core_js_modules_es6_regexp_match__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1466),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1876),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9357),_web_stories_narrative_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(774),_web_articles_article_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2365);window.WComments={init:function(e){e.reply_names&&isArray(e.reply_names)&&(e.reply_names={}),extend(cur,{options:e,oid:e.user_id,postTo:e.user_id,heightEl:geByClass1("_wcomments_page"),countEl:geByClass1("_wcomments_count"),contentEl:geByClass1("_wcomments_content"),section:e.section,noAwayCheck:!0,sendPostBtn:ge("send_post"),postsEl:ge("wcomments_posts"),postsOuterEl:geByClass1("_wcomments_posts_outer"),wallType:"widget_comments",onReplyFormSizeUpdate:WComments.contentUpdated.bind(WComments,!1),onEditFormSizeUpdate:WComments.contentUpdated.bind(WComments,!1)}),cur.options.filter_media_types=cur.options.media_types||[],this.override("lite.js"),this.override("page.js"),this.override(jsc("web/emoji.js")),stManager.emitter.addListener("update",this.override.bind(this)),this.updateSize(),(e.is_auto||e.is_nano)&&extend(e,{media_opts:{hideAfterCount:0,maxShown:0}}),Wall.init(e),e.fixed_height?(setStyle(cur.postsOuterEl,{maxHeight:e.fixed_height-getSize(geByClass1("_wcomments_head"))[1]-getSize(geByClass1("_wcomments_form"))[1]}),cur.scrollbar=new uiScroll(cur.postsOuterEl,{hidden:1,onmore:this.showMore.bind(this),ondragstart:function(){cur.Rpc.callMethod("startDrag")},ondragstop:function(){cur.Rpc.callMethod("stopDrag")}}),cur.mouseMove=cur.scrollbar.ondrag.bind(cur.scrollbar),cur.mouseUp=cur.scrollbar.ondragstop.bind(cur.scrollbar)):(cur.mouseMove=function(){},cur.mouseUp=function(){}),e.qtransport&&this.initQTransport(e.qtransport),window.timeUpdateInt=setInterval(this.updateTimes.bind(this),1e4),cur.RpcMethods={onInit:function(){var e=this.resizeWidget.bind(this);setTimeout(e,0),setTimeout(e,500)}.bind(this),updateStickers:function(){window.emojiStickers=!1,window.Emoji&&Emoji.updateTabs()},mouseMove:cur.mouseMove,mouseUp:cur.mouseUp,chooseMedia:function(){var e=cleanObj(this.uncleanObj([].slice.call(arguments)));cur.chooseMedia.apply(cur.chooseMedia,e),setTimeout(this.resizeWidget.bind(this),0)}.bind(this),addMedia:function(e,t){var n=["pollBackgroundUploaded"];if(~n.indexOf(t)&&cur.addMedia&&cur.addMedia[e]&&isFunction(cur.addMedia[e][t])){for(var r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];cur.addMedia[e][t].apply(cur.addMedia[e],o)}},showMediaProgress:function(){var e=cleanObj([].slice.call(arguments));cur.showMediaProgress.apply(cur.showMediaProgress,e)},likeFullUpdate:function(){}};try{cur.Rpc=new fastXDM.Client(cur.RpcMethods,{safe:!0,sameOrigin:!0,unsafeMethods:["mouseMove","mouseUp"]}),cur.resizeInt=setInterval(this.resizeWidget.bind(this),1e3)}catch(e){debugLog(e)}e.user_id||(addEvent("send_post","click",Widgets.oauth.bind(Widgets)),addEvent("post_field","click",Widgets.oauth.bind(Widgets)))},uncleanObj:function(e){if(isObject(e)){var t={};for(var n in e)t[n.replace(/[^a-zA-Z0-9_\-]/g,"")]=this.uncleanObj(e[n])}else if(isArray(e)){t=[];for(var n in e)t.push(this.uncleanObj(e[n]))}else{var r=typeof e;if("number"==r||"boolean"==r||"function"==r)t=e;else t=unclean(e)}return t},getSectionParams:function(){var e={app:cur.options.app,width:cur.options.width,startWidth:cur.options.startWidth,limit:cur.options.limit};switch(cur.section){case"admin_browse":e.act="admin_browse";break;case"admin_bl":e.act="admin_bl",e.limit=15;break;case"admin_updates":e.act="admin_updates";break;case"browse":e.browse=1,e.replies=cur.options.replies;break;default:e.page_query=cur.options.page_query,e.part=1}return e},contentUpdated:function(e){e&&this.applyOptions(e),this.resizeWidget()},applyOptions:function applyOptions(options){options.reply_names&&(isArray(options.reply_names)&&(options.reply_names={}),cur.options.reply_names=extend(cur.options.reply_names||{},options.reply_names),delete options.reply_names),options.head_count&&"browse"!=cur.section&&(val(geByClass1("_wcomments_count"),options.head_count),delete options.head_count),options.script&&(eval(options.script),delete options.script),extend(cur.options,options),toggle(geByClass1("_wcomments_more"),options.offset<options.count)},updateSize:function e(t){var n=(t||getSize("page_wrap"))[0];if(setStyle(cur.heightEl,{width:n}),cur.options.is_auto){var r=1==cur.options.mini||0!=cur.options.mini&&n<630,o=r&&n<380;e.size!=r+""+o&&(e.size=r+""+o,replaceClass(bodyNode,"wcomments_mini wcomments_nano",(r?"wcomments_mini ":"")+(o?"wcomments_nano ":"")))}},resizeWidget:function e(){if(cur.heightEl&&cur.Rpc){var t=getSize("page_wrap");(browser.msie&&!browser.msie8||browser.opera)&&(t[1]+=15),window.onBodyResize&&onBodyResize(),e.size!=t.join(" ")&&(e.size=t.join(" "),this.updateSize(t),cur.Rpc.callMethod("resize",t[1]))}},showMore:function(){if(!cur.switchingSection){var e=geByClass1("_wcomments_more");if(cur.options.offset>=cur.options.count)return hide(e);buttonLocked(e)||ajax.post("al_widget_comments.php",extend(WComments.getSectionParams(),{offset:cur.options.offset,width:cur.options.width,startWidth:cur.options.startWidth,part:1}),{onDone:function(e,t){ge("wcomments_posts").appendChild(cf(t)),WComments.contentUpdated(e)},showProgress:lockButton.pbind(e),hideProgress:unlockButton.pbind(e)})}},switchSection:function(e){if(cur.switchingSection||cur.section==e)return!1;cur.switchingSection=!0;var t=uiTabs&&geByClass1("_wcomments_admin_tabs"),n=t&&geByClass1("_"+e);return"posts"==e||"posts"==cur.section?addClass(cur.contentEl,"wcomments_content_loading"):t&&uiTabs.showProgress(t),n&&uiTabs.switchTab(geByClass1("ui_tab",n)),cur.section=e,ajax.post("al_widget_comments.php",WComments.getSectionParams(),{onDone:function(n,r){val(cur.postsEl,r),t&&uiTabs.hideProgress(t),removeClass(cur.contentEl,"wcomments_content_loading"),replaceClass(cur.heightEl,"wcomments_section_posts wcomments_section_admin_browse wcomments_section_admin_bl wcomments_section_admin_updates wcomments_section_browse","wcomments_section_"+e),cur.options.fixed_height&&setStyle(cur.postsOuterEl,{maxHeight:cur.options.fixed_height-getSize(geByClass1("_wcomments_head"))[1]-getSize("posts"==cur.section||"browse"==cur.section?geByClass1("_wcomments_form"):geByClass1("_wcomments_admin_tabs"))[1]}),cur.scrollbar&&cur.scrollbar.scrollTop(),WComments.contentUpdated(n),cur.switchingSection=!1}}),!1},addToBl:function(e,t,n){if(hasClass(n,"wcomments_bl_action_loading"))return!1;ajax.post("al_widget_comments.php",{act:"a_add_to_bl",id:e,hash:t,app:cur.options.app},{onDone:function(){hide(geByClass1("_wcomments_bl_label_"+e)),n.onclick=WComments.delFromBl.bind(WComments,e,t,n),val(n,getLang("widgets_remove_from_banlist"))},showProgress:addClass.pbind(n,"wcomments_bl_action_loading"),hideProgress:removeClass.pbind(n,"wcomments_bl_action_loading")})},delFromBl:function(e,t,n){if(hasClass(n,"wcomments_bl_action_loading"))return!1;ajax.post("al_widget_comments.php",{act:"a_del_from_bl",id:e,hash:t,app:cur.options.app},{onDone:function(){setStyle(geByClass1("_wcomments_bl_label_"+e),"display","inline"),n.onclick=WComments.addToBl.bind(WComments,e,t,n),val(n,getLang("widgets_restore_to_banlist"))},showProgress:addClass.pbind(n,"wcomments_bl_action_loading"),hideProgress:removeClass.pbind(n,"wcomments_bl_action_loading")})},updateTimes:function(e){if((cur.lang||{}).wall_X_seconds_ago_words){var t=intval(vkNow()/1e3),n=[];t-=cur.tsDiff,each(geByClass("rel_date_needs_update",e||ge("wcomments_posts"),"span"),(function(e,r){if(r){var o=intval(r.getAttribute("time")),a=t-o,i=r.getAttribute("abs_time");a<5?i=getLang("wall_just_now"):a<60?i=Wall.langWordNumeric(a,cur.lang.wall_X_seconds_ago_words,cur.lang.wall_X_seconds_ago):a<3600?i=Wall.langWordNumeric(intval(a/60),cur.lang.wall_X_minutes_ago_words,cur.lang.wall_X_minutes_ago):a<14400?i=Wall.langWordNumeric(intval(a/3600),cur.lang.wall_X_hours_ago_words,cur.lang.wall_X_hours_ago):n.push(r),r.innerHTML=i}})),each(n,(function(){removeClass(this,"rel_date_needs_update")}))}},langWordNumeric:function(e,t,n){return isArray(t)&&e<t.length?t[e]:langNumeric(e,n)},showLikesBox:function(e,t){showBox("widget_like.php",extend({act:"a_stats_box",app:cur.options.app,obj:e,from:"wcomments",check_hash:cur.likeCheckHash,widget_width:638},t||{}))},deleteAllAndBan:function(e,t,n,r){ajax.post("al_widget_comments.php",{act:"a_add_to_bl",id:t,hash:n,app:cur.options.app},{onDone:function(n,r){r&&each(geByClass("wcomments_post",ge("wcomments_posts"),"div"),(function(){!this.id.indexOf("post"+t)&&this.id.split("_")[1]>=r&&this.id!="post"+e&&isVisible(this)&&hide(this)})),ge("post_del"+e).innerHTML=n,WComments.contentUpdated()},showProgress:function(){lockButton(r)},hideProgress:function(){unlockButton(r)}})},initQTransport:function(e){window.curNotifier=extend(e,{lp_connected:!1,error_timeout:1,addQueues:{},recvClbks:{},recvData:{},onConnectionId:[]}),WComments.lpInit(),WComments.lpStart()},lpGetTransportWrap:function(){var e=ge("queue_transport_wrap");return e||(e=ce("div",{id:"queue_transport_wrap"}),utilsNode.appendChild(e)),e},lpInit:function(){curNotifier.lpMakeRequest||(delete curNotifier.lpMakeRequest,re("queue_transport_frame"),WComments.lpGetTransportWrap().appendChild(ce("iframe",{id:"queue_transport_frame",name:"queue_transport_frame",src:curNotifier.frame_path})))},lpStart:function(){curNotifier.lp_started=!0,WComments.lpCheck()},lpStop:function(){curNotifier.lp_started=!1,clearTimeout(curNotifier.lp_check_to),clearTimeout(curNotifier.lp_error_to)},lpCheck:function lpCheck(){curNotifier.lp_started&&(curNotifier.lpMakeRequest?curNotifier.lpMakeRequest(curNotifier.frame_url,{act:"a_check",ts:curNotifier.timestamp,key:curNotifier.key,id:curNotifier.uid,wait:25},function(text){if(curNotifier.lp_started)try{var success=this.lpChecked(eval("("+text+")"));success&&(this.lpCheck(),curNotifier.error_timeout=1)}catch(e){topError("Notify error: "+e.message),curNotifier.lp_error_to=setTimeout(this.lpCheck.bind(this),1e3*curNotifier.error_timeout),curNotifier.error_timeout<64&&(curNotifier.error_timeout*=2)}}.bind(this),function(e){curNotifier.lp_error_to=setTimeout(this.lpCheck.bind(this),1e3*curNotifier.error_timeout),curNotifier.error_timeout<64&&(curNotifier.error_timeout*=2)}.bind(this)):curNotifier.lp_check_to=setTimeout(this.lpCheck.bind(this),1e3))},lpChecked:function(e){var t=e.failed;if(2==t)return curNotifier.lp_error_to=setTimeout(this.lpGetKey.bind(this),1e3*curNotifier.error_timeout),curNotifier.error_timeout<64&&(curNotifier.error_timeout*=2),!1;if(t)throw new Error(getLang("global_unknown_error"));return curNotifier.timestamp=e.ts,!cur.section.indexOf("admin")||(cur.saveScrollPosition=cur.scrollbar&&cur.scrollbar.data.scrollTop>100,each(e.events,(function(e,t){WComments.eventsParse(t)})),!0)},lpGetKey:function(){vkNow();ajax.post("al_widget_comments.php",{act:"a_get_key",id:curNotifier.uid,app:cur.options.app,page_query:cur.options.page_query},{onDone:function(e,t){curNotifier.timestamp=t,curNotifier.key=e,this.lpCheck()}.bind(this),onFail:function(e){if(3!=e)return curNotifier.error_timeout=64,this.lp_error_to=setTimeout(this.lpGetKey.bind(this),1e3*curNotifier.error_timeout),curNotifier.error_timeout<64&&(curNotifier.error_timeout*=2),!0;location.reload()}.bind(this)})},resizePostSizedThumbs:function(e,t,n,r,o){var a=geByClass("page_post_thumb_wrap",e),i=[],s=0,l=0,u=function(){d&&i.push(d),s=l=0,extend(this,{tiles:[],height:0,x:0,y:0})},c=function(e){e&&extend(this,{el:e,lastRow:hasClass(e,"page_post_thumb_last_row"),lastColumn:hasClass(e,"page_post_thumb_last_column"),width:intval(e.style.width),height:intval(e.style.height)})},d=new u,_=positive(e.style.width),p=positive(e.style.height),h=0;if(t>_&&(t=null),(r>p||o&&a.length>1)&&(r=null),!r&&t)r=Math.round(p*(t/_));else if(r&&!t)t=Math.round(_*(r/p));else{if(!t||!r)return;o&&(r=Math.min(r,Math.round(p*(t/_))),t=Math.round(_*(r/p)))}return each(a,(function(e,t){var r=t.tile||new c(t),o=new c(a[e+1]);d.height=Math.max(d.height,r.height),_-s>=r.width/2?(s+=r.width+(r.lastColumn?0:n),l=r.height,r.x=d.x,r.y=d.y=0,d.tiles.push(r),r.lastColumn?o&&o.lastColumn&&d.height-l>=o.height/2||(d=new u):d.x++):r.lastColumn&&d.height-l>=r.height/2&&(l+=r.height+n,r.x=d.x,r.y=++d.y,d.tiles.push(r),!r.lastRow&&o&&o.lastColumn&&d.height-l>=o.height/2||(d.height=Math.max(d.height,l),d=new u))})),each(i,(function(e,o){var a=0,s=0,l=(t-n*o.x)/(_-n*o.x),u=(r-n*o.y)/(p-n*o.y),c=i.length-1==e?r-h:Math.round(o.height*u),d=0,m=0;h+=c+n,each(o.tiles,(function(e,r){r.x<o.x?(d=Math.round(r.width*l),a+=d+n,r.y||(m=c)):r.lastColumn&&(d=t-a,r.y==o.y?m=c-s:(m=Math.round(r.height*u),s+=m+n)),setStyle(r.el,{width:d,height:m})}))})),setStyle(e,{width:t,height:r}),[t,r]},resizePostAlbumWrap:function(e,t,n,r){r||(r="");var o=positive(e.style.width),a=geByClass1("page"+r+"_album_thumb_wrap",e,"div"),i=domFC(geByClass1("page"+r+"_album_photos",e,"div")),s=domFC(geByClass1("page"+r+"_album_under_row",e,"div"));if(scaleX=t/o,!(o<t)&&a){setStyle(e,{width:t});var l=Math.round(positive(a.style.width)*scaleX),u=Math.round(positive(a.style.height)*scaleX);setStyle(a,{width:l,height:u}),i&&WComments.resizePostSizedThumbs(i,t-n-l,n,u),s&&WComments.resizePostSizedThumbs(s,t,n,positive(s.style.height)*((t-n)/(o-n)))}},resizePost:function(e,t){var n=t?cur.options.reply_max_w:cur.options.max_w,r=Math.max(cur.options.kludges_min_h,n*(t?cur.options.reply_kludges_ratio:cur.options.kludges_ratio));return each(geByClass("page_album_wrap",e,"div"),(function(e,t){WComments.resizePostAlbumWrap(t,n,5)})),each(geByClass("page_market_album_wrap",e,"div"),(function(e,t){WComments.resizePostAlbumWrap(t,n-2,2,"_market")})),each(geByClass("page_post_sized_thumbs",e,"div"),(function(e,t){WComments.resizePostSizedThumbs(t,n,5,r,!0)})),each(geByClass("audio_pl_snippet",e,"div"),(function(e,t){if(n<=cur.playlist_snippet_max_narrow_width)var r="audio_pl_snippet_size_narrow";else if(n<=cur.playlist_snippet_max_medium_width)r="audio_pl_snippet_size_medium";else r="";setStyle(t,"width",n),removeClass(t,"audio_pl_snippet_size_narrow"),removeClass(t,"audio_pl_snippet_size_medium"),r&&addClass(t,r)})),e},eventsQueue:[],eventsPaused:!1,eventsPause:function(){this.eventsPaused=!0},eventsProceed:function(){for(this.eventsPaused=!1;this.eventsQueue.length;)this.eventsParse(this.eventsQueue.shift())},eventsUpdateAttaches:function(e){each(geByClass("audio_row",e,"div"),(function(e,t){addClass(t,"audio_no_actions")}))},eventsParse:function(e){if(this.eventsPaused)return this.eventsQueue.push(e);if(isObject(e))return Wall.processQueueEvent(e);var t=e.split("<!>"),n=t[0],r=t[1],o=t[2],a=ge("post"+o);if(n!=cur.options.qversion)return location.reload();switch(r){case"new_post":if(a)break;var i=ge("wcomments_posts"),s=(intval(t[t.length-1]),this.resizePost(se(Wall.getNewPostHTML(t,cur.options.is_admin))));function l(){i.insertBefore(s,i.firstChild),(0,_web_stories_narrative_utils__WEBPACK_IMPORTED_MODULE_3__.updateNarrativeSnippetsFromQueueByPost)(s),(0,_web_articles_article_utils__WEBPACK_IMPORTED_MODULE_4__.updateArticleSnippetsFromQueueByPost)(s)}WComments.eventsUpdateAttaches(s),cur.saveScrollPosition?cur.scrollbar.updateAbove(l):(l(),cur.scrollbar&&cur.scrollbar.scrollTop(0,!0)),nodeUpdated(s),Wall.updateMentionsIndex(),"browse"!==cur.section&&val(cur.countEl,_?getLang("widgets_comments_top_count",_):getLang("widgets_comments"));break;case"del_post":a&&(!cur.wallMyDeleted[o]&&hide(a),cur.options.offset--);break;case"res_post":a&&cur.options.offset++;break;case"new_reply":if(!a||cur.wallMyReplied[o]||ge("post"+t[3]))break;var u=ge("replies"+o),c=(s=this.resizePost(se(Wall.getNewReplyHTML(t,cur.options.is_admin)),!0),!1);if(isVisible("reply_link"+o))re("reply_link"+o),show("replies_wrap"+o),c=!0;else{var d=u.nextSibling,_=geByClass("new_reply",u,"div").length+1;if(cur.wallMyOpened[o]){d&&"replies_open"==d.className&&re(d),c=!0;var p=geByClass1("wr_header",u,"a"),h=geByClass("reply",u,"div").length+1,m=h;p&&(m=intval(p.getAttribute("offs").split("/")[1])+1),(m>5||h<m)&&(p||(p=ce("a",{className:"wr_header"}),u.insertBefore(p,u.firstChild)),Wall.updateRepliesHeader(o,p,h,m))}else addClass(s,"new_reply"),d&&"replies_open"==d.className||(d=ce("div",{className:"replies_open",onclick:Wall.openNewComments.pbind(o)}),u.parentNode.insertBefore(d,u.nextSibling)),val(d,getLang("news_x_new_replies_more",Math.min(100,_))),d.newCnt=_}(0,_web_stories_narrative_utils__WEBPACK_IMPORTED_MODULE_3__.updateNarrativeSnippetsFromQueueByPost)(s),(0,_web_articles_article_utils__WEBPACK_IMPORTED_MODULE_4__.updateArticleSnippetsFromQueueByPost)(s),WComments.eventsUpdateAttaches(s),u.appendChild(s),c&&nodeUpdated(s);break;case"del_reply":!cur.wallMyDeleted[o]&&re(a)}this.resizeWidget()},override:function(e,t){var n,r;if(StaticFiles[e]||!0===t)switch(e){case"lite.js":extend(window,{showTooltip:Widgets.showTooltip,showBox:Widgets.showBox({"al_photos.php":{photo_box:!0,choose_photo:!0},"al_video.php":{video_box:!0,a_choose_video_box:!0},"al_places.php":{show_photo_place:!0},"like.php":{publish_box:!0},"widget_like.php":{a_stats_box:!0},"al_wall.php":{canvas_draw_box:!0},"al_im.php":{stickers_store:!0,sticker_preview:!0},"al_audio.php":{choose_box:!0},"al_page.php":{owner_photo_box:!0},"al_voting.php":{export_box:!0},"docs.php":{show_box:!0}}),showReCaptchaBox:Widgets.showReCaptchaBox,gotSession:function(e){location.reload()},showPhoto:Widgets.showPhoto,showVideo:Widgets.showVideo,shareAudioPlaylist:function(e){vk.id?e.apply(null,[].slice.call(arguments,1)):Widgets.oauth()}.bind(null,shareAudioPlaylist),addAudio:function(e){vk.id?e.apply(null,[].slice.call(arguments,1)):Widgets.oauth()}.bind(null,AudioUtils.addAudio),showWiki:function(e){if("likes"==(e=(e&&e.w||"").split("/"))[0])WComments.showLikesBox(e[1]);else{if("shares"!=e[0])return!0;WComments.showLikesBox(e[1],{tab:"published"})}},mentionOver:function(){return!0},mentionClick:function(){return!0},showInlineVideo:Widgets.showInlineVideo,revertLastInlineVideo:Widgets.revertLastInlineVideo,pauseLastInlineVideo:Widgets.pauseLastInlineVideo});break;case jsc("web/emoji.js"):extend(Emoji,{focus:function(e,t){if(Emoji.editableFocus(e,!1,!0),t&&cur.scrollbar){var n=domCA(e,".reply_box");n&&cur.scrollbar.scrollIntoView(n)}}});break;case"page.js":(cur.options.is_auto||cur.options.is_nano)&&(Composer.init=(r=Composer.init,function(){var e=[].slice.call(arguments);return e[1].media&&(e[1].media.options=extend(e[1].media.options||{},{hideAfterCount:0,maxShown:0,forceToUp:1})),r.apply(Wall,e)})),extend(Wall,{scrollHighlightReply:function(e){(e=ge(e))&&(cur.options.fixed_height&&cur.scrollbar?cur.scrollbar.scrollIntoView(e,!0,Wall.highlightReply.bind(Wall,e)):(e.scrollIntoView(),Wall.highlightReply(e)))},postTooltip:(n=Wall.postTooltip,function(){var e=[].slice.call(arguments);return e[3]=extend(e[3]||{},{appendEl:cur.postsOuterEl}),n.apply(this,e)}),sendPost:function(){if(cur.sendPostBtn){var e=cur.wallAddMedia||{},t=e.chosenMedia||{},n=cur.wallAddMedia?e.getMedias():[],r=e.shareData||{},o=trim((window.Emoji?Emoji.editableVal:val)(ge("post_field"))),a=cur.options.suggesting?"suggest":cur.wallType,i={act:"post",message:o,to_id:cur.postTo,type:a,status_export:"",widget_app:cur.options.app,widget_page_url:cur.options.page_url,widget_page_title:cur.options.page_title,widget_page_desc:cur.options.page_desc,widget_page_query:cur.options.page_query,hash:cur.options.post_hash},s=(cur.postTo==vk.id||i.official||cur.options.only_official,0);if(isArray(t)&&t.length&&n.push(clone(t)),n.length){var l=!1;if(each(n,(function(t,n){if(n){var a=this[0],u=this[1];switch(a){case"poll":var c=e.pollData();if(!c)return l=!0,!1;u=c.media,delete c.media,i=extend(i,c);break;case"share":if(r.share_upload_failed)break;if(r.failed||!r.url||!r.title&&(!r.images||!r.images.length)&&!r.photo_url)return cur.shareLastParseSubmitted&&vkNow()-cur.shareLastParseSubmitted<2e3?(l=!0,!1):void 0;if(!(u=!r.noPhoto&&r.user_id&&r.photo_id?r.user_id+"_"+r.photo_id:"")&&!r.share_own_image&&r.images&&r.images.length&&r.images.some((function(e){return isString(e)&&e.length})))return e.uploadShare(Wall.sendPost),l=!0,!1;r.initialPattern&&trim(o)==r.initialPattern&&(i.message=""),r.is_vk_mini_app&&(i.is_vk_mini_app=!0,i.is_photo_edit=r.isPhotoEdit,i.image_offset=cur.shareShowImg),i=extend(i,{url:r.url,module:cur.module,title:replaceEntities(r.title),description:replaceEntities(r.description),extra:r.extra,extra_data:r.extraData,mode:r.mode,photo_url:r.noPhoto?"":replaceEntities(r.photo_url),open_graph_data:(r.openGraph||{}).data,open_graph_hash:(r.openGraph||{}).hash});break;case"page":r.initialPattern&&trim(o)==r.initialPattern&&(i.message="");break;case"postpone":var d=val("postpone_date"+e.lnkId);return i=extend(i,{postpone:d}),cur.postponedLastDate=d,void!0}this[3]&&trim(o)==this[3]&&(i.message=""),i["attach"+(s+1)+"_type"]=a,i["attach"+(s+1)]=u,s++}})),l)return}if(s||o){var u=ge("send_post");u&&buttonLocked(u)||(cur.postAutosave&&clearTimeout(cur.postAutosave),hide("submit_post_error"),cur.postSent=!0,setTimeout((function(){WComments.eventsPause(),ajax.post("al_wall.php",Wall.fixPostParams(i),{onDone:function(e){if(e){var t={act:"a_post",post:e,width:cur.options.width,startWidth:cur.options.startWidth,hash:cur.options.post_hash,app:cur.options.app,limit:cur.options.limit,export:isChecked("wcomments_export")};ajax.post("al_widget_comments.php",t,{onDone:function(e,t){"posts"==cur.section&&cur.Rpc&&cur.Rpc.callMethod("publish","widgets.comments.new_comment",e.count,e.last_comment,e.date,e.full_hash,e.pageId),val("wcomments_posts",t),WComments.contentUpdated(e),Wall.updateMentionsIndex(),WComments.eventsProceed()},onFail:function(){WComments.eventsProceed()},showProgress:function(){lockButton(ge("send_post"))},hideProgress:function(){Wall.clearInput(),cur.postSent=!1;var e=ge("post_field");if(cur.withMentions){var t=data(e,"mention");t&&(t.rtaEl.innerHTML="",hide(t.cont),show(e))}e.value="",e.blur(),e.phonblur(),Wall.hideEditPost(!0),cur.wallAddMedia&&cur.wallAddMedia.unchooseMedia(),hide("post_warn"),cur.onWallSendPost&&cur.onWallSendPost(),unlockButton(ge("send_post"))}})}},onFail:function(e){return cur.postSent=!1,!e||(ge("submit_post_error").innerHTML=e.length>60?'<div class="msg_text">'+e+"</div>":e,isVisible("submit_post_error")||slideDown("submit_post_error",100),!0)},showProgress:function(){lockButton(u)},hideProgress:function(){unlockButton(u)}})}),0))}else elfocus("post_field")}},sendReply:function(e,t,n){if(n=extend({},n),window.mvcur&&mvcur.post==e)return Videoview.sendComment(e,t,n);var r,o=window.cur.wallLayer==e,a=o?wkcur:window.cur,i=ge("reply_field"+e),s=i&&data(i,"composer"),l=a.reply_to&&Wall.getReplyName(a.reply_to[0]),u=i&&data(i,"send");if(u&&isFunction(u))return u(e,t,n);if(n.stickerId)var c={message:"",attach1_type:"sticker",attach1:n.stickerId,sticker_referrer:n.sticker_referrer};else{if((c=s?Composer.getSendParams(s,Wall.sendReply.pbind(e)):{message:trim(Emoji.editableVal(i))}).delayed)return;if(!c.attach1_type&&(!c.message||isArray(l)&&!l[1].indexOf(c.message)))return void Emoji.editableFocus(ge("reply_field"+e),!1,!0);s?r=Composer.reset(s):window.Emoji&&Emoji.val(i,""),i.autosize&&i.autosize.update()}a.wallMyOpened=a.wallMyOpened||{},a.wallMyReplied[e]=1,a.wallMyOpened[e]=1;var d=ge("post_hash"+e)?ge("post_hash"+e).value:a.options.post_hash,_=(ge("reply_as_group"+e),null);if(extend(c,{act:"post",type:"widget",width:a.options.width,startWidth:a.options.startWidth,reply_to:e,reply_to_msg:val("reply_to"+e),reply_to_user:a.reply_to&&a.reply_to[0]||0,start_id:val("start_reply"+e),from:"widget",hash:d}),a.reverse&&(c.rev=1),browser.mobile?Wall.hideEditReply(e):(Emoji.editableFocus(i,!1,!0),Wall.cancelReplyTo(e,t)),ajax.post("al_wall.php",Wall.fixPostParams(c),{onDone:function(t,n,r,o){if("full"==a.wallType)return FullWall.onReplySent.apply(window,arguments);a.wallMyReplied[e]=0,re("reply_link"+e),hide("reply_warn"+e),Wall._repliesLoaded(e,!1,n,r,o)},onFail:function(){_&&re(_),s?r=Composer.restore(s,r):val(i,c.message),i.autosize&&i.autosize.update()},showProgress:lockButton.pbind(ge("reply_button"+e)),hideProgress:unlockButton.pbind(ge("reply_button"+e))}),!c.from_oid&&c.message){var p=ge("replies"+e),h=-++a.wallMyRepliesCnt,m=Emoji.emojiToHTML(clean(c.message),!0),f=c.reply_to_user<0?getLang("wall_replied_to_group"):a.options.reply_names[c.reply_to_user]&&a.options.reply_names[c.reply_to_user][0],v=f?rs(a.wallTpl.reply_link_to,{to_user:f}):"";if(_=se(rs(a.wallTpl.reply_fast,{reply_id:"0_"+h,message:m.replace(/\n/g,"<br/>"),to_link:v,date:Wall.getNowRelTime(a)})),p&&!isVisible(p)||ge("reply_link"+e))re("reply_link"+e),show("replies_wrap"+e);else if(!a.onepost){var g=p.nextSibling;if(g&&"replies_open"==g.className&&Wall.openNewComments(e),!o){var y=geByClass1("wr_header",p,"a"),w=geByClass("reply",p,"div").length+1,b=w;y&&(b=intval(y.getAttribute("offs").split("/")[1])+1),(b>5||w<b)&&(y||p.insertBefore(y=ce("a",{className:"wr_header"}),p.firstChild),Wall.updateRepliesHeader(e,y,w,b))}}a.reverse?p.insertBefore(_,p.firstChild):p.appendChild(_)}},deletePost:function(e,t,n,r,o){(cur.wallLayer?wkcur:cur).wallMyDeleted[t]=1;var a=ge("post"+t),i=geByClass1("post_actions",a);ajax.post("al_wall.php",{act:"delete",post:t,hash:n,root:r?1:0,confirm:o?1:0,from:"widget"},{onDone:function(e,o,i){if(i)var s=showFastBox(e,i,getLang("global_delete"),(function(){s.hide(),wall.deletePost(t,n,r,1)}),getLang("box_cancel"));else{o&&"posts"==cur.section&&cur.Rpc&&cur.Rpc.callMethod("publish","widgets.comments.delete_comment",o.count,o.last_comment,o.date,o.full_hash,o.pageId);var l=geByClass1("_post_content",a)||geByClass1("feedback_row_t",a);revertLastInlineVideo(l);var u=ge("post_del"+t);u?(u.innerHTML='<span class="dld_inner">'+e+"</span>",show(u)):a.appendChild(ce("div",{id:"post_del"+t,className:"dld",innerHTML:'<span class="dld_inner">'+e+"</span>"})),hide(l),"post_publish"==domNS(l).className&&hide(domNS(l)),"full_own"==cur.wallType||"full_all"==cur.wallType?(Pagination.recache(-1),FullWall.updateSummary(cur.pgCount)):"full"==cur.wallType&&hasClass(a,"reply")&&(cur.pgOffset--,cur.pgCount--,FullWall.repliesSummary(cur.pgCount)),hasClass(a,"suggest")?Wall.suggestUpdate(-1):hasClass(a,"postponed")||"own"!=cur.wallType&&"all"!=cur.wallType||(hasClass(a,"own")&&++cur.deletedCnts.own,hasClass(a,"all")&&++cur.deletedCnts.all,Wall.update()),WComments.contentUpdated()}},showProgress:function(){hasClass(e,"ui_actions_menu_item")?lockActionsMenuItem(e):hasClass(e,"flat_button")?lockButton(e):addClass(i,"post_actions_progress")},hideProgress:function(){hasClass(e,"ui_actions_menu_item")?unlockActionsMenuItem(e):hasClass(e,"flat_button")?unlockButton(e):removeClass(i,"post_actions_progress")}});var s=ge("delete_post"+t);s&&s.tt&&s.tt.el&&s.tt.destroy()},restorePost:function(e,t,n){return(cur.wallLayer?wkcur:cur).wallMyDeleted[e]=0,ajax.post("al_wall.php",{act:"restore",post:e,hash:t,root:n?1:0,from:"widget"},{onDone:function(t){var n=ge("post_del"+e);if(n){var r=ge("post"+e),o=geByClass1("_post_content",r)||geByClass1("feedback_row_t",r);show(o),"post_publish"==domNS(o).className&&show(domNS(o)),hide(n),"full_own"==cur.wallType||"full_all"==cur.wallType?(Pagination.recache(1),FullWall.updateSummary(cur.pgCount)):"full"==cur.wallType&&hasClass(r,"reply")&&(cur.pgOffset++,cur.pgCount++,FullWall.repliesSummary(cur.pgCount)),hasClass(r,"suggest")?Wall.suggestUpdate(1):hasClass(r,"postponed")||"own"!=cur.wallType&&"all"!=cur.wallType||(hasClass(r,"own")&&--cur.deletedCnts.own,hasClass(r,"all")&&--cur.deletedCnts.all,Wall.update()),WComments.contentUpdated()}}}),!1},postClick:function(e,t,n){var r=(e||"").match(/^(-?\d+)_(wall)?(\d+)$/),o=ge("post"+e);if(n&&n.skipCheck)var a=!0;else a=Wall.checkPostClick(o,t);if(a){if(!0!==a){var i=geByClass1("wall_post_more",a,"a");if(i&&isVisible(i))return i.onclick(),void(r||removeClass(o,"wall_post_over"))}r&&(hasClass(ge("wcomments_posts"),"no_post_click")||window.open("wall"+r[1]+"_"+r[3],"_blank"))}},_repliesLoaded:function(e,t,n,r){var o=ge("replies"+e);if(o){if(t){browser.msie6?pageNode:browser.chrome||browser.safari?bodyNode:htmlNode,o.offsetHeight;cur.options.fixed_height&&cur.scrollbar?cur.scrollbar.updateAbove((function(){o.innerHTML=n})):o.innerHTML=n,setTimeout(Wall.scrollHighlightReply.pbind("post"+t),0)}else o.innerHTML=n;var a=o.nextSibling;a&&"replies_open"==a.className&&re(a),extend(cur.options.reply_names||{},r),Wall.updateMentionsIndex()}},checkTextLen:function(){},checkPostLen:function(){},replySubmitTooltip:function(){},repliesSideSetup:function(){},repliesSideClick:function(){},likesShow:function(e,t,n){n=n||{};var r=wall.parsePostId(t),o=r.type,a=r.id,i=o+a,s=e&&gpeByClass("_post_content",e)||wall.domPost(a),l=n.share?"_share_wrap":"_like_wrap",u=domByClass(s,l),c=domByClass(u,"_icon"),d=s&&domByClass(s,"_share_wrap");if(c&&!cur.viewAsBox){var _=getXY(u)[0],p=getXY(c)[0]+getSize(c,!0)[0]/2-_-56;showTooltip(c.parentNode,{url:"/like.php",params:extend({act:"a_get_stats",object:i,has_share:d?1:""},n.share?{published:1}:{}),slide:15,shift:[-p,-3],ajaxdt:100,showdt:400,hidedt:200,dir:"auto",checkLeft:!0,reverseOffset:80,appendEl:ge("page_wrap"),tip:{over:function(){Wall.likesShow(e,t,n)}},typeClass:"like_tt wcomments_like_tt",className:n.cl||""})}},showReplies:function(e,t,n,r){if(!checkEvent(r||window.event))return cur.viewAsBox?cur.viewAsBox():(cur.wallMyOpened[e]=3!=t,ajax.post("al_wall.php",{act:"get_replies",width:cur.options.width,startWidth:cur.options.startWidth,post:e,count:t,from:"widget"},{onDone:function(){var t=[].slice.call(arguments);t.unshift(e,n),Wall._repliesLoaded.apply(Wall,t),WComments.resizeWidget()},showProgress:lockButton.pbind("wrh"+e),hideProgress:unlockButton.pbind("wrh"+e)}),!1)}}),each(["showEditReply","markAsSpam","stickerClick","likeIt"],(function(e,t){var n;Wall[t]=(n=Wall[t],function(){if(vk.id)return n.apply(Wall,[].slice.call(arguments));Widgets.oauth()})}))}}};try{stManager.done(jsc("api/widgets/comments.js"))}catch(e){}})()})();